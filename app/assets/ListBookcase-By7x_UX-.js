import{d as k,u as f,r as y,o as b,c as t,B as u,S as i,i as _,a as p,I as B,b as s,e as g}from"./index-BuSZVgn_.js";import{u as h}from"./useTRouter-CCvo_iu_.js";import{B as C,a as D}from"./BasicTopBar-DcqeQbzO.js";import{D as S}from"./DeleteConfirmButton-fXO8KsX6.js";import{E as v}from"./Empty-DXsg4bTI.js";import"./Popconfirm-CV85FA8c.js";import"./Popover-BOr3pP7h.js";import"./get-CPK_IcBd.js";const I="_item_kdyye_9",L="_title_kdyye_18",T="_actions_kdyye_21",a={"bookcase-list":"_bookcase-list_kdyye_1",item:I,title:L,actions:T};function d(o){return typeof o=="function"||Object.prototype.toString.call(o)==="[object Object]"&&!_(o)}const M=k({name:"ListBookcase",setup(){const{t:o}=f({useScope:"global"}),{router:c}=h(),n=y([]);function r(){p.bookcase.getBookcases().then(e=>{n.value=e})}b(()=>{r()});const m=()=>n.value.length===0?t(v,{title:o("pages.bookcase.list.empty.title"),description:t(B,{scope:"global",keypath:"pages.bookcase.list.empty.description"},{default:()=>[t(i,{name:"plus"},null)]})},null):t("ul",{class:s(a["bookcase-list"])},[n.value.map(e=>t("li",{class:s(a.item),key:e.id},[t("span",{class:s(a.title)},[e.name]),t("span",{class:s(a.actions)},[t(u,{secondary:!0,circle:!0,onClick:()=>{c.push({path:`/bookcase/edit/${e.id}`})}},{default:()=>[g("👀️")]}),t(S,{secondary:!0,circle:!0,onConfirm:()=>{p.bookcase.deleteBookcase(e.id).then(()=>{r()})}},{default:()=>[t(i,{name:"delete"},null)]})])]))]);return()=>{let e,l;return t(D,{topBar:t(C,{rightSlots:[t(u,{onClick:()=>{c.push({path:"/bookcase/new"})}},{default:()=>[t(i,{name:"plus"},null)]})]},d(e=o("pages.bookcase.list.topbar.title"))?e:{default:()=>[e]})},d(l=m())?l:{default:()=>[l]})}}});export{M as default};
