{"version":3,"file":"index-CpnEUKbM.js","sources":["../../node_modules/.pnpm/vueuc@0.4.64_vue@3.5.12_typescript@5.6.3_/node_modules/vueuc/es/shared/finweck-tree.js","../../node_modules/.pnpm/vueuc@0.4.64_vue@3.5.12_typescript@5.6.3_/node_modules/vueuc/es/virtual-list/src/config.js","../../node_modules/.pnpm/vueuc@0.4.64_vue@3.5.12_typescript@5.6.3_/node_modules/vueuc/es/virtual-list/src/context.js","../../node_modules/.pnpm/vueuc@0.4.64_vue@3.5.12_typescript@5.6.3_/node_modules/vueuc/es/virtual-list/src/xScroll.js","../../node_modules/.pnpm/vueuc@0.4.64_vue@3.5.12_typescript@5.6.3_/node_modules/vueuc/es/virtual-list/src/VirtualListRow.js","../../node_modules/.pnpm/vueuc@0.4.64_vue@3.5.12_typescript@5.6.3_/node_modules/vueuc/es/virtual-list/src/VirtualList.js","../../node_modules/.pnpm/vueuc@0.4.64_vue@3.5.12_typescript@5.6.3_/node_modules/vueuc/es/overflow/src/index.js","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_utils/composable/use-resize.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_utils/naive/attribute.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_utils/vue/merge-handlers.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/icons/Checkmark.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/icons/Empty.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/focus-detector/src/FocusDetector.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/empty/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/empty/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/empty/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/empty/src/Empty.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/select-menu/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/select-menu/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/select-menu/src/SelectGroupHeader.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/select-menu/src/SelectOption.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/select-menu/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/select-menu/src/SelectMenu.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/tag/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/tag/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/tag/src/common-props.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/tag/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/tag/src/Tag.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/selection/styles/_common.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/selection/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/selection/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/_internal/selection/src/Selection.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/select/src/utils.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/select/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/select/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/select/src/Select.mjs","../../node_modules/.pnpm/compressorjs@1.2.1/node_modules/compressorjs/dist/compressor.esm.js","../../src/services/http/utils.ts","../../src/pages/book/bookForm/BookForm.tsx","../../src/services/http/index.ts"],"sourcesContent":["function lowBit(n) {\n    return n & -n;\n}\nexport class FinweckTree {\n    /**\n     * @param l length of the array\n     * @param min min value of the array\n     */\n    constructor(l, min) {\n        this.l = l;\n        this.min = min;\n        const ft = new Array(l + 1);\n        for (let i = 0; i < l + 1; ++i) {\n            ft[i] = 0;\n        }\n        this.ft = ft;\n    }\n    /**\n     * Add arr[i] by n, start from 0\n     * @param i the index of the element to be added\n     * @param n the value to be added\n     */\n    add(i, n) {\n        if (n === 0)\n            return;\n        const { l, ft } = this;\n        i += 1;\n        while (i <= l) {\n            ft[i] += n;\n            i += lowBit(i);\n        }\n    }\n    /**\n     * Get the value of index i\n     * @param i index\n     * @returns value of the index\n     */\n    get(i) {\n        return this.sum(i + 1) - this.sum(i);\n    }\n    /**\n     * Get the sum of first i elements\n     * @param i count of head elements to be added\n     * @returns the sum of first i elements\n     */\n    sum(i) {\n        if (i === undefined)\n            i = this.l;\n        if (i <= 0)\n            return 0;\n        const { ft, min, l } = this;\n        if (i > l)\n            throw new Error('[FinweckTree.sum]: `i` is larger than length.');\n        let ret = i * min;\n        while (i > 0) {\n            ret += ft[i];\n            i -= lowBit(i);\n        }\n        return ret;\n    }\n    /**\n     * Get the largest count of head elements whose sum are <= threshold\n     * @param threshold\n     * @returns the largest count of head elements whose sum are <= threshold\n     */\n    getBound(threshold) {\n        let l = 0;\n        let r = this.l;\n        while (r > l) {\n            const m = Math.floor((l + r) / 2);\n            const sumM = this.sum(m);\n            if (sumM > threshold) {\n                r = m;\n                continue;\n            }\n            else if (sumM < threshold) {\n                if (l === m) {\n                    if (this.sum(l + 1) <= threshold)\n                        return l + 1;\n                    return m;\n                }\n                l = m;\n            }\n            else {\n                return m;\n            }\n        }\n        return l;\n    }\n}\n","let maybeTouch;\nexport function ensureMaybeTouch() {\n    if (typeof document === 'undefined')\n        return false;\n    if (maybeTouch === undefined) {\n        if ('matchMedia' in window) {\n            maybeTouch = window.matchMedia('(pointer:coarse)').matches;\n        }\n        else {\n            maybeTouch = false;\n        }\n    }\n    return maybeTouch;\n}\nlet wheelScale;\nexport function ensureWheelScale() {\n    if (typeof document === 'undefined')\n        return 1;\n    if (wheelScale === undefined) {\n        wheelScale = 'chrome' in window ? window.devicePixelRatio : 1;\n    }\n    return wheelScale;\n}\n","export const xScrollInjextionKey = 'VVirtualListXScroll';\n","import { computed, provide, ref } from 'vue';\nimport { useMemo } from 'vooks';\nimport { FinweckTree } from '../../shared';\nimport { xScrollInjextionKey } from './context';\nexport function setupXScroll({ columnsRef, renderColRef, renderItemWithColsRef }) {\n    const listWidthRef = ref(0);\n    const scrollLeftRef = ref(0);\n    const xFinweckTreeRef = computed(() => {\n        const columns = columnsRef.value;\n        if (columns.length === 0) {\n            return null;\n        }\n        const ft = new FinweckTree(columns.length, 0);\n        columns.forEach((column, index) => {\n            ft.add(index, column.width);\n        });\n        return ft;\n    });\n    const startIndexRef = useMemo(() => {\n        const xFinweckTree = xFinweckTreeRef.value;\n        if (xFinweckTree !== null) {\n            return Math.max(xFinweckTree.getBound(scrollLeftRef.value) - 1, 0);\n        }\n        else {\n            return 0;\n        }\n    });\n    const getLeft = (index) => {\n        const xFinweckTree = xFinweckTreeRef.value;\n        if (xFinweckTree !== null) {\n            return xFinweckTree.sum(index);\n        }\n        else {\n            return 0;\n        }\n    };\n    const endIndexRef = useMemo(() => {\n        const xFinweckTree = xFinweckTreeRef.value;\n        if (xFinweckTree !== null) {\n            return Math.min(xFinweckTree.getBound(scrollLeftRef.value + listWidthRef.value) + 1, columnsRef.value.length - 1);\n        }\n        else {\n            return 0;\n        }\n    });\n    provide(xScrollInjextionKey, {\n        startIndexRef,\n        endIndexRef,\n        columnsRef,\n        renderColRef,\n        renderItemWithColsRef,\n        getLeft\n    });\n    return {\n        listWidthRef,\n        scrollLeftRef\n    };\n}\n","import { defineComponent, inject } from 'vue';\nimport { xScrollInjextionKey } from './context';\nexport const VirtualListRow = defineComponent({\n    name: 'VirtualListRow',\n    props: {\n        index: { type: Number, required: true },\n        item: {\n            type: Object,\n            required: true\n        }\n    },\n    setup() {\n        const { startIndexRef, endIndexRef, columnsRef, getLeft, renderColRef, renderItemWithColsRef } = \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        inject(xScrollInjextionKey);\n        return {\n            startIndex: startIndexRef,\n            endIndex: endIndexRef,\n            columns: columnsRef,\n            renderCol: renderColRef,\n            renderItemWithCols: renderItemWithColsRef,\n            getLeft\n        };\n    },\n    render() {\n        const { startIndex, endIndex, columns, renderCol, renderItemWithCols, getLeft, item } = this;\n        if (renderItemWithCols != null) {\n            return renderItemWithCols({\n                itemIndex: this.index,\n                startColIndex: startIndex,\n                endColIndex: endIndex,\n                allColumns: columns,\n                item,\n                getLeft\n            });\n        }\n        if (renderCol != null) {\n            const items = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                const column = columns[i];\n                items.push(renderCol({ column, left: getLeft(i), item }));\n            }\n            return items;\n        }\n        return null;\n    }\n});\n","/* eslint-disable no-void */\n/* eslint-disable @typescript-eslint/restrict-plus-operands */\nimport { mergeProps, computed, defineComponent, ref, onMounted, h, onActivated, onDeactivated, toRef } from 'vue';\nimport { beforeNextFrameOnce, depx, pxfy } from 'seemly';\nimport { useMemo } from 'vooks';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport VResizeObserver from '../../resize-observer/src/VResizeObserver';\nimport { c, cssrAnchorMetaName, FinweckTree } from '../../shared';\nimport { ensureMaybeTouch, ensureWheelScale } from './config';\nimport { setupXScroll } from './xScroll';\nimport { VirtualListRow } from './VirtualListRow';\nconst styles = c('.v-vl', {\n    maxHeight: 'inherit',\n    height: '100%',\n    overflow: 'auto',\n    minWidth: '1px' // a zero width container won't be scrollable\n}, [\n    c('&:not(.v-vl--show-scrollbar)', {\n        scrollbarWidth: 'none'\n    }, [\n        c('&::-webkit-scrollbar, &::-webkit-scrollbar-track-piece, &::-webkit-scrollbar-thumb', {\n            width: 0,\n            height: 0,\n            display: 'none'\n        })\n    ])\n]);\nexport default defineComponent({\n    name: 'VirtualList',\n    inheritAttrs: false,\n    props: {\n        showScrollbar: {\n            type: Boolean,\n            default: true\n        },\n        columns: {\n            type: Array,\n            default: () => []\n        },\n        renderCol: Function,\n        renderItemWithCols: Function,\n        items: {\n            type: Array,\n            default: () => []\n        },\n        // it is suppose to be the min height\n        itemSize: {\n            type: Number,\n            required: true\n        },\n        itemResizable: Boolean,\n        itemsStyle: [String, Object],\n        visibleItemsTag: {\n            type: [String, Object],\n            default: 'div'\n        },\n        visibleItemsProps: Object,\n        ignoreItemResize: Boolean,\n        onScroll: Function,\n        onWheel: Function,\n        onResize: Function,\n        defaultScrollKey: [Number, String],\n        defaultScrollIndex: Number,\n        keyField: {\n            type: String,\n            default: 'key'\n        },\n        // Whether it is a good API?\n        // ResizeObserver + footer & header is not enough.\n        // Too complex for simple case\n        paddingTop: {\n            type: [Number, String],\n            default: 0\n        },\n        paddingBottom: {\n            type: [Number, String],\n            default: 0\n        }\n    },\n    setup(props) {\n        const ssrAdapter = useSsrAdapter();\n        styles.mount({\n            id: 'vueuc/virtual-list',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => {\n            const { defaultScrollIndex, defaultScrollKey } = props;\n            if (defaultScrollIndex !== undefined && defaultScrollIndex !== null) {\n                scrollTo({ index: defaultScrollIndex });\n            }\n            else if (defaultScrollKey !== undefined && defaultScrollKey !== null) {\n                scrollTo({ key: defaultScrollKey });\n            }\n        });\n        let isDeactivated = false;\n        let activateStateInitialized = false;\n        onActivated(() => {\n            isDeactivated = false;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n                return;\n            }\n            // remount\n            scrollTo({ top: scrollTopRef.value, left: scrollLeftRef.value });\n        });\n        onDeactivated(() => {\n            isDeactivated = true;\n            if (!activateStateInitialized) {\n                activateStateInitialized = true;\n            }\n        });\n        const totalWidthRef = useMemo(() => {\n            if (props.renderCol == null && props.renderItemWithCols == null) {\n                return undefined;\n            }\n            if (props.columns.length === 0)\n                return undefined;\n            let width = 0;\n            props.columns.forEach((column) => {\n                width += column.width;\n            });\n            return width;\n        });\n        const keyIndexMapRef = computed(() => {\n            const map = new Map();\n            const { keyField } = props;\n            props.items.forEach((item, index) => {\n                map.set(item[keyField], index);\n            });\n            return map;\n        });\n        const { scrollLeftRef, listWidthRef } = setupXScroll({\n            columnsRef: toRef(props, 'columns'),\n            renderColRef: toRef(props, 'renderCol'),\n            renderItemWithColsRef: toRef(props, 'renderItemWithCols')\n        });\n        const listElRef = ref(null);\n        const listHeightRef = ref(undefined);\n        const keyToHeightOffset = new Map();\n        const finweckTreeRef = computed(() => {\n            const { items, itemSize, keyField } = props;\n            const ft = new FinweckTree(items.length, itemSize);\n            items.forEach((item, index) => {\n                const key = item[keyField];\n                const heightOffset = keyToHeightOffset.get(key);\n                if (heightOffset !== undefined) {\n                    ft.add(index, heightOffset);\n                }\n            });\n            return ft;\n        });\n        const finweckTreeUpdateTrigger = ref(0);\n        const scrollTopRef = ref(0);\n        const startIndexRef = useMemo(() => {\n            return Math.max(finweckTreeRef.value.getBound(scrollTopRef.value - depx(props.paddingTop)) - 1, 0);\n        });\n        const viewportItemsRef = computed(() => {\n            const { value: listHeight } = listHeightRef;\n            if (listHeight === undefined)\n                return [];\n            const { items, itemSize } = props;\n            const startIndex = startIndexRef.value;\n            const endIndex = Math.min(startIndex + Math.ceil(listHeight / itemSize + 1), items.length - 1);\n            const viewportItems = [];\n            for (let i = startIndex; i <= endIndex; ++i) {\n                viewportItems.push(items[i]);\n            }\n            return viewportItems;\n        });\n        const scrollTo = (options, y) => {\n            if (typeof options === 'number') {\n                scrollToPosition(options, y, 'auto');\n                return;\n            }\n            const { left, top, index, key, position, behavior, debounce = true } = options;\n            if (left !== undefined || top !== undefined) {\n                scrollToPosition(left, top, behavior);\n            }\n            else if (index !== undefined) {\n                scrollToIndex(index, behavior, debounce);\n            }\n            else if (key !== undefined) {\n                const toIndex = keyIndexMapRef.value.get(key);\n                if (toIndex !== undefined)\n                    scrollToIndex(toIndex, behavior, debounce);\n            }\n            else if (position === 'bottom') {\n                scrollToPosition(0, Number.MAX_SAFE_INTEGER, behavior);\n            }\n            else if (position === 'top') {\n                scrollToPosition(0, 0, behavior);\n            }\n        };\n        let anchorIndex;\n        let anchorTimerId = null;\n        function scrollToIndex(index, behavior, debounce) {\n            const { value: ft } = finweckTreeRef;\n            const targetTop = ft.sum(index) + depx(props.paddingTop);\n            if (!debounce) {\n                listElRef.value.scrollTo({\n                    left: 0,\n                    top: targetTop,\n                    behavior\n                });\n            }\n            else {\n                anchorIndex = index;\n                if (anchorTimerId !== null) {\n                    window.clearTimeout(anchorTimerId);\n                }\n                anchorTimerId = window.setTimeout(() => {\n                    anchorIndex = undefined;\n                    anchorTimerId = null;\n                }, 16); // use 0 ms may be ealier than resize callback...\n                const { scrollTop, offsetHeight } = listElRef.value;\n                if (targetTop > scrollTop) {\n                    const itemSize = ft.get(index);\n                    if (targetTop + itemSize <= scrollTop + offsetHeight) {\n                        // do nothing\n                    }\n                    else {\n                        listElRef.value.scrollTo({\n                            left: 0,\n                            top: targetTop + itemSize - offsetHeight,\n                            behavior\n                        });\n                    }\n                }\n                else {\n                    listElRef.value.scrollTo({\n                        left: 0,\n                        top: targetTop,\n                        behavior\n                    });\n                }\n            }\n        }\n        function scrollToPosition(left, top, behavior) {\n            listElRef.value.scrollTo({\n                left,\n                top,\n                behavior\n            });\n        }\n        function handleItemResize(key, entry) {\n            var _a, _b, _c;\n            if (isDeactivated)\n                return;\n            if (props.ignoreItemResize)\n                return;\n            if (isHideByVShow(entry.target))\n                return;\n            const { value: ft } = finweckTreeRef;\n            const index = keyIndexMapRef.value.get(key);\n            const previousHeight = ft.get(index);\n            const height = (_c = (_b = (_a = entry.borderBoxSize) === null || _a === void 0 ? void 0 : _a[0]) === null || _b === void 0 ? void 0 : _b.blockSize) !== null && _c !== void 0 ? _c : entry.contentRect.height;\n            if (height === previousHeight)\n                return;\n            // height offset based on itemSize\n            // used when rebuild the finweck tree\n            const offset = height - props.itemSize;\n            if (offset === 0) {\n                keyToHeightOffset.delete(key);\n            }\n            else {\n                keyToHeightOffset.set(key, height - props.itemSize);\n            }\n            // delta height based on finweck tree data\n            const delta = height - previousHeight;\n            if (delta === 0)\n                return;\n            ft.add(index, delta);\n            const listEl = listElRef.value;\n            if (listEl != null) {\n                if (anchorIndex === undefined) {\n                    const previousHeightSum = ft.sum(index);\n                    if (listEl.scrollTop > previousHeightSum) {\n                        listEl.scrollBy(0, delta);\n                    }\n                }\n                else {\n                    if (index < anchorIndex) {\n                        listEl.scrollBy(0, delta);\n                    }\n                    else if (index === anchorIndex) {\n                        const previousHeightSum = ft.sum(index);\n                        if (height + previousHeightSum >\n                            // Note, listEl shouldn't have border, nor offsetHeight won't be\n                            // correct\n                            listEl.scrollTop + listEl.offsetHeight) {\n                            listEl.scrollBy(0, delta);\n                        }\n                    }\n                }\n                syncViewport();\n            }\n            finweckTreeUpdateTrigger.value++;\n        }\n        const mayUseWheel = !ensureMaybeTouch();\n        let wheelCatched = false;\n        function handleListScroll(e) {\n            var _a;\n            (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (!mayUseWheel || !wheelCatched) {\n                syncViewport();\n            }\n        }\n        function handleListWheel(e) {\n            var _a;\n            (_a = props.onWheel) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            if (mayUseWheel) {\n                const listEl = listElRef.value;\n                if (listEl != null) {\n                    if (e.deltaX === 0) {\n                        if (listEl.scrollTop === 0 && e.deltaY <= 0) {\n                            return;\n                        }\n                        if (listEl.scrollTop + listEl.offsetHeight >= listEl.scrollHeight &&\n                            e.deltaY >= 0) {\n                            return;\n                        }\n                    }\n                    e.preventDefault();\n                    listEl.scrollTop += e.deltaY / ensureWheelScale();\n                    listEl.scrollLeft += e.deltaX / ensureWheelScale();\n                    syncViewport();\n                    wheelCatched = true;\n                    beforeNextFrameOnce(() => {\n                        wheelCatched = false;\n                    });\n                }\n            }\n        }\n        function handleListResize(entry) {\n            if (isDeactivated)\n                return;\n            // List is HTMLElement\n            if (isHideByVShow(entry.target))\n                return;\n            // If height is same, return\n            if (props.renderCol == null && props.renderItemWithCols == null) {\n                if (entry.contentRect.height === listHeightRef.value)\n                    return;\n            }\n            else {\n                if (entry.contentRect.height === listHeightRef.value &&\n                    entry.contentRect.width === listWidthRef.value) {\n                    return;\n                }\n            }\n            listHeightRef.value = entry.contentRect.height;\n            listWidthRef.value = entry.contentRect.width;\n            const { onResize } = props;\n            if (onResize !== undefined)\n                onResize(entry);\n        }\n        function syncViewport() {\n            const { value: listEl } = listElRef;\n            // sometime ref el can be null\n            // https://github.com/TuSimple/naive-ui/issues/811\n            if (listEl == null)\n                return;\n            scrollTopRef.value = listEl.scrollTop;\n            scrollLeftRef.value = listEl.scrollLeft;\n        }\n        function isHideByVShow(el) {\n            let cursor = el;\n            while (cursor !== null) {\n                if (cursor.style.display === 'none')\n                    return true;\n                cursor = cursor.parentElement;\n            }\n            return false;\n        }\n        return {\n            listHeight: listHeightRef,\n            listStyle: {\n                overflow: 'auto'\n            },\n            keyToIndex: keyIndexMapRef,\n            itemsStyle: computed(() => {\n                const { itemResizable } = props;\n                const height = pxfy(finweckTreeRef.value.sum());\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return [\n                    props.itemsStyle,\n                    {\n                        boxSizing: 'content-box',\n                        width: pxfy(totalWidthRef.value),\n                        height: itemResizable ? '' : height,\n                        minHeight: itemResizable ? height : '',\n                        paddingTop: pxfy(props.paddingTop),\n                        paddingBottom: pxfy(props.paddingBottom)\n                    }\n                ];\n            }),\n            visibleItemsStyle: computed(() => {\n                // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n                finweckTreeUpdateTrigger.value;\n                return {\n                    transform: `translateY(${pxfy(finweckTreeRef.value.sum(startIndexRef.value))})`\n                };\n            }),\n            viewportItems: viewportItemsRef,\n            listElRef,\n            itemsElRef: ref(null),\n            scrollTo,\n            handleListResize,\n            handleListScroll,\n            handleListWheel,\n            handleItemResize\n        };\n    },\n    render() {\n        const { itemResizable, keyField, keyToIndex, visibleItemsTag } = this;\n        return h(VResizeObserver, {\n            onResize: this.handleListResize\n        }, {\n            default: () => {\n                var _a, _b;\n                return h('div', mergeProps(this.$attrs, {\n                    class: ['v-vl', this.showScrollbar && 'v-vl--show-scrollbar'],\n                    onScroll: this.handleListScroll,\n                    onWheel: this.handleListWheel,\n                    ref: 'listElRef'\n                }), [\n                    this.items.length !== 0\n                        ? h('div', {\n                            ref: 'itemsElRef',\n                            class: 'v-vl-items',\n                            style: this.itemsStyle\n                        }, [\n                            h(visibleItemsTag, Object.assign({\n                                class: 'v-vl-visible-items',\n                                style: this.visibleItemsStyle\n                            }, this.visibleItemsProps), {\n                                default: () => {\n                                    const { renderCol, renderItemWithCols } = this;\n                                    return this.viewportItems.map((item) => {\n                                        const key = item[keyField];\n                                        const index = keyToIndex.get(key);\n                                        const renderedCols = renderCol != null\n                                            ? h(VirtualListRow, {\n                                                index,\n                                                item\n                                            })\n                                            : undefined;\n                                        const renderedItemWithCols = renderItemWithCols != null\n                                            ? h(VirtualListRow, {\n                                                index,\n                                                item\n                                            })\n                                            : undefined;\n                                        const itemVNode = this.$slots.default({\n                                            item,\n                                            renderedCols,\n                                            renderedItemWithCols,\n                                            index\n                                        })[0];\n                                        if (itemResizable) {\n                                            return h(VResizeObserver, {\n                                                key,\n                                                onResize: (entry) => this.handleItemResize(key, entry)\n                                            }, {\n                                                default: () => itemVNode\n                                            });\n                                        }\n                                        itemVNode.key = key;\n                                        return itemVNode;\n                                    });\n                                }\n                            })\n                        ])\n                        : (_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)\n                ]);\n            }\n        });\n    }\n});\n","/* eslint-disable @typescript-eslint/strict-boolean-expressions */\nimport { defineComponent, renderSlot, h, onMounted, ref, nextTick } from 'vue';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport { c, cssrAnchorMetaName } from '../../shared';\nconst hiddenAttr = 'v-hidden';\nconst style = c('[v-hidden]', {\n    display: 'none!important'\n});\nexport default defineComponent({\n    name: 'Overflow',\n    props: {\n        getCounter: Function,\n        getTail: Function,\n        updateCounter: Function,\n        onUpdateCount: Function,\n        onUpdateOverflow: Function\n    },\n    setup(props, { slots }) {\n        const selfRef = ref(null);\n        const counterRef = ref(null);\n        function deriveCounter(options) {\n            const { value: self } = selfRef;\n            const { getCounter, getTail } = props;\n            let counter;\n            if (getCounter !== undefined)\n                counter = getCounter();\n            else {\n                counter = counterRef.value;\n            }\n            if (!self || !counter)\n                return;\n            if (counter.hasAttribute(hiddenAttr)) {\n                counter.removeAttribute(hiddenAttr);\n            }\n            const { children } = self;\n            if (options.showAllItemsBeforeCalculate) {\n                for (const child of children) {\n                    if (child.hasAttribute(hiddenAttr)) {\n                        child.removeAttribute(hiddenAttr);\n                    }\n                }\n            }\n            const containerWidth = self.offsetWidth;\n            const childWidths = [];\n            const tail = slots.tail ? getTail === null || getTail === void 0 ? void 0 : getTail() : null;\n            let childWidthSum = tail ? tail.offsetWidth : 0;\n            let overflow = false;\n            const len = self.children.length - (slots.tail ? 1 : 0);\n            for (let i = 0; i < len - 1; ++i) {\n                if (i < 0)\n                    continue;\n                const child = children[i];\n                if (overflow) {\n                    if (!child.hasAttribute(hiddenAttr)) {\n                        child.setAttribute(hiddenAttr, '');\n                    }\n                    continue;\n                }\n                else if (child.hasAttribute(hiddenAttr)) {\n                    child.removeAttribute(hiddenAttr);\n                }\n                const childWidth = child.offsetWidth;\n                childWidthSum += childWidth;\n                childWidths[i] = childWidth;\n                if (childWidthSum > containerWidth) {\n                    const { updateCounter } = props;\n                    for (let j = i; j >= 0; --j) {\n                        const restCount = len - 1 - j;\n                        if (updateCounter !== undefined) {\n                            updateCounter(restCount);\n                        }\n                        else {\n                            counter.textContent = `${restCount}`;\n                        }\n                        const counterWidth = counter.offsetWidth;\n                        childWidthSum -= childWidths[j];\n                        if (childWidthSum + counterWidth <= containerWidth || j === 0) {\n                            overflow = true;\n                            i = j - 1;\n                            if (tail) {\n                                // tail too long or 1st element too long\n                                // we only consider tail now\n                                if (i === -1) {\n                                    tail.style.maxWidth = `${containerWidth - counterWidth}px`;\n                                    tail.style.boxSizing = 'border-box';\n                                }\n                                else {\n                                    tail.style.maxWidth = '';\n                                }\n                            }\n                            const { onUpdateCount } = props;\n                            if (onUpdateCount)\n                                onUpdateCount(restCount);\n                            break;\n                        }\n                    }\n                }\n            }\n            const { onUpdateOverflow } = props;\n            if (!overflow) {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(false);\n                }\n                counter.setAttribute(hiddenAttr, '');\n            }\n            else {\n                if (onUpdateOverflow !== undefined) {\n                    onUpdateOverflow(true);\n                }\n            }\n        }\n        const ssrAdapter = useSsrAdapter();\n        style.mount({\n            id: 'vueuc/overflow',\n            head: true,\n            anchorMetaName: cssrAnchorMetaName,\n            ssr: ssrAdapter\n        });\n        onMounted(() => deriveCounter({\n            showAllItemsBeforeCalculate: false\n        }));\n        // besides onMounted, other case should be manually triggered, or we shoud watch items\n        return {\n            selfRef,\n            counterRef,\n            sync: deriveCounter\n        };\n    },\n    render() {\n        const { $slots } = this;\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        nextTick(() => this.sync({\n            showAllItemsBeforeCalculate: false\n        }));\n        // It shouldn't have border\n        return h('div', {\n            class: 'v-overflow',\n            ref: 'selfRef'\n        }, [\n            renderSlot($slots, 'default'),\n            // $slots.counter should only has 1 element\n            $slots.counter\n                ? $slots.counter()\n                : h('span', {\n                    style: {\n                        display: 'inline-block'\n                    },\n                    ref: 'counterRef'\n                }),\n            // $slots.tail should only has 1 element\n            $slots.tail ? $slots.tail() : null\n        ]);\n    }\n});\n","import { onBeforeUnmount, onMounted, watch } from 'vue';\nimport { resizeObserverManager } from 'vueuc';\nexport function useOnResize(elRef, onResize) {\n  // it needn't be reactive since it's for internal usage\n  if (onResize) {\n    onMounted(() => {\n      const {\n        value: el\n      } = elRef;\n      if (el) {\n        resizeObserverManager.registerHandler(el, onResize);\n      }\n    });\n    // avoid memory leak\n    watch(elRef, (_, oldEl) => {\n      if (oldEl) {\n        resizeObserverManager.unregisterHandler(oldEl);\n      }\n    }, {\n      deep: false\n    });\n    onBeforeUnmount(() => {\n      const {\n        value: el\n      } = elRef;\n      if (el) {\n        resizeObserverManager.unregisterHandler(el);\n      }\n    });\n  }\n}","export function getTitleAttribute(value) {\n  switch (typeof value) {\n    case 'string':\n      // The empty string should also be reset to undefined.\n      return value || undefined;\n    case 'number':\n      return String(value);\n    default:\n      return undefined;\n  }\n}","export function mergeEventHandlers(handlers) {\n  const filteredHandlers = handlers.filter(handler => handler !== undefined);\n  if (filteredHandlers.length === 0) return undefined;\n  if (filteredHandlers.length === 1) return filteredHandlers[0];\n  return e => {\n    handlers.forEach(handler => {\n      if (handler) {\n        handler(e);\n      }\n    });\n  };\n}","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n  name: 'Checkmark',\n  render() {\n    return h(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      viewBox: \"0 0 16 16\"\n    }, h(\"g\", {\n      fill: \"none\"\n    }, h(\"path\", {\n      d: \"M14.046 3.486a.75.75 0 0 1-.032 1.06l-7.93 7.474a.85.85 0 0 1-1.188-.022l-2.68-2.72a.75.75 0 1 1 1.068-1.053l2.234 2.267l7.468-7.038a.75.75 0 0 1 1.06.032z\",\n      fill: \"currentColor\"\n    })));\n  }\n});","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n  name: 'Empty',\n  render() {\n    return h(\"svg\", {\n      viewBox: \"0 0 28 28\",\n      fill: \"none\",\n      xmlns: \"http://www.w3.org/2000/svg\"\n    }, h(\"path\", {\n      d: \"M26 7.5C26 11.0899 23.0899 14 19.5 14C15.9101 14 13 11.0899 13 7.5C13 3.91015 15.9101 1 19.5 1C23.0899 1 26 3.91015 26 7.5ZM16.8536 4.14645C16.6583 3.95118 16.3417 3.95118 16.1464 4.14645C15.9512 4.34171 15.9512 4.65829 16.1464 4.85355L18.7929 7.5L16.1464 10.1464C15.9512 10.3417 15.9512 10.6583 16.1464 10.8536C16.3417 11.0488 16.6583 11.0488 16.8536 10.8536L19.5 8.20711L22.1464 10.8536C22.3417 11.0488 22.6583 11.0488 22.8536 10.8536C23.0488 10.6583 23.0488 10.3417 22.8536 10.1464L20.2071 7.5L22.8536 4.85355C23.0488 4.65829 23.0488 4.34171 22.8536 4.14645C22.6583 3.95118 22.3417 3.95118 22.1464 4.14645L19.5 6.79289L16.8536 4.14645Z\",\n      fill: \"currentColor\"\n    }), h(\"path\", {\n      d: \"M25 22.75V12.5991C24.5572 13.0765 24.053 13.4961 23.5 13.8454V16H17.5L17.3982 16.0068C17.0322 16.0565 16.75 16.3703 16.75 16.75C16.75 18.2688 15.5188 19.5 14 19.5C12.4812 19.5 11.25 18.2688 11.25 16.75L11.2432 16.6482C11.1935 16.2822 10.8797 16 10.5 16H4.5V7.25C4.5 6.2835 5.2835 5.5 6.25 5.5H12.2696C12.4146 4.97463 12.6153 4.47237 12.865 4H6.25C4.45507 4 3 5.45507 3 7.25V22.75C3 24.5449 4.45507 26 6.25 26H21.75C23.5449 26 25 24.5449 25 22.75ZM4.5 22.75V17.5H9.81597L9.85751 17.7041C10.2905 19.5919 11.9808 21 14 21L14.215 20.9947C16.2095 20.8953 17.842 19.4209 18.184 17.5H23.5V22.75C23.5 23.7165 22.7165 24.5 21.75 24.5H6.25C5.2835 24.5 4.5 23.7165 4.5 22.75Z\",\n      fill: \"currentColor\"\n    }));\n  }\n});","import { defineComponent, h } from 'vue';\nexport default defineComponent({\n  props: {\n    onFocus: Function,\n    onBlur: Function\n  },\n  setup(props) {\n    return () => h(\"div\", {\n      style: \"width: 0; height: 0\",\n      tabindex: 0,\n      onFocus: props.onFocus,\n      onBlur: props.onBlur\n    });\n  }\n});","export default {\n  iconSizeTiny: '28px',\n  iconSizeSmall: '34px',\n  iconSizeMedium: '40px',\n  iconSizeLarge: '46px',\n  iconSizeHuge: '52px'\n};","import { commonLight } from \"../../_styles/common/index.mjs\";\nimport commonVars from \"./_common.mjs\";\nexport function self(vars) {\n  const {\n    textColorDisabled,\n    iconColor,\n    textColor2,\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    fontSizeHuge\n  } = vars;\n  return Object.assign(Object.assign({}, commonVars), {\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    fontSizeHuge,\n    textColor: textColorDisabled,\n    iconColor,\n    extraTextColor: textColor2\n  });\n}\nconst emptyLight = {\n  name: 'Empty',\n  common: commonLight,\n  self\n};\nexport default emptyLight;","import { c, cB, cE } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-font-size\n// --n-icon-size\n// --n-icon-color\n// --n-bezier\n// --n-text-color\n// --n-extra-text-color\nexport default cB('empty', `\n display: flex;\n flex-direction: column;\n align-items: center;\n font-size: var(--n-font-size);\n`, [cE('icon', `\n width: var(--n-icon-size);\n height: var(--n-icon-size);\n font-size: var(--n-icon-size);\n line-height: var(--n-icon-size);\n color: var(--n-icon-color);\n transition:\n color .3s var(--n-bezier);\n `, [c('+', [cE('description', `\n margin-top: 8px;\n `)])]), cE('description', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n `), cE('extra', `\n text-align: center;\n transition: color .3s var(--n-bezier);\n margin-top: 12px;\n color: var(--n-extra-text-color);\n `)]);","import { computed, defineComponent, h } from 'vue';\nimport { NBaseIcon } from \"../../_internal/icon/index.mjs\";\nimport { EmptyIcon } from \"../../_internal/icons/index.mjs\";\nimport { useConfig, useLocale, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { createKey } from \"../../_utils/index.mjs\";\nimport { emptyLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const emptyProps = Object.assign(Object.assign({}, useTheme.props), {\n  description: String,\n  showDescription: {\n    type: Boolean,\n    default: true\n  },\n  showIcon: {\n    type: Boolean,\n    default: true\n  },\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  renderIcon: Function\n});\nexport default defineComponent({\n  name: 'Empty',\n  props: emptyProps,\n  slots: Object,\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedComponentPropsRef\n    } = useConfig(props);\n    const themeRef = useTheme('Empty', '-empty', style, emptyLight, props, mergedClsPrefixRef);\n    const {\n      localeRef\n    } = useLocale('Empty');\n    const mergedDescriptionRef = computed(() => {\n      var _a, _b, _c;\n      return (_a = props.description) !== null && _a !== void 0 ? _a : (_c = (_b = mergedComponentPropsRef === null || mergedComponentPropsRef === void 0 ? void 0 : mergedComponentPropsRef.value) === null || _b === void 0 ? void 0 : _b.Empty) === null || _c === void 0 ? void 0 : _c.description;\n    });\n    const mergedRenderIconRef = computed(() => {\n      var _a, _b;\n      return ((_b = (_a = mergedComponentPropsRef === null || mergedComponentPropsRef === void 0 ? void 0 : mergedComponentPropsRef.value) === null || _a === void 0 ? void 0 : _a.Empty) === null || _b === void 0 ? void 0 : _b.renderIcon) || (() => h(EmptyIcon, null));\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          [createKey('iconSize', size)]: iconSize,\n          [createKey('fontSize', size)]: fontSize,\n          textColor,\n          iconColor,\n          extraTextColor\n        }\n      } = themeRef.value;\n      return {\n        '--n-icon-size': iconSize,\n        '--n-font-size': fontSize,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-text-color': textColor,\n        '--n-icon-color': iconColor,\n        '--n-extra-text-color': extraTextColor\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('empty', computed(() => {\n      let hash = '';\n      const {\n        size\n      } = props;\n      hash += size[0];\n      return hash;\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedRenderIcon: mergedRenderIconRef,\n      localizedDescription: computed(() => {\n        return mergedDescriptionRef.value || localeRef.value.description;\n      }),\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      $slots,\n      mergedClsPrefix,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-empty`, this.themeClass],\n      style: this.cssVars\n    }, this.showIcon ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__icon`\n    }, $slots.icon ? $slots.icon() : h(NBaseIcon, {\n      clsPrefix: mergedClsPrefix\n    }, {\n      default: this.mergedRenderIcon\n    })) : null, this.showDescription ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__description`\n    }, $slots.default ? $slots.default() : this.localizedDescription) : null, $slots.extra ? h(\"div\", {\n      class: `${mergedClsPrefix}-empty__extra`\n    }, $slots.extra()) : null);\n  }\n});","export default {\n  height: 'calc(var(--n-option-height) * 7.6)',\n  paddingTiny: '4px 0',\n  paddingSmall: '4px 0',\n  paddingMedium: '4px 0',\n  paddingLarge: '4px 0',\n  paddingHuge: '4px 0',\n  optionPaddingTiny: '0 12px',\n  optionPaddingSmall: '0 12px',\n  optionPaddingMedium: '0 12px',\n  optionPaddingLarge: '0 12px',\n  optionPaddingHuge: '0 12px',\n  loadingSize: '18px'\n};","import { createTheme } from \"../../../_mixins/index.mjs\";\nimport { commonLight } from \"../../../_styles/common/index.mjs\";\nimport { emptyLight } from \"../../../empty/styles/index.mjs\";\nimport { scrollbarLight } from \"../../scrollbar/styles/index.mjs\";\nimport commonVariables from \"./_common.mjs\";\nexport function self(vars) {\n  const {\n    borderRadius,\n    popoverColor,\n    textColor3,\n    dividerColor,\n    textColor2,\n    primaryColorPressed,\n    textColorDisabled,\n    primaryColor,\n    opacityDisabled,\n    hoverColor,\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    fontSizeHuge,\n    heightTiny,\n    heightSmall,\n    heightMedium,\n    heightLarge,\n    heightHuge\n  } = vars;\n  return Object.assign(Object.assign({}, commonVariables), {\n    optionFontSizeTiny: fontSizeTiny,\n    optionFontSizeSmall: fontSizeSmall,\n    optionFontSizeMedium: fontSizeMedium,\n    optionFontSizeLarge: fontSizeLarge,\n    optionFontSizeHuge: fontSizeHuge,\n    optionHeightTiny: heightTiny,\n    optionHeightSmall: heightSmall,\n    optionHeightMedium: heightMedium,\n    optionHeightLarge: heightLarge,\n    optionHeightHuge: heightHuge,\n    borderRadius,\n    color: popoverColor,\n    groupHeaderTextColor: textColor3,\n    actionDividerColor: dividerColor,\n    optionTextColor: textColor2,\n    optionTextColorPressed: primaryColorPressed,\n    optionTextColorDisabled: textColorDisabled,\n    optionTextColorActive: primaryColor,\n    optionOpacityDisabled: opacityDisabled,\n    optionCheckColor: primaryColor,\n    optionColorPending: hoverColor,\n    optionColorActive: 'rgba(0, 0, 0, 0)',\n    optionColorActivePending: hoverColor,\n    actionTextColor: textColor2,\n    loadingColor: primaryColor\n  });\n}\nconst internalSelectMenuLight = createTheme({\n  name: 'InternalSelectMenu',\n  common: commonLight,\n  peers: {\n    Scrollbar: scrollbarLight,\n    Empty: emptyLight\n  },\n  self\n});\nexport default internalSelectMenuLight;","import { defineComponent, h, inject } from 'vue';\nimport { render } from \"../../../_utils/index.mjs\";\nimport { internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nexport default defineComponent({\n  name: 'NBaseSelectGroupHeader',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    }\n  },\n  setup() {\n    const {\n      renderLabelRef,\n      renderOptionRef,\n      labelFieldRef,\n      nodePropsRef\n    } = inject(internalSelectionMenuInjectionKey);\n    return {\n      labelField: labelFieldRef,\n      nodeProps: nodePropsRef,\n      renderLabel: renderLabelRef,\n      renderOption: renderOptionRef\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      renderLabel,\n      renderOption,\n      nodeProps,\n      tmNode: {\n        rawNode\n      }\n    } = this;\n    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const children = renderLabel ? renderLabel(rawNode, false) : render(rawNode[this.labelField], rawNode, false);\n    const node = h(\"div\", Object.assign({}, attrs, {\n      class: [`${clsPrefix}-base-select-group-header`, attrs === null || attrs === void 0 ? void 0 : attrs.class]\n    }), children);\n    return rawNode.render ? rawNode.render({\n      node,\n      option: rawNode\n    }) : renderOption ? renderOption({\n      node,\n      option: rawNode,\n      selected: false\n    }) : node;\n  }\n});","import { useMemo } from 'vooks';\nimport { defineComponent, h, inject, Transition } from 'vue';\nimport { mergeEventHandlers, render } from \"../../../_utils/index.mjs\";\nimport { NBaseIcon } from \"../../icon/index.mjs\";\nimport { CheckmarkIcon } from \"../../icons/index.mjs\";\nimport { internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nfunction renderCheckMark(show, clsPrefix) {\n  return h(Transition, {\n    name: \"fade-in-scale-up-transition\"\n  }, {\n    default: () => show ? h(NBaseIcon, {\n      clsPrefix: clsPrefix,\n      class: `${clsPrefix}-base-select-option__check`\n    }, {\n      default: () => h(CheckmarkIcon)\n    }) : null\n  });\n}\nexport default defineComponent({\n  name: 'NBaseSelectOption',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    }\n  },\n  setup(props) {\n    const {\n      valueRef,\n      pendingTmNodeRef,\n      multipleRef,\n      valueSetRef,\n      renderLabelRef,\n      renderOptionRef,\n      labelFieldRef,\n      valueFieldRef,\n      showCheckmarkRef,\n      nodePropsRef,\n      handleOptionClick,\n      handleOptionMouseEnter\n    } = inject(internalSelectionMenuInjectionKey);\n    const isPendingRef = useMemo(() => {\n      const {\n        value: pendingTmNode\n      } = pendingTmNodeRef;\n      if (!pendingTmNode) return false;\n      return props.tmNode.key === pendingTmNode.key;\n    });\n    function handleClick(e) {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      handleOptionClick(e, tmNode);\n    }\n    function handleMouseEnter(e) {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      handleOptionMouseEnter(e, tmNode);\n    }\n    function handleMouseMove(e) {\n      const {\n        tmNode\n      } = props;\n      const {\n        value: isPending\n      } = isPendingRef;\n      if (tmNode.disabled || isPending) return;\n      handleOptionMouseEnter(e, tmNode);\n    }\n    return {\n      multiple: multipleRef,\n      isGrouped: useMemo(() => {\n        const {\n          tmNode\n        } = props;\n        const {\n          parent\n        } = tmNode;\n        return parent && parent.rawNode.type === 'group';\n      }),\n      showCheckmark: showCheckmarkRef,\n      nodeProps: nodePropsRef,\n      isPending: isPendingRef,\n      isSelected: useMemo(() => {\n        const {\n          value\n        } = valueRef;\n        const {\n          value: multiple\n        } = multipleRef;\n        if (value === null) return false;\n        const optionValue = props.tmNode.rawNode[valueFieldRef.value];\n        if (multiple) {\n          const {\n            value: valueSet\n          } = valueSetRef;\n          return valueSet.has(optionValue);\n        } else {\n          return value === optionValue;\n        }\n      }),\n      labelField: labelFieldRef,\n      renderLabel: renderLabelRef,\n      renderOption: renderOptionRef,\n      handleMouseMove,\n      handleMouseEnter,\n      handleClick\n    };\n  },\n  render() {\n    const {\n      clsPrefix,\n      tmNode: {\n        rawNode\n      },\n      isSelected,\n      isPending,\n      isGrouped,\n      showCheckmark,\n      nodeProps,\n      renderOption,\n      renderLabel,\n      handleClick,\n      handleMouseEnter,\n      handleMouseMove\n    } = this;\n    const checkmark = renderCheckMark(isSelected, clsPrefix);\n    const children = renderLabel ? [renderLabel(rawNode, isSelected), showCheckmark && checkmark] : [render(rawNode[this.labelField], rawNode, isSelected), showCheckmark && checkmark];\n    const attrs = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const node = h(\"div\", Object.assign({}, attrs, {\n      class: [`${clsPrefix}-base-select-option`, rawNode.class, attrs === null || attrs === void 0 ? void 0 : attrs.class, {\n        [`${clsPrefix}-base-select-option--disabled`]: rawNode.disabled,\n        [`${clsPrefix}-base-select-option--selected`]: isSelected,\n        [`${clsPrefix}-base-select-option--grouped`]: isGrouped,\n        [`${clsPrefix}-base-select-option--pending`]: isPending,\n        [`${clsPrefix}-base-select-option--show-checkmark`]: showCheckmark\n      }],\n      style: [(attrs === null || attrs === void 0 ? void 0 : attrs.style) || '', rawNode.style || ''],\n      onClick: mergeEventHandlers([handleClick, attrs === null || attrs === void 0 ? void 0 : attrs.onClick]),\n      onMouseenter: mergeEventHandlers([handleMouseEnter, attrs === null || attrs === void 0 ? void 0 : attrs.onMouseenter]),\n      onMousemove: mergeEventHandlers([handleMouseMove, attrs === null || attrs === void 0 ? void 0 : attrs.onMousemove])\n    }), h(\"div\", {\n      class: `${clsPrefix}-base-select-option__content`\n    }, children));\n    return rawNode.render ? rawNode.render({\n      node,\n      option: rawNode,\n      selected: isSelected\n    }) : renderOption ? renderOption({\n      node,\n      option: rawNode,\n      selected: isSelected\n    }) : node;\n  }\n});","import { fadeInScaleUpTransition } from \"../../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\nimport { c, cB, cE, cM, cNotM } from \"../../../../_utils/cssr/index.mjs\";\n// --n-loading-color\n// --n-loading-size\n// --n-option-padding-right\nexport default cB('base-select-menu', `\n line-height: 1.5;\n outline: none;\n z-index: 0;\n position: relative;\n border-radius: var(--n-border-radius);\n transition:\n background-color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-color);\n`, [cB('scrollbar', `\n max-height: var(--n-height);\n `), cB('virtual-list', `\n max-height: var(--n-height);\n `), cB('base-select-option', `\n min-height: var(--n-option-height);\n font-size: var(--n-option-font-size);\n display: flex;\n align-items: center;\n `, [cE('content', `\n z-index: 1;\n white-space: nowrap;\n text-overflow: ellipsis;\n overflow: hidden;\n `)]), cB('base-select-group-header', `\n min-height: var(--n-option-height);\n font-size: .93em;\n display: flex;\n align-items: center;\n `), cB('base-select-menu-option-wrapper', `\n position: relative;\n width: 100%;\n `), cE('loading, empty', `\n display: flex;\n padding: 12px 32px;\n flex: 1;\n justify-content: center;\n `), cE('loading', `\n color: var(--n-loading-color);\n font-size: var(--n-loading-size);\n `), cE('header', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-bottom: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cE('action', `\n padding: 8px var(--n-option-padding-left);\n font-size: var(--n-option-font-size);\n transition: \n color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n border-top: 1px solid var(--n-action-divider-color);\n color: var(--n-action-text-color);\n `), cB('base-select-group-header', `\n position: relative;\n cursor: default;\n padding: var(--n-option-padding);\n color: var(--n-group-header-text-color);\n `), cB('base-select-option', `\n cursor: pointer;\n position: relative;\n padding: var(--n-option-padding);\n transition:\n color .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n box-sizing: border-box;\n color: var(--n-option-text-color);\n opacity: 1;\n `, [cM('show-checkmark', `\n padding-right: calc(var(--n-option-padding-right) + 20px);\n `), c('&::before', `\n content: \"\";\n position: absolute;\n left: 4px;\n right: 4px;\n top: 0;\n bottom: 0;\n border-radius: var(--n-border-radius);\n transition: background-color .3s var(--n-bezier);\n `), c('&:active', `\n color: var(--n-option-text-color-pressed);\n `), cM('grouped', `\n padding-left: calc(var(--n-option-padding-left) * 1.5);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-pending);\n `)]), cM('selected', `\n color: var(--n-option-text-color-active);\n `, [c('&::before', `\n background-color: var(--n-option-color-active);\n `), cM('pending', [c('&::before', `\n background-color: var(--n-option-color-active-pending);\n `)])]), cM('disabled', `\n cursor: not-allowed;\n `, [cNotM('selected', `\n color: var(--n-option-text-color-disabled);\n `), cM('selected', `\n opacity: var(--n-option-opacity-disabled);\n `)]), cE('check', `\n font-size: 16px;\n position: absolute;\n right: calc(var(--n-option-padding-right) - 4px);\n top: calc(50% - 7px);\n color: var(--n-option-check-color);\n transition: color .3s var(--n-bezier);\n `, [fadeInScaleUpTransition({\n  enterScale: '0.5'\n})])])]);","import { depx, getPadding, happensIn } from 'seemly';\nimport { createIndexGetter } from 'treemate';\nimport { computed, defineComponent, h, nextTick, onBeforeUnmount, onMounted, provide, ref, toRef, watch } from 'vue';\nimport { VirtualList } from 'vueuc';\nimport { useConfig, useRtl, useTheme, useThemeClass } from \"../../../_mixins/index.mjs\";\nimport { resolveSlot, resolveWrappedSlot, useOnResize } from \"../../../_utils/index.mjs\";\nimport { createKey } from \"../../../_utils/cssr/index.mjs\";\nimport { NEmpty } from \"../../../empty/index.mjs\";\nimport NFocusDetector from \"../../focus-detector/index.mjs\";\nimport NInternalLoading from \"../../loading/index.mjs\";\nimport { NScrollbar } from \"../../scrollbar/index.mjs\";\nimport { internalSelectMenuLight } from \"../styles/index.mjs\";\nimport { internalSelectionMenuBodyInjectionKey, internalSelectionMenuInjectionKey } from \"./interface.mjs\";\nimport NSelectGroupHeader from \"./SelectGroupHeader.mjs\";\nimport NSelectOption from \"./SelectOption.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport default defineComponent({\n  name: 'InternalSelectMenu',\n  props: Object.assign(Object.assign({}, useTheme.props), {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    scrollable: {\n      type: Boolean,\n      default: true\n    },\n    treeMate: {\n      type: Object,\n      required: true\n    },\n    multiple: Boolean,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    value: {\n      type: [String, Number, Array],\n      default: null\n    },\n    autoPending: Boolean,\n    virtualScroll: {\n      type: Boolean,\n      default: true\n    },\n    // show is used to toggle pending state initialization\n    show: {\n      type: Boolean,\n      default: true\n    },\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    loading: Boolean,\n    focusable: Boolean,\n    renderLabel: Function,\n    renderOption: Function,\n    nodeProps: Function,\n    showCheckmark: {\n      type: Boolean,\n      default: true\n    },\n    onMousedown: Function,\n    onScroll: Function,\n    onFocus: Function,\n    onBlur: Function,\n    onKeyup: Function,\n    onKeydown: Function,\n    onTabOut: Function,\n    onMouseenter: Function,\n    onMouseleave: Function,\n    onResize: Function,\n    resetMenuOnOptionsChange: {\n      type: Boolean,\n      default: true\n    },\n    inlineThemeDisabled: Boolean,\n    // deprecated\n    onToggle: Function\n  }),\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('InternalSelectMenu', mergedRtlRef, mergedClsPrefixRef);\n    const themeRef = useTheme('InternalSelectMenu', '-internal-select-menu', style, internalSelectMenuLight, props, toRef(props, 'clsPrefix'));\n    const selfRef = ref(null);\n    const virtualListRef = ref(null);\n    const scrollbarRef = ref(null);\n    const flattenedNodesRef = computed(() => props.treeMate.getFlattenedNodes());\n    const fIndexGetterRef = computed(() => createIndexGetter(flattenedNodesRef.value));\n    const pendingNodeRef = ref(null);\n    function initPendingNode() {\n      const {\n        treeMate\n      } = props;\n      let defaultPendingNode = null;\n      const {\n        value\n      } = props;\n      if (value === null) {\n        defaultPendingNode = treeMate.getFirstAvailableNode();\n      } else {\n        if (props.multiple) {\n          defaultPendingNode = treeMate.getNode((value || [])[(value || []).length - 1]);\n        } else {\n          defaultPendingNode = treeMate.getNode(value);\n        }\n        if (!defaultPendingNode || defaultPendingNode.disabled) {\n          defaultPendingNode = treeMate.getFirstAvailableNode();\n        }\n      }\n      if (defaultPendingNode) {\n        setPendingTmNode(defaultPendingNode);\n      } else {\n        setPendingTmNode(null);\n      }\n    }\n    function clearPendingNodeIfInvalid() {\n      const {\n        value: pendingNode\n      } = pendingNodeRef;\n      if (pendingNode && !props.treeMate.getNode(pendingNode.key)) {\n        pendingNodeRef.value = null;\n      }\n    }\n    let initPendingNodeWatchStopHandle;\n    watch(() => props.show, show => {\n      if (show) {\n        initPendingNodeWatchStopHandle = watch(() => props.treeMate, () => {\n          if (props.resetMenuOnOptionsChange) {\n            if (props.autoPending) {\n              initPendingNode();\n            } else {\n              clearPendingNodeIfInvalid();\n            }\n            void nextTick(scrollToPendingNode);\n          } else {\n            clearPendingNodeIfInvalid();\n          }\n        }, {\n          immediate: true\n        });\n      } else {\n        initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n      }\n    }, {\n      immediate: true\n    });\n    onBeforeUnmount(() => {\n      initPendingNodeWatchStopHandle === null || initPendingNodeWatchStopHandle === void 0 ? void 0 : initPendingNodeWatchStopHandle();\n    });\n    const itemSizeRef = computed(() => {\n      return depx(themeRef.value.self[createKey('optionHeight', props.size)]);\n    });\n    const paddingRef = computed(() => {\n      return getPadding(themeRef.value.self[createKey('padding', props.size)]);\n    });\n    const valueSetRef = computed(() => {\n      if (props.multiple && Array.isArray(props.value)) {\n        return new Set(props.value);\n      }\n      return new Set();\n    });\n    const emptyRef = computed(() => {\n      const tmNodes = flattenedNodesRef.value;\n      return tmNodes && tmNodes.length === 0;\n    });\n    function doToggle(tmNode) {\n      const {\n        onToggle\n      } = props;\n      if (onToggle) onToggle(tmNode);\n    }\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) onScroll(e);\n    }\n    // required, scroller sync need to be triggered manually\n    function handleVirtualListScroll(e) {\n      var _a;\n      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n      doScroll(e);\n    }\n    function handleVirtualListResize() {\n      var _a;\n      (_a = scrollbarRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n    }\n    function getPendingTmNode() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) return pendingTmNode;\n      return null;\n    }\n    function handleOptionMouseEnter(e, tmNode) {\n      if (tmNode.disabled) return;\n      setPendingTmNode(tmNode, false);\n    }\n    function handleOptionClick(e, tmNode) {\n      if (tmNode.disabled) return;\n      doToggle(tmNode);\n    }\n    // keyboard related methods\n    function handleKeyUp(e) {\n      var _a;\n      if (happensIn(e, 'action')) return;\n      (_a = props.onKeyup) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleKeyDown(e) {\n      var _a;\n      if (happensIn(e, 'action')) return;\n      (_a = props.onKeydown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handleMouseDown(e) {\n      var _a;\n      (_a = props.onMousedown) === null || _a === void 0 ? void 0 : _a.call(props, e);\n      if (props.focusable) return;\n      e.preventDefault();\n    }\n    function next() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) {\n        setPendingTmNode(pendingTmNode.getNext({\n          loop: true\n        }), true);\n      }\n    }\n    function prev() {\n      const {\n        value: pendingTmNode\n      } = pendingNodeRef;\n      if (pendingTmNode) {\n        setPendingTmNode(pendingTmNode.getPrev({\n          loop: true\n        }), true);\n      }\n    }\n    function setPendingTmNode(tmNode, doScroll = false) {\n      pendingNodeRef.value = tmNode;\n      if (doScroll) scrollToPendingNode();\n    }\n    function scrollToPendingNode() {\n      var _a, _b;\n      const tmNode = pendingNodeRef.value;\n      if (!tmNode) return;\n      const fIndex = fIndexGetterRef.value(tmNode.key);\n      if (fIndex === null) return;\n      if (props.virtualScroll) {\n        (_a = virtualListRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({\n          index: fIndex\n        });\n      } else {\n        (_b = scrollbarRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n          index: fIndex,\n          elSize: itemSizeRef.value\n        });\n      }\n    }\n    function handleFocusin(e) {\n      var _a, _b;\n      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.target)) {\n        (_b = props.onFocus) === null || _b === void 0 ? void 0 : _b.call(props, e);\n      }\n    }\n    function handleFocusout(e) {\n      var _a, _b;\n      if (!((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n        (_b = props.onBlur) === null || _b === void 0 ? void 0 : _b.call(props, e);\n      }\n    }\n    provide(internalSelectionMenuInjectionKey, {\n      handleOptionMouseEnter,\n      handleOptionClick,\n      valueSetRef,\n      pendingTmNodeRef: pendingNodeRef,\n      nodePropsRef: toRef(props, 'nodeProps'),\n      showCheckmarkRef: toRef(props, 'showCheckmark'),\n      multipleRef: toRef(props, 'multiple'),\n      valueRef: toRef(props, 'value'),\n      renderLabelRef: toRef(props, 'renderLabel'),\n      renderOptionRef: toRef(props, 'renderOption'),\n      labelFieldRef: toRef(props, 'labelField'),\n      valueFieldRef: toRef(props, 'valueField')\n    });\n    provide(internalSelectionMenuBodyInjectionKey, selfRef);\n    onMounted(() => {\n      const {\n        value\n      } = scrollbarRef;\n      if (value) value.sync();\n    });\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          height,\n          borderRadius,\n          color,\n          groupHeaderTextColor,\n          actionDividerColor,\n          optionTextColorPressed,\n          optionTextColor,\n          optionTextColorDisabled,\n          optionTextColorActive,\n          optionOpacityDisabled,\n          optionCheckColor,\n          actionTextColor,\n          optionColorPending,\n          optionColorActive,\n          loadingColor,\n          loadingSize,\n          optionColorActivePending,\n          [createKey('optionFontSize', size)]: fontSize,\n          [createKey('optionHeight', size)]: optionHeight,\n          [createKey('optionPadding', size)]: optionPadding\n        }\n      } = themeRef.value;\n      return {\n        '--n-height': height,\n        '--n-action-divider-color': actionDividerColor,\n        '--n-action-text-color': actionTextColor,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-color': color,\n        '--n-option-font-size': fontSize,\n        '--n-group-header-text-color': groupHeaderTextColor,\n        '--n-option-check-color': optionCheckColor,\n        '--n-option-color-pending': optionColorPending,\n        '--n-option-color-active': optionColorActive,\n        '--n-option-color-active-pending': optionColorActivePending,\n        '--n-option-height': optionHeight,\n        '--n-option-opacity-disabled': optionOpacityDisabled,\n        '--n-option-text-color': optionTextColor,\n        '--n-option-text-color-active': optionTextColorActive,\n        '--n-option-text-color-disabled': optionTextColorDisabled,\n        '--n-option-text-color-pressed': optionTextColorPressed,\n        '--n-option-padding': optionPadding,\n        '--n-option-padding-left': getPadding(optionPadding, 'left'),\n        '--n-option-padding-right': getPadding(optionPadding, 'right'),\n        '--n-loading-color': loadingColor,\n        '--n-loading-size': loadingSize\n      };\n    });\n    const {\n      inlineThemeDisabled\n    } = props;\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('internal-select-menu', computed(() => props.size[0]), cssVarsRef, props) : undefined;\n    const exposedProps = {\n      selfRef,\n      next,\n      prev,\n      getPendingTmNode\n    };\n    useOnResize(selfRef, props.onResize);\n    return Object.assign({\n      mergedTheme: themeRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      virtualListRef,\n      scrollbarRef,\n      itemSize: itemSizeRef,\n      padding: paddingRef,\n      flattenedNodes: flattenedNodesRef,\n      empty: emptyRef,\n      virtualListContainer() {\n        const {\n          value\n        } = virtualListRef;\n        return value === null || value === void 0 ? void 0 : value.listElRef;\n      },\n      virtualListContent() {\n        const {\n          value\n        } = virtualListRef;\n        return value === null || value === void 0 ? void 0 : value.itemsElRef;\n      },\n      doScroll,\n      handleFocusin,\n      handleFocusout,\n      handleKeyUp,\n      handleKeyDown,\n      handleMouseDown,\n      handleVirtualListResize,\n      handleVirtualListScroll,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    }, exposedProps);\n  },\n  render() {\n    const {\n      $slots,\n      virtualScroll,\n      clsPrefix,\n      mergedTheme,\n      themeClass,\n      onRender\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    return h(\"div\", {\n      ref: \"selfRef\",\n      tabindex: this.focusable ? 0 : -1,\n      class: [`${clsPrefix}-base-select-menu`, this.rtlEnabled && `${clsPrefix}-base-select-menu--rtl`, themeClass, this.multiple && `${clsPrefix}-base-select-menu--multiple`],\n      style: this.cssVars,\n      onFocusin: this.handleFocusin,\n      onFocusout: this.handleFocusout,\n      onKeyup: this.handleKeyUp,\n      onKeydown: this.handleKeyDown,\n      onMousedown: this.handleMouseDown,\n      onMouseenter: this.onMouseenter,\n      onMouseleave: this.onMouseleave\n    }, resolveWrappedSlot($slots.header, children => children && h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__header`,\n      \"data-header\": true,\n      key: \"header\"\n    }, children)), this.loading ? h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__loading`\n    }, h(NInternalLoading, {\n      clsPrefix: clsPrefix,\n      strokeWidth: 20\n    })) : !this.empty ? h(NScrollbar, {\n      ref: \"scrollbarRef\",\n      theme: mergedTheme.peers.Scrollbar,\n      themeOverrides: mergedTheme.peerOverrides.Scrollbar,\n      scrollable: this.scrollable,\n      container: virtualScroll ? this.virtualListContainer : undefined,\n      content: virtualScroll ? this.virtualListContent : undefined,\n      onScroll: virtualScroll ? undefined : this.doScroll\n    }, {\n      default: () => {\n        return virtualScroll ? h(VirtualList, {\n          ref: \"virtualListRef\",\n          class: `${clsPrefix}-virtual-list`,\n          items: this.flattenedNodes,\n          itemSize: this.itemSize,\n          showScrollbar: false,\n          paddingTop: this.padding.top,\n          paddingBottom: this.padding.bottom,\n          onResize: this.handleVirtualListResize,\n          onScroll: this.handleVirtualListScroll,\n          itemResizable: true\n        }, {\n          default: ({\n            item: tmNode\n          }) => {\n            return tmNode.isGroup ? h(NSelectGroupHeader, {\n              key: tmNode.key,\n              clsPrefix: clsPrefix,\n              tmNode: tmNode\n            }) : tmNode.ignored ? null : h(NSelectOption, {\n              clsPrefix: clsPrefix,\n              key: tmNode.key,\n              tmNode: tmNode\n            });\n          }\n        }) : h(\"div\", {\n          class: `${clsPrefix}-base-select-menu-option-wrapper`,\n          style: {\n            paddingTop: this.padding.top,\n            paddingBottom: this.padding.bottom\n          }\n        }, this.flattenedNodes.map(tmNode => tmNode.isGroup ? h(NSelectGroupHeader, {\n          key: tmNode.key,\n          clsPrefix: clsPrefix,\n          tmNode: tmNode\n        }) : h(NSelectOption, {\n          clsPrefix: clsPrefix,\n          key: tmNode.key,\n          tmNode: tmNode\n        })));\n      }\n    }) : h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__empty`,\n      \"data-empty\": true\n    }, resolveSlot($slots.empty, () => [h(NEmpty, {\n      theme: mergedTheme.peers.Empty,\n      themeOverrides: mergedTheme.peerOverrides.Empty,\n      size: this.size\n    })])), resolveWrappedSlot($slots.action, children => children && [h(\"div\", {\n      class: `${clsPrefix}-base-select-menu__action`,\n      \"data-action\": true,\n      key: \"action\"\n    }, children), h(NFocusDetector, {\n      onFocus: this.onTabOut,\n      key: \"focus-detector\"\n    })]));\n  }\n});","export default {\n  closeIconSizeTiny: '12px',\n  closeIconSizeSmall: '12px',\n  closeIconSizeMedium: '14px',\n  closeIconSizeLarge: '14px',\n  closeSizeTiny: '16px',\n  closeSizeSmall: '16px',\n  closeSizeMedium: '18px',\n  closeSizeLarge: '18px',\n  padding: '0 7px',\n  closeMargin: '0 0 0 4px'\n};","import { changeColor } from 'seemly';\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nimport commonVariables from \"./_common.mjs\";\nfunction self(vars) {\n  const {\n    textColor2,\n    primaryColorHover,\n    primaryColorPressed,\n    primaryColor,\n    infoColor,\n    successColor,\n    warningColor,\n    errorColor,\n    baseColor,\n    borderColor,\n    opacityDisabled,\n    tagColor,\n    closeIconColor,\n    closeIconColorHover,\n    closeIconColorPressed,\n    borderRadiusSmall: borderRadius,\n    fontSizeMini,\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    heightMini,\n    heightTiny,\n    heightSmall,\n    heightMedium,\n    closeColorHover,\n    closeColorPressed,\n    buttonColor2Hover,\n    buttonColor2Pressed,\n    fontWeightStrong\n  } = vars;\n  return Object.assign(Object.assign({}, commonVariables), {\n    closeBorderRadius: borderRadius,\n    heightTiny: heightMini,\n    heightSmall: heightTiny,\n    heightMedium: heightSmall,\n    heightLarge: heightMedium,\n    borderRadius,\n    opacityDisabled,\n    fontSizeTiny: fontSizeMini,\n    fontSizeSmall: fontSizeTiny,\n    fontSizeMedium: fontSizeSmall,\n    fontSizeLarge: fontSizeMedium,\n    fontWeightStrong,\n    // checked\n    textColorCheckable: textColor2,\n    textColorHoverCheckable: textColor2,\n    textColorPressedCheckable: textColor2,\n    textColorChecked: baseColor,\n    colorCheckable: '#0000',\n    colorHoverCheckable: buttonColor2Hover,\n    colorPressedCheckable: buttonColor2Pressed,\n    colorChecked: primaryColor,\n    colorCheckedHover: primaryColorHover,\n    colorCheckedPressed: primaryColorPressed,\n    // default\n    border: `1px solid ${borderColor}`,\n    textColor: textColor2,\n    color: tagColor,\n    colorBordered: 'rgb(250, 250, 252)',\n    closeIconColor,\n    closeIconColorHover,\n    closeIconColorPressed,\n    closeColorHover,\n    closeColorPressed,\n    borderPrimary: `1px solid ${changeColor(primaryColor, {\n      alpha: 0.3\n    })}`,\n    textColorPrimary: primaryColor,\n    colorPrimary: changeColor(primaryColor, {\n      alpha: 0.12\n    }),\n    colorBorderedPrimary: changeColor(primaryColor, {\n      alpha: 0.1\n    }),\n    closeIconColorPrimary: primaryColor,\n    closeIconColorHoverPrimary: primaryColor,\n    closeIconColorPressedPrimary: primaryColor,\n    closeColorHoverPrimary: changeColor(primaryColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedPrimary: changeColor(primaryColor, {\n      alpha: 0.18\n    }),\n    borderInfo: `1px solid ${changeColor(infoColor, {\n      alpha: 0.3\n    })}`,\n    textColorInfo: infoColor,\n    colorInfo: changeColor(infoColor, {\n      alpha: 0.12\n    }),\n    colorBorderedInfo: changeColor(infoColor, {\n      alpha: 0.1\n    }),\n    closeIconColorInfo: infoColor,\n    closeIconColorHoverInfo: infoColor,\n    closeIconColorPressedInfo: infoColor,\n    closeColorHoverInfo: changeColor(infoColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedInfo: changeColor(infoColor, {\n      alpha: 0.18\n    }),\n    borderSuccess: `1px solid ${changeColor(successColor, {\n      alpha: 0.3\n    })}`,\n    textColorSuccess: successColor,\n    colorSuccess: changeColor(successColor, {\n      alpha: 0.12\n    }),\n    colorBorderedSuccess: changeColor(successColor, {\n      alpha: 0.1\n    }),\n    closeIconColorSuccess: successColor,\n    closeIconColorHoverSuccess: successColor,\n    closeIconColorPressedSuccess: successColor,\n    closeColorHoverSuccess: changeColor(successColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedSuccess: changeColor(successColor, {\n      alpha: 0.18\n    }),\n    borderWarning: `1px solid ${changeColor(warningColor, {\n      alpha: 0.35\n    })}`,\n    textColorWarning: warningColor,\n    colorWarning: changeColor(warningColor, {\n      alpha: 0.15\n    }),\n    colorBorderedWarning: changeColor(warningColor, {\n      alpha: 0.12\n    }),\n    closeIconColorWarning: warningColor,\n    closeIconColorHoverWarning: warningColor,\n    closeIconColorPressedWarning: warningColor,\n    closeColorHoverWarning: changeColor(warningColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedWarning: changeColor(warningColor, {\n      alpha: 0.18\n    }),\n    borderError: `1px solid ${changeColor(errorColor, {\n      alpha: 0.23\n    })}`,\n    textColorError: errorColor,\n    colorError: changeColor(errorColor, {\n      alpha: 0.1\n    }),\n    colorBorderedError: changeColor(errorColor, {\n      alpha: 0.08\n    }),\n    closeIconColorError: errorColor,\n    closeIconColorHoverError: errorColor,\n    closeIconColorPressedError: errorColor,\n    closeColorHoverError: changeColor(errorColor, {\n      alpha: 0.12\n    }),\n    closeColorPressedError: changeColor(errorColor, {\n      alpha: 0.18\n    })\n  });\n}\nconst tagLight = {\n  name: 'Tag',\n  common: commonLight,\n  self\n};\nexport default tagLight;","export default {\n  color: Object,\n  type: {\n    type: String,\n    default: 'default'\n  },\n  round: Boolean,\n  size: {\n    type: String,\n    default: 'medium'\n  },\n  closable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  }\n};","import { c, cB, cE, cM, cNotM } from \"../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-border-radius\n// --n-border\n// --n-close-icon-color\n// --n-close-icon-color-hover\n// --n-close-icon-color-pressed\n// --n-close-margin\n// --n-close-size\n// --n-color\n// --n-color-checkable\n// --n-color-checked\n// --n-color-checked-hover\n// --n-color-checked-pressed\n// --n-color-hover-checkable\n// --n-color-pressed-checkable\n// --n-font-size\n// --n-height\n// --n-opacity-disabled\n// --n-padding\n// --n-text-color\n// --n-text-color-checkable\n// --n-text-color-checked\n// --n-text-color-hover-checkable\n// --n-text-color-pressed-checkable\n// --n-font-weight-strong\nexport default cB('tag', `\n --n-close-margin: var(--n-close-margin-top) var(--n-close-margin-right) var(--n-close-margin-bottom) var(--n-close-margin-left);\n white-space: nowrap;\n position: relative;\n box-sizing: border-box;\n cursor: default;\n display: inline-flex;\n align-items: center;\n flex-wrap: nowrap;\n padding: var(--n-padding);\n border-radius: var(--n-border-radius);\n color: var(--n-text-color);\n background-color: var(--n-color);\n transition: \n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n opacity .3s var(--n-bezier);\n line-height: 1;\n height: var(--n-height);\n font-size: var(--n-font-size);\n`, [cM('strong', `\n font-weight: var(--n-font-weight-strong);\n `), cE('border', `\n pointer-events: none;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n border: var(--n-border);\n transition: border-color .3s var(--n-bezier);\n `), cE('icon', `\n display: flex;\n margin: 0 4px 0 0;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n font-size: var(--n-avatar-size-override);\n `), cE('avatar', `\n display: flex;\n margin: 0 6px 0 0;\n `), cE('close', `\n margin: var(--n-close-margin);\n transition:\n background-color .3s var(--n-bezier),\n color .3s var(--n-bezier);\n `), cM('round', `\n padding: 0 calc(var(--n-height) / 3);\n border-radius: calc(var(--n-height) / 2);\n `, [cE('icon', `\n margin: 0 4px 0 calc((var(--n-height) - 8px) / -2);\n `), cE('avatar', `\n margin: 0 6px 0 calc((var(--n-height) - 8px) / -2);\n `), cM('closable', `\n padding: 0 calc(var(--n-height) / 4) 0 calc(var(--n-height) / 3);\n `)]), cM('icon, avatar', [cM('round', `\n padding: 0 calc(var(--n-height) / 3) 0 calc(var(--n-height) / 2);\n `)]), cM('disabled', `\n cursor: not-allowed !important;\n opacity: var(--n-opacity-disabled);\n `), cM('checkable', `\n cursor: pointer;\n box-shadow: none;\n color: var(--n-text-color-checkable);\n background-color: var(--n-color-checkable);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-hover-checkable);', [cNotM('checked', 'color: var(--n-text-color-hover-checkable);')]), c('&:active', 'background-color: var(--n-color-pressed-checkable);', [cNotM('checked', 'color: var(--n-text-color-pressed-checkable);')])]), cM('checked', `\n color: var(--n-text-color-checked);\n background-color: var(--n-color-checked);\n `, [cNotM('disabled', [c('&:hover', 'background-color: var(--n-color-checked-hover);'), c('&:active', 'background-color: var(--n-color-checked-pressed);')])])])]);","import { getMargin } from 'seemly';\nimport { computed, defineComponent, h, provide, ref, toRef, watchEffect } from 'vue';\nimport { NBaseClose } from \"../../_internal/close/index.mjs\";\nimport { useConfig, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { useRtl } from \"../../_mixins/use-rtl.mjs\";\nimport { call, color2Class, createInjectionKey, createKey, resolveWrappedSlot, warnOnce } from \"../../_utils/index.mjs\";\nimport { tagLight } from \"../styles/index.mjs\";\nimport commonProps from \"./common-props.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport const tagProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), commonProps), {\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  checked: Boolean,\n  checkable: Boolean,\n  strong: Boolean,\n  triggerClickOnClose: Boolean,\n  onClose: [Array, Function],\n  onMouseenter: Function,\n  onMouseleave: Function,\n  'onUpdate:checked': Function,\n  onUpdateChecked: Function,\n  // private\n  internalCloseFocusable: {\n    type: Boolean,\n    default: true\n  },\n  internalCloseIsButtonTag: {\n    type: Boolean,\n    default: true\n  },\n  // deprecated\n  onCheckedChange: Function\n});\nexport const tagInjectionKey = createInjectionKey('n-tag');\nexport default defineComponent({\n  name: 'Tag',\n  props: tagProps,\n  slots: Object,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.onCheckedChange !== undefined) {\n          warnOnce('tag', '`on-checked-change` is deprecated, please use `on-update:checked` instead');\n        }\n      });\n    }\n    const contentRef = ref(null);\n    const {\n      mergedBorderedRef,\n      mergedClsPrefixRef,\n      inlineThemeDisabled,\n      mergedRtlRef\n    } = useConfig(props);\n    const themeRef = useTheme('Tag', '-tag', style, tagLight, props, mergedClsPrefixRef);\n    provide(tagInjectionKey, {\n      roundRef: toRef(props, 'round')\n    });\n    function handleClick() {\n      if (!props.disabled) {\n        if (props.checkable) {\n          const {\n            checked,\n            onCheckedChange,\n            onUpdateChecked,\n            'onUpdate:checked': _onUpdateChecked\n          } = props;\n          if (onUpdateChecked) onUpdateChecked(!checked);\n          if (_onUpdateChecked) _onUpdateChecked(!checked);\n          // deprecated\n          if (onCheckedChange) onCheckedChange(!checked);\n        }\n      }\n    }\n    function handleCloseClick(e) {\n      if (!props.triggerClickOnClose) {\n        e.stopPropagation();\n      }\n      if (!props.disabled) {\n        const {\n          onClose\n        } = props;\n        if (onClose) call(onClose, e);\n      }\n    }\n    const tagPublicMethods = {\n      setTextContent(textContent) {\n        const {\n          value\n        } = contentRef;\n        if (value) value.textContent = textContent;\n      }\n    };\n    const rtlEnabledRef = useRtl('Tag', mergedRtlRef, mergedClsPrefixRef);\n    const cssVarsRef = computed(() => {\n      const {\n        type,\n        size,\n        color: {\n          color,\n          textColor\n        } = {}\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          padding,\n          closeMargin,\n          borderRadius,\n          opacityDisabled,\n          textColorCheckable,\n          textColorHoverCheckable,\n          textColorPressedCheckable,\n          textColorChecked,\n          colorCheckable,\n          colorHoverCheckable,\n          colorPressedCheckable,\n          colorChecked,\n          colorCheckedHover,\n          colorCheckedPressed,\n          closeBorderRadius,\n          fontWeightStrong,\n          [createKey('colorBordered', type)]: colorBordered,\n          [createKey('closeSize', size)]: closeSize,\n          [createKey('closeIconSize', size)]: closeIconSize,\n          [createKey('fontSize', size)]: fontSize,\n          [createKey('height', size)]: height,\n          [createKey('color', type)]: typedColor,\n          [createKey('textColor', type)]: typeTextColor,\n          [createKey('border', type)]: border,\n          [createKey('closeIconColor', type)]: closeIconColor,\n          [createKey('closeIconColorHover', type)]: closeIconColorHover,\n          [createKey('closeIconColorPressed', type)]: closeIconColorPressed,\n          [createKey('closeColorHover', type)]: closeColorHover,\n          [createKey('closeColorPressed', type)]: closeColorPressed\n        }\n      } = themeRef.value;\n      const closeMarginDiscrete = getMargin(closeMargin);\n      return {\n        '--n-font-weight-strong': fontWeightStrong,\n        '--n-avatar-size-override': `calc(${height} - 8px)`,\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border-radius': borderRadius,\n        '--n-border': border,\n        '--n-close-icon-size': closeIconSize,\n        '--n-close-color-pressed': closeColorPressed,\n        '--n-close-color-hover': closeColorHover,\n        '--n-close-border-radius': closeBorderRadius,\n        '--n-close-icon-color': closeIconColor,\n        '--n-close-icon-color-hover': closeIconColorHover,\n        '--n-close-icon-color-pressed': closeIconColorPressed,\n        '--n-close-icon-color-disabled': closeIconColor,\n        '--n-close-margin-top': closeMarginDiscrete.top,\n        '--n-close-margin-right': closeMarginDiscrete.right,\n        '--n-close-margin-bottom': closeMarginDiscrete.bottom,\n        '--n-close-margin-left': closeMarginDiscrete.left,\n        '--n-close-size': closeSize,\n        '--n-color': color || (mergedBorderedRef.value ? colorBordered : typedColor),\n        '--n-color-checkable': colorCheckable,\n        '--n-color-checked': colorChecked,\n        '--n-color-checked-hover': colorCheckedHover,\n        '--n-color-checked-pressed': colorCheckedPressed,\n        '--n-color-hover-checkable': colorHoverCheckable,\n        '--n-color-pressed-checkable': colorPressedCheckable,\n        '--n-font-size': fontSize,\n        '--n-height': height,\n        '--n-opacity-disabled': opacityDisabled,\n        '--n-padding': padding,\n        '--n-text-color': textColor || typeTextColor,\n        '--n-text-color-checkable': textColorCheckable,\n        '--n-text-color-checked': textColorChecked,\n        '--n-text-color-hover-checkable': textColorHoverCheckable,\n        '--n-text-color-pressed-checkable': textColorPressedCheckable\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('tag', computed(() => {\n      let hash = '';\n      const {\n        type,\n        size,\n        color: {\n          color,\n          textColor\n        } = {}\n      } = props;\n      hash += type[0];\n      hash += size[0];\n      if (color) {\n        hash += `a${color2Class(color)}`;\n      }\n      if (textColor) {\n        hash += `b${color2Class(textColor)}`;\n      }\n      if (mergedBorderedRef.value) {\n        hash += 'c';\n      }\n      return hash;\n    }), cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, tagPublicMethods), {\n      rtlEnabled: rtlEnabledRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      contentRef,\n      mergedBordered: mergedBorderedRef,\n      handleClick,\n      handleCloseClick,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    var _a, _b;\n    const {\n      mergedClsPrefix,\n      rtlEnabled,\n      closable,\n      color: {\n        borderColor\n      } = {},\n      round,\n      onRender,\n      $slots\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const avatarNode = resolveWrappedSlot($slots.avatar, children => children && h(\"div\", {\n      class: `${mergedClsPrefix}-tag__avatar`\n    }, children));\n    const iconNode = resolveWrappedSlot($slots.icon, children => children && h(\"div\", {\n      class: `${mergedClsPrefix}-tag__icon`\n    }, children));\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-tag`, this.themeClass, {\n        [`${mergedClsPrefix}-tag--rtl`]: rtlEnabled,\n        [`${mergedClsPrefix}-tag--strong`]: this.strong,\n        [`${mergedClsPrefix}-tag--disabled`]: this.disabled,\n        [`${mergedClsPrefix}-tag--checkable`]: this.checkable,\n        [`${mergedClsPrefix}-tag--checked`]: this.checkable && this.checked,\n        [`${mergedClsPrefix}-tag--round`]: round,\n        [`${mergedClsPrefix}-tag--avatar`]: avatarNode,\n        [`${mergedClsPrefix}-tag--icon`]: iconNode,\n        [`${mergedClsPrefix}-tag--closable`]: closable\n      }],\n      style: this.cssVars,\n      onClick: this.handleClick,\n      onMouseenter: this.onMouseenter,\n      onMouseleave: this.onMouseleave\n    }, iconNode || avatarNode, h(\"span\", {\n      class: `${mergedClsPrefix}-tag__content`,\n      ref: \"contentRef\"\n    }, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a)), !this.checkable && closable ? h(NBaseClose, {\n      clsPrefix: mergedClsPrefix,\n      class: `${mergedClsPrefix}-tag__close`,\n      disabled: this.disabled,\n      onClick: this.handleCloseClick,\n      focusable: this.internalCloseFocusable,\n      round: round,\n      isButtonTag: this.internalCloseIsButtonTag,\n      absolute: true\n    }) : null, !this.checkable && this.mergedBordered ? h(\"div\", {\n      class: `${mergedClsPrefix}-tag__border`,\n      style: {\n        borderColor\n      }\n    }) : null);\n  }\n});","export default {\n  paddingSingle: '0 26px 0 12px',\n  paddingMultiple: '3px 26px 0 12px',\n  clearSize: '16px',\n  arrowSize: '16px'\n};","import { changeColor } from 'seemly';\nimport { createTheme } from \"../../../_mixins/index.mjs\";\nimport { commonLight } from \"../../../_styles/common/index.mjs\";\nimport { popoverLight } from \"../../../popover/styles/index.mjs\";\nimport commonVariables from \"./_common.mjs\";\nfunction self(vars) {\n  const {\n    borderRadius,\n    textColor2,\n    textColorDisabled,\n    inputColor,\n    inputColorDisabled,\n    primaryColor,\n    primaryColorHover,\n    warningColor,\n    warningColorHover,\n    errorColor,\n    errorColorHover,\n    borderColor,\n    iconColor,\n    iconColorDisabled,\n    clearColor,\n    clearColorHover,\n    clearColorPressed,\n    placeholderColor,\n    placeholderColorDisabled,\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    heightTiny,\n    heightSmall,\n    heightMedium,\n    heightLarge,\n    fontWeight\n  } = vars;\n  return Object.assign(Object.assign({}, commonVariables), {\n    fontSizeTiny,\n    fontSizeSmall,\n    fontSizeMedium,\n    fontSizeLarge,\n    heightTiny,\n    heightSmall,\n    heightMedium,\n    heightLarge,\n    borderRadius,\n    fontWeight,\n    // default\n    textColor: textColor2,\n    textColorDisabled,\n    placeholderColor,\n    placeholderColorDisabled,\n    color: inputColor,\n    colorDisabled: inputColorDisabled,\n    colorActive: inputColor,\n    border: `1px solid ${borderColor}`,\n    borderHover: `1px solid ${primaryColorHover}`,\n    borderActive: `1px solid ${primaryColor}`,\n    borderFocus: `1px solid ${primaryColorHover}`,\n    boxShadowHover: 'none',\n    boxShadowActive: `0 0 0 2px ${changeColor(primaryColor, {\n      alpha: 0.2\n    })}`,\n    boxShadowFocus: `0 0 0 2px ${changeColor(primaryColor, {\n      alpha: 0.2\n    })}`,\n    caretColor: primaryColor,\n    arrowColor: iconColor,\n    arrowColorDisabled: iconColorDisabled,\n    loadingColor: primaryColor,\n    // warning\n    borderWarning: `1px solid ${warningColor}`,\n    borderHoverWarning: `1px solid ${warningColorHover}`,\n    borderActiveWarning: `1px solid ${warningColor}`,\n    borderFocusWarning: `1px solid ${warningColorHover}`,\n    boxShadowHoverWarning: 'none',\n    boxShadowActiveWarning: `0 0 0 2px ${changeColor(warningColor, {\n      alpha: 0.2\n    })}`,\n    boxShadowFocusWarning: `0 0 0 2px ${changeColor(warningColor, {\n      alpha: 0.2\n    })}`,\n    colorActiveWarning: inputColor,\n    caretColorWarning: warningColor,\n    // error\n    borderError: `1px solid ${errorColor}`,\n    borderHoverError: `1px solid ${errorColorHover}`,\n    borderActiveError: `1px solid ${errorColor}`,\n    borderFocusError: `1px solid ${errorColorHover}`,\n    boxShadowHoverError: 'none',\n    boxShadowActiveError: `0 0 0 2px ${changeColor(errorColor, {\n      alpha: 0.2\n    })}`,\n    boxShadowFocusError: `0 0 0 2px ${changeColor(errorColor, {\n      alpha: 0.2\n    })}`,\n    colorActiveError: inputColor,\n    caretColorError: errorColor,\n    clearColor,\n    clearColorHover,\n    clearColorPressed\n  });\n}\nconst internalSelectionLight = createTheme({\n  name: 'InternalSelection',\n  common: commonLight,\n  peers: {\n    Popover: popoverLight\n  },\n  self\n});\nexport default internalSelectionLight;","import { c, cB, cE, cM, cNotM } from \"../../../../_utils/cssr/index.mjs\";\n// vars:\n// --n-bezier\n// --n-border\n// --n-border-active\n// --n-border-focus\n// --n-border-hover\n// --n-border-radius\n// --n-box-shadow-active\n// --n-box-shadow-focus\n// --n-box-shadow-hover\n// --n-caret-color\n// --n-color\n// --n-color-active\n// --n-color-disabled\n// --n-font-size\n// --n-height\n// --n-padding-single\n// --n-padding-multiple\n// --n-placeholder-color\n// --n-placeholder-color-disabled\n// --n-text-color\n// --n-text-color-disabled\n// --n-arrow-color\n// --n-arrow-size\n// --n-loading-color\n// --n-font-weight\n// ...clear vars\n// ...form item vars\nexport default c([cB('base-selection', `\n --n-padding-single: var(--n-padding-single-top) var(--n-padding-single-right) var(--n-padding-single-bottom) var(--n-padding-single-left);\n --n-padding-multiple: var(--n-padding-multiple-top) var(--n-padding-multiple-right) var(--n-padding-multiple-bottom) var(--n-padding-multiple-left);\n position: relative;\n z-index: auto;\n box-shadow: none;\n width: 100%;\n max-width: 100%;\n display: inline-block;\n vertical-align: bottom;\n border-radius: var(--n-border-radius);\n min-height: var(--n-height);\n line-height: 1.5;\n font-size: var(--n-font-size);\n `, [cB('base-loading', `\n color: var(--n-loading-color);\n `), cB('base-selection-tags', 'min-height: var(--n-height);'), cE('border, state-border', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n pointer-events: none;\n border: var(--n-border);\n border-radius: inherit;\n transition:\n box-shadow .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `), cE('state-border', `\n z-index: 1;\n border-color: #0000;\n `), cB('base-suffix', `\n cursor: pointer;\n position: absolute;\n top: 50%;\n transform: translateY(-50%);\n right: 10px;\n `, [cE('arrow', `\n font-size: var(--n-arrow-size);\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n `)]), cB('base-selection-overlay', `\n display: flex;\n align-items: center;\n white-space: nowrap;\n pointer-events: none;\n position: absolute;\n top: 0;\n right: 0;\n bottom: 0;\n left: 0;\n padding: var(--n-padding-single);\n transition: color .3s var(--n-bezier);\n `, [cE('wrapper', `\n flex-basis: 0;\n flex-grow: 1;\n overflow: hidden;\n text-overflow: ellipsis;\n `)]), cB('base-selection-placeholder', `\n color: var(--n-placeholder-color);\n `, [cE('inner', `\n max-width: 100%;\n overflow: hidden;\n `)]), cB('base-selection-tags', `\n cursor: pointer;\n outline: none;\n box-sizing: border-box;\n position: relative;\n z-index: auto;\n display: flex;\n padding: var(--n-padding-multiple);\n flex-wrap: wrap;\n align-items: center;\n width: 100%;\n vertical-align: bottom;\n background-color: var(--n-color);\n border-radius: inherit;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `), cB('base-selection-label', `\n height: var(--n-height);\n display: inline-flex;\n width: 100%;\n vertical-align: bottom;\n cursor: pointer;\n outline: none;\n z-index: auto;\n box-sizing: border-box;\n position: relative;\n transition:\n color .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n border-radius: inherit;\n background-color: var(--n-color);\n align-items: center;\n `, [cB('base-selection-input', `\n font-size: inherit;\n line-height: inherit;\n outline: none;\n cursor: pointer;\n box-sizing: border-box;\n border:none;\n width: 100%;\n padding: var(--n-padding-single);\n background-color: #0000;\n color: var(--n-text-color);\n transition: color .3s var(--n-bezier);\n caret-color: var(--n-caret-color);\n `, [cE('content', `\n text-overflow: ellipsis;\n overflow: hidden;\n white-space: nowrap; \n `)]), cE('render-label', `\n color: var(--n-text-color);\n `)]), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover);\n border: var(--n-border-hover);\n `)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus);\n border: var(--n-border-focus);\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active);\n border: var(--n-border-active);\n `), cB('base-selection-label', 'background-color: var(--n-color-active);'), cB('base-selection-tags', 'background-color: var(--n-color-active);')])]), cM('disabled', 'cursor: not-allowed;', [cE('arrow', `\n color: var(--n-arrow-color-disabled);\n `), cB('base-selection-label', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `, [cB('base-selection-input', `\n cursor: not-allowed;\n color: var(--n-text-color-disabled);\n `), cE('render-label', `\n color: var(--n-text-color-disabled);\n `)]), cB('base-selection-tags', `\n cursor: not-allowed;\n background-color: var(--n-color-disabled);\n `), cB('base-selection-placeholder', `\n cursor: not-allowed;\n color: var(--n-placeholder-color-disabled);\n `)]), cB('base-selection-input-tag', `\n height: calc(var(--n-height) - 6px);\n line-height: calc(var(--n-height) - 6px);\n outline: none;\n display: none;\n position: relative;\n margin-bottom: 3px;\n max-width: 100%;\n vertical-align: bottom;\n `, [cE('input', `\n font-size: inherit;\n font-family: inherit;\n min-width: 1px;\n padding: 0;\n background-color: #0000;\n outline: none;\n border: none;\n max-width: 100%;\n overflow: hidden;\n width: 1em;\n line-height: inherit;\n cursor: pointer;\n color: var(--n-text-color);\n caret-color: var(--n-caret-color);\n `), cE('mirror', `\n position: absolute;\n left: 0;\n top: 0;\n white-space: pre;\n visibility: hidden;\n user-select: none;\n -webkit-user-select: none;\n opacity: 0;\n `)]), ['warning', 'error'].map(status => cM(`${status}-status`, [cE('state-border', `border: var(--n-border-${status});`), cNotM('disabled', [c('&:hover', [cE('state-border', `\n box-shadow: var(--n-box-shadow-hover-${status});\n border: var(--n-border-hover-${status});\n `)]), cM('active', [cE('state-border', `\n box-shadow: var(--n-box-shadow-active-${status});\n border: var(--n-border-active-${status});\n `), cB('base-selection-label', `background-color: var(--n-color-active-${status});`), cB('base-selection-tags', `background-color: var(--n-color-active-${status});`)]), cM('focus', [cE('state-border', `\n box-shadow: var(--n-box-shadow-focus-${status});\n border: var(--n-border-focus-${status});\n `)])])]))]), cB('base-selection-popover', `\n margin-bottom: -3px;\n display: flex;\n flex-wrap: wrap;\n margin-right: -8px;\n `), cB('base-selection-tag-wrapper', `\n max-width: 100%;\n display: inline-flex;\n padding: 0 7px 3px 0;\n `, [c('&:last-child', 'padding-right: 0;'), cB('tag', `\n font-size: 14px;\n max-width: 100%;\n `, [cE('content', `\n line-height: 1.25;\n text-overflow: ellipsis;\n overflow: hidden;\n `)])])]);","import { getPadding } from 'seemly';\nimport { computed, defineComponent, Fragment, h, nextTick, onMounted, ref, toRef, watch, watchEffect } from 'vue';\nimport { VOverflow } from 'vueuc';\nimport { useConfig, useRtl, useTheme, useThemeClass } from \"../../../_mixins/index.mjs\";\nimport { createKey, getTitleAttribute, render, useOnResize, Wrapper } from \"../../../_utils/index.mjs\";\nimport { NPopover } from \"../../../popover/index.mjs\";\nimport { NTag } from \"../../../tag/index.mjs\";\nimport Suffix from \"../../suffix/index.mjs\";\nimport { internalSelectionLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport default defineComponent({\n  name: 'InternalSelection',\n  props: Object.assign(Object.assign({}, useTheme.props), {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    bordered: {\n      type: Boolean,\n      default: undefined\n    },\n    active: Boolean,\n    pattern: {\n      type: String,\n      default: ''\n    },\n    placeholder: String,\n    selectedOption: {\n      type: Object,\n      default: null\n    },\n    selectedOptions: {\n      type: Array,\n      default: null\n    },\n    labelField: {\n      type: String,\n      default: 'label'\n    },\n    valueField: {\n      type: String,\n      default: 'value'\n    },\n    multiple: Boolean,\n    filterable: Boolean,\n    clearable: Boolean,\n    disabled: Boolean,\n    size: {\n      type: String,\n      default: 'medium'\n    },\n    loading: Boolean,\n    autofocus: Boolean,\n    showArrow: {\n      type: Boolean,\n      default: true\n    },\n    inputProps: Object,\n    focused: Boolean,\n    renderTag: Function,\n    onKeydown: Function,\n    onClick: Function,\n    onBlur: Function,\n    onFocus: Function,\n    onDeleteOption: Function,\n    maxTagCount: [String, Number],\n    ellipsisTagPopoverProps: Object,\n    onClear: Function,\n    onPatternInput: Function,\n    onPatternFocus: Function,\n    onPatternBlur: Function,\n    renderLabel: Function,\n    status: String,\n    inlineThemeDisabled: Boolean,\n    ignoreComposition: {\n      type: Boolean,\n      default: true\n    },\n    onResize: Function\n  }),\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      mergedRtlRef\n    } = useConfig(props);\n    const rtlEnabledRef = useRtl('InternalSelection', mergedRtlRef, mergedClsPrefixRef);\n    const patternInputMirrorRef = ref(null);\n    const patternInputRef = ref(null);\n    const selfRef = ref(null);\n    const multipleElRef = ref(null);\n    const singleElRef = ref(null);\n    const patternInputWrapperRef = ref(null);\n    const counterRef = ref(null);\n    const counterWrapperRef = ref(null);\n    const overflowRef = ref(null);\n    const inputTagElRef = ref(null);\n    const showTagsPopoverRef = ref(false);\n    const patternInputFocusedRef = ref(false);\n    const hoverRef = ref(false);\n    const themeRef = useTheme('InternalSelection', '-internal-selection', style, internalSelectionLight, props, toRef(props, 'clsPrefix'));\n    const mergedClearableRef = computed(() => {\n      return props.clearable && !props.disabled && (hoverRef.value || props.active);\n    });\n    const filterablePlaceholderRef = computed(() => {\n      return props.selectedOption ? props.renderTag ? props.renderTag({\n        option: props.selectedOption,\n        handleClose: () => {}\n      }) : props.renderLabel ? props.renderLabel(props.selectedOption, true) : render(props.selectedOption[props.labelField], props.selectedOption, true) : props.placeholder;\n    });\n    const labelRef = computed(() => {\n      const option = props.selectedOption;\n      if (!option) return undefined;\n      return option[props.labelField];\n    });\n    const selectedRef = computed(() => {\n      if (props.multiple) {\n        return !!(Array.isArray(props.selectedOptions) && props.selectedOptions.length);\n      } else {\n        return props.selectedOption !== null;\n      }\n    });\n    function syncMirrorWidth() {\n      var _a;\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const {\n          value: patternInputEl\n        } = patternInputRef;\n        if (patternInputEl) {\n          patternInputEl.style.width = `${patternInputMirrorEl.offsetWidth}px`;\n          if (props.maxTagCount !== 'responsive') {\n            (_a = overflowRef.value) === null || _a === void 0 ? void 0 : _a.sync({\n              showAllItemsBeforeCalculate: false\n            });\n          }\n        }\n      }\n    }\n    function hideInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'none';\n    }\n    function showInputTag() {\n      const {\n        value: inputTagEl\n      } = inputTagElRef;\n      if (inputTagEl) inputTagEl.style.display = 'inline-block';\n    }\n    watch(toRef(props, 'active'), value => {\n      if (!value) hideInputTag();\n    });\n    watch(toRef(props, 'pattern'), () => {\n      if (props.multiple) {\n        void nextTick(syncMirrorWidth);\n      }\n    });\n    function doFocus(e) {\n      const {\n        onFocus\n      } = props;\n      if (onFocus) onFocus(e);\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      if (onBlur) onBlur(e);\n    }\n    function doDeleteOption(value) {\n      const {\n        onDeleteOption\n      } = props;\n      if (onDeleteOption) onDeleteOption(value);\n    }\n    function doClear(e) {\n      const {\n        onClear\n      } = props;\n      if (onClear) onClear(e);\n    }\n    function doPatternInput(value) {\n      const {\n        onPatternInput\n      } = props;\n      if (onPatternInput) onPatternInput(value);\n    }\n    function handleFocusin(e) {\n      var _a;\n      if (!e.relatedTarget || !((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget))) {\n        doFocus(e);\n      }\n    }\n    function handleFocusout(e) {\n      var _a;\n      if ((_a = selfRef.value) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) return;\n      doBlur(e);\n    }\n    function handleClear(e) {\n      doClear(e);\n    }\n    function handleMouseEnter() {\n      hoverRef.value = true;\n    }\n    function handleMouseLeave() {\n      hoverRef.value = false;\n    }\n    function handleMouseDown(e) {\n      if (!props.active || !props.filterable) return;\n      if (e.target === patternInputRef.value) return;\n      e.preventDefault();\n    }\n    function handleDeleteOption(option) {\n      doDeleteOption(option);\n    }\n    const isComposingRef = ref(false);\n    function handlePatternKeyDown(e) {\n      if (e.key === 'Backspace' && !isComposingRef.value) {\n        if (!props.pattern.length) {\n          const {\n            selectedOptions\n          } = props;\n          if (selectedOptions === null || selectedOptions === void 0 ? void 0 : selectedOptions.length) {\n            handleDeleteOption(selectedOptions[selectedOptions.length - 1]);\n          }\n        }\n      }\n    }\n    // the composition end is later than its input so we can cached the event\n    // and return the input event\n    let cachedInputEvent = null;\n    function handlePatternInputInput(e) {\n      // we should sync mirror width here\n      const {\n        value: patternInputMirrorEl\n      } = patternInputMirrorRef;\n      if (patternInputMirrorEl) {\n        const inputText = e.target.value;\n        patternInputMirrorEl.textContent = inputText;\n        syncMirrorWidth();\n      }\n      if (props.ignoreComposition) {\n        if (!isComposingRef.value) {\n          doPatternInput(e);\n        } else {\n          cachedInputEvent = e;\n        }\n      } else {\n        doPatternInput(e);\n      }\n    }\n    function handleCompositionStart() {\n      isComposingRef.value = true;\n    }\n    function handleCompositionEnd() {\n      isComposingRef.value = false;\n      if (props.ignoreComposition) {\n        doPatternInput(cachedInputEvent);\n      }\n      cachedInputEvent = null;\n    }\n    function handlePatternInputFocus(e) {\n      var _a;\n      patternInputFocusedRef.value = true;\n      (_a = props.onPatternFocus) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function handlePatternInputBlur(e) {\n      var _a;\n      patternInputFocusedRef.value = false;\n      (_a = props.onPatternBlur) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n    function blur() {\n      var _a, _b;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n        (_b = patternInputRef.value) === null || _b === void 0 ? void 0 : _b.blur();\n      } else if (props.multiple) {\n        const {\n          value: multipleEl\n        } = multipleElRef;\n        multipleEl === null || multipleEl === void 0 ? void 0 : multipleEl.blur();\n      } else {\n        const {\n          value: singleEl\n        } = singleElRef;\n        singleEl === null || singleEl === void 0 ? void 0 : singleEl.blur();\n      }\n    }\n    function focus() {\n      var _a, _b, _c;\n      if (props.filterable) {\n        patternInputFocusedRef.value = false;\n        (_a = patternInputWrapperRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      } else if (props.multiple) {\n        (_b = multipleElRef.value) === null || _b === void 0 ? void 0 : _b.focus();\n      } else {\n        (_c = singleElRef.value) === null || _c === void 0 ? void 0 : _c.focus();\n      }\n    }\n    function focusInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        showInputTag();\n        patternInputEl.focus();\n      }\n    }\n    function blurInput() {\n      const {\n        value: patternInputEl\n      } = patternInputRef;\n      if (patternInputEl) {\n        patternInputEl.blur();\n      }\n    }\n    function updateCounter(count) {\n      const {\n        value\n      } = counterRef;\n      if (value) {\n        value.setTextContent(`+${count}`);\n      }\n    }\n    function getCounter() {\n      const {\n        value\n      } = counterWrapperRef;\n      return value;\n    }\n    function getTail() {\n      return patternInputRef.value;\n    }\n    let enterTimerId = null;\n    function clearEnterTimer() {\n      if (enterTimerId !== null) window.clearTimeout(enterTimerId);\n    }\n    function handleMouseEnterCounter() {\n      if (props.active) return;\n      clearEnterTimer();\n      enterTimerId = window.setTimeout(() => {\n        if (selectedRef.value) {\n          showTagsPopoverRef.value = true;\n        }\n      }, 100);\n    }\n    function handleMouseLeaveCounter() {\n      clearEnterTimer();\n    }\n    function onPopoverUpdateShow(show) {\n      if (!show) {\n        clearEnterTimer();\n        showTagsPopoverRef.value = false;\n      }\n    }\n    watch(selectedRef, value => {\n      if (!value) {\n        showTagsPopoverRef.value = false;\n      }\n    });\n    onMounted(() => {\n      watchEffect(() => {\n        const patternInputWrapperEl = patternInputWrapperRef.value;\n        if (!patternInputWrapperEl) return;\n        if (props.disabled) {\n          patternInputWrapperEl.removeAttribute('tabindex');\n        } else {\n          patternInputWrapperEl.tabIndex = patternInputFocusedRef.value ? -1 : 0;\n        }\n      });\n    });\n    useOnResize(selfRef, props.onResize);\n    const {\n      inlineThemeDisabled\n    } = props;\n    const cssVarsRef = computed(() => {\n      const {\n        size\n      } = props;\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          fontWeight,\n          borderRadius,\n          color,\n          placeholderColor,\n          textColor,\n          paddingSingle,\n          paddingMultiple,\n          caretColor,\n          colorDisabled,\n          textColorDisabled,\n          placeholderColorDisabled,\n          colorActive,\n          boxShadowFocus,\n          boxShadowActive,\n          boxShadowHover,\n          border,\n          borderFocus,\n          borderHover,\n          borderActive,\n          arrowColor,\n          arrowColorDisabled,\n          loadingColor,\n          // form warning\n          colorActiveWarning,\n          boxShadowFocusWarning,\n          boxShadowActiveWarning,\n          boxShadowHoverWarning,\n          borderWarning,\n          borderFocusWarning,\n          borderHoverWarning,\n          borderActiveWarning,\n          // form error\n          colorActiveError,\n          boxShadowFocusError,\n          boxShadowActiveError,\n          boxShadowHoverError,\n          borderError,\n          borderFocusError,\n          borderHoverError,\n          borderActiveError,\n          // clear\n          clearColor,\n          clearColorHover,\n          clearColorPressed,\n          clearSize,\n          // arrow\n          arrowSize,\n          [createKey('height', size)]: height,\n          [createKey('fontSize', size)]: fontSize\n        }\n      } = themeRef.value;\n      const paddingSingleDiscrete = getPadding(paddingSingle);\n      const paddingMultipleDiscrete = getPadding(paddingMultiple);\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-border': border,\n        '--n-border-active': borderActive,\n        '--n-border-focus': borderFocus,\n        '--n-border-hover': borderHover,\n        '--n-border-radius': borderRadius,\n        '--n-box-shadow-active': boxShadowActive,\n        '--n-box-shadow-focus': boxShadowFocus,\n        '--n-box-shadow-hover': boxShadowHover,\n        '--n-caret-color': caretColor,\n        '--n-color': color,\n        '--n-color-active': colorActive,\n        '--n-color-disabled': colorDisabled,\n        '--n-font-size': fontSize,\n        '--n-height': height,\n        '--n-padding-single-top': paddingSingleDiscrete.top,\n        '--n-padding-multiple-top': paddingMultipleDiscrete.top,\n        '--n-padding-single-right': paddingSingleDiscrete.right,\n        '--n-padding-multiple-right': paddingMultipleDiscrete.right,\n        '--n-padding-single-left': paddingSingleDiscrete.left,\n        '--n-padding-multiple-left': paddingMultipleDiscrete.left,\n        '--n-padding-single-bottom': paddingSingleDiscrete.bottom,\n        '--n-padding-multiple-bottom': paddingMultipleDiscrete.bottom,\n        '--n-placeholder-color': placeholderColor,\n        '--n-placeholder-color-disabled': placeholderColorDisabled,\n        '--n-text-color': textColor,\n        '--n-text-color-disabled': textColorDisabled,\n        '--n-arrow-color': arrowColor,\n        '--n-arrow-color-disabled': arrowColorDisabled,\n        '--n-loading-color': loadingColor,\n        // form warning\n        '--n-color-active-warning': colorActiveWarning,\n        '--n-box-shadow-focus-warning': boxShadowFocusWarning,\n        '--n-box-shadow-active-warning': boxShadowActiveWarning,\n        '--n-box-shadow-hover-warning': boxShadowHoverWarning,\n        '--n-border-warning': borderWarning,\n        '--n-border-focus-warning': borderFocusWarning,\n        '--n-border-hover-warning': borderHoverWarning,\n        '--n-border-active-warning': borderActiveWarning,\n        // form error\n        '--n-color-active-error': colorActiveError,\n        '--n-box-shadow-focus-error': boxShadowFocusError,\n        '--n-box-shadow-active-error': boxShadowActiveError,\n        '--n-box-shadow-hover-error': boxShadowHoverError,\n        '--n-border-error': borderError,\n        '--n-border-focus-error': borderFocusError,\n        '--n-border-hover-error': borderHoverError,\n        '--n-border-active-error': borderActiveError,\n        // clear\n        '--n-clear-size': clearSize,\n        '--n-clear-color': clearColor,\n        '--n-clear-color-hover': clearColorHover,\n        '--n-clear-color-pressed': clearColorPressed,\n        // arrow-size\n        '--n-arrow-size': arrowSize,\n        // font-weight\n        '--n-font-weight': fontWeight\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('internal-selection', computed(() => {\n      return props.size[0];\n    }), cssVarsRef, props) : undefined;\n    return {\n      mergedTheme: themeRef,\n      mergedClearable: mergedClearableRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      rtlEnabled: rtlEnabledRef,\n      patternInputFocused: patternInputFocusedRef,\n      filterablePlaceholder: filterablePlaceholderRef,\n      label: labelRef,\n      selected: selectedRef,\n      showTagsPanel: showTagsPopoverRef,\n      isComposing: isComposingRef,\n      // dom ref\n      counterRef,\n      counterWrapperRef,\n      patternInputMirrorRef,\n      patternInputRef,\n      selfRef,\n      multipleElRef,\n      singleElRef,\n      patternInputWrapperRef,\n      overflowRef,\n      inputTagElRef,\n      handleMouseDown,\n      handleFocusin,\n      handleClear,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleDeleteOption,\n      handlePatternKeyDown,\n      handlePatternInputInput,\n      handlePatternInputBlur,\n      handlePatternInputFocus,\n      handleMouseEnterCounter,\n      handleMouseLeaveCounter,\n      handleFocusout,\n      handleCompositionEnd,\n      handleCompositionStart,\n      onPopoverUpdateShow,\n      focus,\n      focusInput,\n      blur,\n      blurInput,\n      updateCounter,\n      getCounter,\n      getTail,\n      renderLabel: props.renderLabel,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    };\n  },\n  render() {\n    const {\n      status,\n      multiple,\n      size,\n      disabled,\n      filterable,\n      maxTagCount,\n      bordered,\n      clsPrefix,\n      ellipsisTagPopoverProps,\n      onRender,\n      renderTag,\n      renderLabel\n    } = this;\n    onRender === null || onRender === void 0 ? void 0 : onRender();\n    const maxTagCountResponsive = maxTagCount === 'responsive';\n    const maxTagCountNumeric = typeof maxTagCount === 'number';\n    const useMaxTagCount = maxTagCountResponsive || maxTagCountNumeric;\n    const suffix = h(Wrapper, null, {\n      default: () => h(Suffix, {\n        clsPrefix: clsPrefix,\n        loading: this.loading,\n        showArrow: this.showArrow,\n        showClear: this.mergedClearable && this.selected,\n        onClear: this.handleClear\n      }, {\n        default: () => {\n          var _a, _b;\n          return (_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a);\n        }\n      })\n    });\n    let body;\n    if (multiple) {\n      const {\n        labelField\n      } = this;\n      const createTag = option => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        key: option.value\n      }, renderTag ? renderTag({\n        option,\n        handleClose: () => {\n          this.handleDeleteOption(option);\n        }\n      }) : h(NTag, {\n        size: size,\n        closable: !option.disabled,\n        disabled: disabled,\n        onClose: () => {\n          this.handleDeleteOption(option);\n        },\n        internalCloseIsButtonTag: false,\n        internalCloseFocusable: false\n      }, {\n        default: () => renderLabel ? renderLabel(option, true) : render(option[labelField], option, true)\n      }));\n      const createOriginalTagNodes = () => (maxTagCountNumeric ? this.selectedOptions.slice(0, maxTagCount) : this.selectedOptions).map(createTag);\n      const input = filterable ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-input-tag`,\n        ref: \"inputTagElRef\",\n        key: \"__input-tag__\"\n      }, h(\"input\", Object.assign({}, this.inputProps, {\n        ref: \"patternInputRef\",\n        tabindex: -1,\n        disabled: disabled,\n        value: this.pattern,\n        autofocus: this.autofocus,\n        class: `${clsPrefix}-base-selection-input-tag__input`,\n        onBlur: this.handlePatternInputBlur,\n        onFocus: this.handlePatternInputFocus,\n        onKeydown: this.handlePatternKeyDown,\n        onInput: this.handlePatternInputInput,\n        onCompositionstart: this.handleCompositionStart,\n        onCompositionend: this.handleCompositionEnd\n      })), h(\"span\", {\n        ref: \"patternInputMirrorRef\",\n        class: `${clsPrefix}-base-selection-input-tag__mirror`\n      }, this.pattern)) : null;\n      // May Overflow\n      const renderCounter = maxTagCountResponsive ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-tag-wrapper`,\n        ref: \"counterWrapperRef\"\n      }, h(NTag, {\n        size: size,\n        ref: \"counterRef\",\n        onMouseenter: this.handleMouseEnterCounter,\n        onMouseleave: this.handleMouseLeaveCounter,\n        disabled: disabled\n      })) : undefined;\n      let counter;\n      if (maxTagCountNumeric) {\n        const rest = this.selectedOptions.length - maxTagCount;\n        if (rest > 0) {\n          counter = h(\"div\", {\n            class: `${clsPrefix}-base-selection-tag-wrapper`,\n            key: \"__counter__\"\n          }, h(NTag, {\n            size: size,\n            ref: \"counterRef\",\n            onMouseenter: this.handleMouseEnterCounter,\n            disabled: disabled\n          }, {\n            default: () => `+${rest}`\n          }));\n        }\n      }\n      const tags = maxTagCountResponsive ? filterable ? h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        getTail: this.getTail,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: createOriginalTagNodes,\n        counter: renderCounter,\n        tail: () => input\n      }) : h(VOverflow, {\n        ref: \"overflowRef\",\n        updateCounter: this.updateCounter,\n        getCounter: this.getCounter,\n        style: {\n          width: '100%',\n          display: 'flex',\n          overflow: 'hidden'\n        }\n      }, {\n        default: createOriginalTagNodes,\n        counter: renderCounter\n      }) : maxTagCountNumeric && counter ? createOriginalTagNodes().concat(counter) : createOriginalTagNodes();\n      const renderPopover = useMaxTagCount ? () => h(\"div\", {\n        class: `${clsPrefix}-base-selection-popover`\n      }, maxTagCountResponsive ? createOriginalTagNodes() : this.selectedOptions.map(createTag)) : undefined;\n      const popoverProps = useMaxTagCount ? Object.assign({\n        show: this.showTagsPanel,\n        trigger: 'hover',\n        overlap: true,\n        placement: 'top',\n        width: 'trigger',\n        onUpdateShow: this.onPopoverUpdateShow,\n        theme: this.mergedTheme.peers.Popover,\n        themeOverrides: this.mergedTheme.peerOverrides.Popover\n      }, ellipsisTagPopoverProps) : null;\n      const showPlaceholder = this.selected ? false : this.active ? !this.pattern && !this.isComposing : true;\n      const placeholder = showPlaceholder ? h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`\n      }, h(\"div\", {\n        class: `${clsPrefix}-base-selection-placeholder__inner`\n      }, this.placeholder)) : null;\n      const popoverTrigger = filterable ? h(\"div\", {\n        ref: \"patternInputWrapperRef\",\n        class: `${clsPrefix}-base-selection-tags`\n      }, tags, maxTagCountResponsive ? null : input, suffix) : h(\"div\", {\n        ref: \"multipleElRef\",\n        class: `${clsPrefix}-base-selection-tags`,\n        tabindex: disabled ? undefined : 0\n      }, tags, suffix);\n      body = h(Fragment, null, useMaxTagCount ? h(NPopover, Object.assign({}, popoverProps, {\n        scrollable: true,\n        style: \"max-height: calc(var(--v-target-height) * 6.6);\"\n      }), {\n        trigger: () => popoverTrigger,\n        default: renderPopover\n      }) : popoverTrigger, placeholder);\n    } else {\n      if (filterable) {\n        const hasInput = this.pattern || this.isComposing;\n        const showPlaceholder = this.active ? !hasInput : !this.selected;\n        const showSelectedLabel = this.active ? false : this.selected;\n        body = h(\"div\", {\n          ref: \"patternInputWrapperRef\",\n          class: `${clsPrefix}-base-selection-label`,\n          title: this.patternInputFocused ? undefined : getTitleAttribute(this.label)\n        }, h(\"input\", Object.assign({}, this.inputProps, {\n          ref: \"patternInputRef\",\n          class: `${clsPrefix}-base-selection-input`,\n          value: this.active ? this.pattern : '',\n          placeholder: \"\",\n          readonly: disabled,\n          disabled: disabled,\n          tabindex: -1,\n          autofocus: this.autofocus,\n          onFocus: this.handlePatternInputFocus,\n          onBlur: this.handlePatternInputBlur,\n          onInput: this.handlePatternInputInput,\n          onCompositionstart: this.handleCompositionStart,\n          onCompositionend: this.handleCompositionEnd\n        })), showSelectedLabel ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-label__render-label ${clsPrefix}-base-selection-overlay`,\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : null, showPlaceholder ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-overlay__wrapper`\n        }, this.filterablePlaceholder)) : null, suffix);\n      } else {\n        body = h(\"div\", {\n          ref: \"singleElRef\",\n          class: `${clsPrefix}-base-selection-label`,\n          tabindex: this.disabled ? undefined : 0\n        }, this.label !== undefined ? h(\"div\", {\n          class: `${clsPrefix}-base-selection-input`,\n          title: getTitleAttribute(this.label),\n          key: \"input\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-input__content`\n        }, renderTag ? renderTag({\n          option: this.selectedOption,\n          handleClose: () => {}\n        }) : renderLabel ? renderLabel(this.selectedOption, true) : render(this.label, this.selectedOption, true))) : h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder ${clsPrefix}-base-selection-overlay`,\n          key: \"placeholder\"\n        }, h(\"div\", {\n          class: `${clsPrefix}-base-selection-placeholder__inner`\n        }, this.placeholder)), suffix);\n      }\n    }\n    return h(\"div\", {\n      ref: \"selfRef\",\n      class: [`${clsPrefix}-base-selection`, this.rtlEnabled && `${clsPrefix}-base-selection--rtl`, this.themeClass, status && `${clsPrefix}-base-selection--${status}-status`, {\n        [`${clsPrefix}-base-selection--active`]: this.active,\n        [`${clsPrefix}-base-selection--selected`]: this.selected || this.active && this.pattern,\n        [`${clsPrefix}-base-selection--disabled`]: this.disabled,\n        [`${clsPrefix}-base-selection--multiple`]: this.multiple,\n        // focus is not controlled by selection itself since it always need\n        // to be managed together with menu. provide :focus style will cause\n        // many redundant codes.\n        [`${clsPrefix}-base-selection--focus`]: this.focused\n      }],\n      style: this.cssVars,\n      onClick: this.onClick,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onKeydown: this.onKeydown,\n      onFocusin: this.handleFocusin,\n      onFocusout: this.handleFocusout,\n      onMousedown: this.handleMouseDown\n    }, body, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__border`\n    }) : null, bordered ? h(\"div\", {\n      class: `${clsPrefix}-base-selection__state-border`\n    }) : null);\n  }\n});","export function getIsGroup(option) {\n  return option.type === 'group';\n}\nexport function getIgnored(option) {\n  return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n  try {\n    return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n  } catch (_a) {\n    return false;\n  }\n}\nexport function createTmOptions(valueField, childrenField) {\n  const options = {\n    getIsGroup,\n    getIgnored,\n    getKey(option) {\n      if (getIsGroup(option)) {\n        return option.name || option.key || 'key-required';\n      }\n      // Required for non-custom label & value field\n      return option[valueField];\n    },\n    getChildren(option) {\n      return option[childrenField];\n    }\n  };\n  return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n  if (!filter) return originalOpts;\n  function traverse(options) {\n    if (!Array.isArray(options)) return [];\n    const filteredOptions = [];\n    for (const option of options) {\n      if (getIsGroup(option)) {\n        const children = traverse(option[childrenField]);\n        if (children.length) {\n          filteredOptions.push(Object.assign({}, option, {\n            [childrenField]: children\n          }));\n        }\n      } else if (getIgnored(option)) {\n        continue;\n      } else if (filter(pattern, option)) {\n        filteredOptions.push(option);\n      }\n    }\n    return filteredOptions;\n  }\n  return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n  const valOptMap = new Map();\n  options.forEach(option => {\n    if (getIsGroup(option)) {\n      ;\n      option[childrenField].forEach(selectGroupOption => {\n        valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n      });\n    } else {\n      valOptMap.set(option[valueField], option);\n    }\n  });\n  return valOptMap;\n}","import { internalSelectMenuLight } from \"../../_internal/select-menu/styles/index.mjs\";\nimport { internalSelectionLight } from \"../../_internal/selection/styles/index.mjs\";\nimport { createTheme } from \"../../_mixins/index.mjs\";\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nexport function self(vars) {\n  const {\n    boxShadow2\n  } = vars;\n  return {\n    menuBoxShadow: boxShadow2\n  };\n}\nconst selectLight = createTheme({\n  name: 'Select',\n  common: commonLight,\n  peers: {\n    InternalSelection: internalSelectionLight,\n    InternalSelectMenu: internalSelectMenuLight\n  },\n  self\n});\nexport default selectLight;","import { fadeInScaleUpTransition } from \"../../../_styles/transitions/fade-in-scale-up.cssr.mjs\";\nimport { c, cB } from \"../../../_utils/cssr/index.mjs\";\n// --n-menu-box-shadow\nexport default c([cB('select', `\n z-index: auto;\n outline: none;\n width: 100%;\n position: relative;\n font-weight: var(--n-font-weight);\n `), cB('select-menu', `\n margin: 4px 0;\n box-shadow: var(--n-menu-box-shadow);\n `, [fadeInScaleUpTransition({\n  originalTransition: 'background-color .3s var(--n-bezier), box-shadow .3s var(--n-bezier)'\n})])]);","import { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { clickoutside } from 'vdirs';\nimport { useCompitable, useIsMounted, useMergedState } from 'vooks';\nimport { computed, defineComponent, h, ref, toRef, Transition, vShow, watch, watchEffect, withDirectives } from 'vue';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { NInternalSelection, NInternalSelectMenu } from \"../../_internal/index.mjs\";\nimport { useConfig, useFormItem, useLocale, useTheme, useThemeClass } from \"../../_mixins/index.mjs\";\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from \"../../_utils/index.mjs\";\nimport { selectLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nimport { createTmOptions, createValOptMap, filterOptions, patternMatched } from \"./utils.mjs\";\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: useAdjustedTo.propTo,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  clearable: Boolean,\n  clearFilterAfterSelect: {\n    type: Boolean,\n    default: true\n  },\n  options: {\n    type: Array,\n    default: () => []\n  },\n  defaultValue: {\n    type: [String, Number, Array],\n    default: null\n  },\n  keyboard: {\n    type: Boolean,\n    default: true\n  },\n  value: [String, Number, Array],\n  placeholder: String,\n  menuProps: Object,\n  multiple: Boolean,\n  size: String,\n  menuSize: {\n    type: String\n  },\n  filterable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  remote: Boolean,\n  loading: Boolean,\n  filter: Function,\n  placement: {\n    type: String,\n    default: 'bottom-start'\n  },\n  widthMode: {\n    type: String,\n    default: 'trigger'\n  },\n  tag: Boolean,\n  onCreate: Function,\n  fallbackOption: {\n    type: [Function, Boolean],\n    default: undefined\n  },\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  maxTagCount: [Number, String],\n  ellipsisTagPopoverProps: Object,\n  consistentMenuWidth: {\n    type: Boolean,\n    default: true\n  },\n  virtualScroll: {\n    type: Boolean,\n    default: true\n  },\n  labelField: {\n    type: String,\n    default: 'label'\n  },\n  valueField: {\n    type: String,\n    default: 'value'\n  },\n  childrenField: {\n    type: String,\n    default: 'children'\n  },\n  renderLabel: Function,\n  renderOption: Function,\n  renderTag: Function,\n  'onUpdate:value': [Function, Array],\n  inputProps: Object,\n  nodeProps: Function,\n  ignoreComposition: {\n    type: Boolean,\n    default: true\n  },\n  showOnFocus: Boolean,\n  // for jsx\n  onUpdateValue: [Function, Array],\n  onBlur: [Function, Array],\n  onClear: [Function, Array],\n  onFocus: [Function, Array],\n  onScroll: [Function, Array],\n  onSearch: [Function, Array],\n  onUpdateShow: [Function, Array],\n  'onUpdate:show': [Function, Array],\n  displayDirective: {\n    type: String,\n    default: 'show'\n  },\n  resetMenuOnOptionsChange: {\n    type: Boolean,\n    default: true\n  },\n  status: String,\n  showCheckmark: {\n    type: Boolean,\n    default: true\n  },\n  /** deprecated */\n  onChange: [Function, Array],\n  items: Array\n});\nexport default defineComponent({\n  name: 'Select',\n  props: selectProps,\n  slots: Object,\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.items !== undefined) {\n          warnOnce('select', '`items` is deprecated, please use `options` instead.');\n        }\n        if (props.onChange !== undefined) {\n          warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n    const {\n      mergedClsPrefixRef,\n      mergedBorderedRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const focusedRef = ref(false);\n    const patternRef = ref('');\n    const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n    const createdOptionsRef = ref([]);\n    const beingCreatedOptionsRef = ref([]);\n    const localOptionsRef = computed(() => {\n      return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n    });\n    const resolvedFilterRef = computed(() => {\n      const {\n        filter\n      } = props;\n      if (filter) return filter;\n      const {\n        labelField,\n        valueField\n      } = props;\n      return (pattern, option) => {\n        if (!option) return false;\n        const label = option[labelField];\n        if (typeof label === 'string') {\n          return patternMatched(pattern, label);\n        }\n        const value = option[valueField];\n        if (typeof value === 'string') {\n          return patternMatched(pattern, value);\n        }\n        if (typeof value === 'number') {\n          return patternMatched(pattern, String(value));\n        }\n        return false;\n      };\n    });\n    const filteredOptionsRef = computed(() => {\n      if (props.remote) {\n        return compitableOptionsRef.value;\n      } else {\n        const {\n          value: localOptions\n        } = localOptionsRef;\n        const {\n          value: pattern\n        } = patternRef;\n        if (!pattern.length || !props.filterable) {\n          return localOptions;\n        } else {\n          return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n        }\n      }\n    });\n    const treeMateRef = computed(() => {\n      const {\n        valueField,\n        childrenField\n      } = props;\n      const options = createTmOptions(valueField, childrenField);\n      return createTreeMate(filteredOptionsRef.value, options);\n    });\n    const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n    const uncontrolledShowRef = ref(false);\n    const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n    const triggerRef = ref(null);\n    const followerRef = ref(null);\n    const menuRef = ref(null);\n    const {\n      localeRef\n    } = useLocale('Select');\n    const localizedPlaceholderRef = computed(() => {\n      var _a;\n      return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n    });\n    const emptyArray = [];\n    const memoValOptMapRef = ref(new Map());\n    const wrappedFallbackOptionRef = computed(() => {\n      const {\n        fallbackOption\n      } = props;\n      if (fallbackOption === undefined) {\n        const {\n          labelField,\n          valueField\n        } = props;\n        return value => ({\n          [labelField]: String(value),\n          [valueField]: value\n        });\n      }\n      if (fallbackOption === false) return false;\n      return value => {\n        return Object.assign(fallbackOption(value), {\n          value\n        });\n      };\n    });\n    function getMergedOptions(values) {\n      const remote = props.remote;\n      const {\n        value: memoValOptMap\n      } = memoValOptMapRef;\n      const {\n        value: valOptMap\n      } = valOptMapRef;\n      const {\n        value: wrappedFallbackOption\n      } = wrappedFallbackOptionRef;\n      const options = [];\n      values.forEach(value => {\n        if (valOptMap.has(value)) {\n          options.push(valOptMap.get(value));\n        } else if (remote && memoValOptMap.has(value)) {\n          options.push(memoValOptMap.get(value));\n        } else if (wrappedFallbackOption) {\n          const option = wrappedFallbackOption(value);\n          if (option) {\n            options.push(option);\n          }\n        }\n      });\n      return options;\n    }\n    const selectedOptionsRef = computed(() => {\n      if (props.multiple) {\n        const {\n          value: values\n        } = mergedValueRef;\n        if (!Array.isArray(values)) return [];\n        return getMergedOptions(values);\n      }\n      return null;\n    });\n    const selectedOptionRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n      if (!props.multiple && !Array.isArray(mergedValue)) {\n        if (mergedValue === null) return null;\n        return getMergedOptions([mergedValue])[0] || null;\n      }\n      return null;\n    });\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef,\n      mergedStatusRef\n    } = formItem;\n    function doUpdateValue(value, option) {\n      const {\n        onChange,\n        'onUpdate:value': _onUpdateValue,\n        onUpdateValue\n      } = props;\n      const {\n        nTriggerFormChange,\n        nTriggerFormInput\n      } = formItem;\n      if (onChange) call(onChange, value, option);\n      if (onUpdateValue) call(onUpdateValue, value, option);\n      if (_onUpdateValue) {\n        call(_onUpdateValue, value, option);\n      }\n      uncontrolledValueRef.value = value;\n      nTriggerFormChange();\n      nTriggerFormInput();\n    }\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      if (onBlur) call(onBlur, e);\n      nTriggerFormBlur();\n    }\n    function doClear() {\n      const {\n        onClear\n      } = props;\n      if (onClear) call(onClear);\n    }\n    function doFocus(e) {\n      const {\n        onFocus,\n        showOnFocus\n      } = props;\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      if (onFocus) call(onFocus, e);\n      nTriggerFormFocus();\n      if (showOnFocus) {\n        openMenu();\n      }\n    }\n    function doSearch(value) {\n      const {\n        onSearch\n      } = props;\n      if (onSearch) call(onSearch, value);\n    }\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) call(onScroll, e);\n    }\n    // remote related methods\n    function updateMemorizedOptions() {\n      var _a;\n      const {\n        remote,\n        multiple\n      } = props;\n      if (remote) {\n        const {\n          value: memoValOptMap\n        } = memoValOptMapRef;\n        if (multiple) {\n          const {\n            valueField\n          } = props;\n          (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach(option => {\n            memoValOptMap.set(option[valueField], option);\n          });\n        } else {\n          const option = selectedOptionRef.value;\n          if (option) {\n            memoValOptMap.set(option[props.valueField], option);\n          }\n        }\n      }\n    }\n    // menu related methods\n    function doUpdateShow(value) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, value);\n      if (_onUpdateShow) call(_onUpdateShow, value);\n      uncontrolledShowRef.value = value;\n    }\n    function openMenu() {\n      if (!mergedDisabledRef.value) {\n        doUpdateShow(true);\n        uncontrolledShowRef.value = true;\n        if (props.filterable) {\n          focusSelectionInput();\n        }\n      }\n    }\n    function closeMenu() {\n      doUpdateShow(false);\n    }\n    function handleMenuAfterLeave() {\n      patternRef.value = '';\n      beingCreatedOptionsRef.value = emptyArray;\n    }\n    const activeWithoutMenuOpenRef = ref(false);\n    function onTriggerInputFocus() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = true;\n      }\n    }\n    function onTriggerInputBlur() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = false;\n        if (!mergedShowRef.value) {\n          handleMenuAfterLeave();\n        }\n      }\n    }\n    function handleTriggerClick() {\n      if (mergedDisabledRef.value) return;\n      if (!mergedShowRef.value) {\n        openMenu();\n      } else {\n        if (!props.filterable) {\n          // already focused, don't need to return focus\n          closeMenu();\n        } else {\n          focusSelectionInput();\n        }\n      }\n    }\n    function handleTriggerBlur(e) {\n      var _a, _b;\n      if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n        return;\n      }\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleTriggerFocus(e) {\n      doFocus(e);\n      focusedRef.value = true;\n    }\n    function handleMenuFocus() {\n      focusedRef.value = true;\n    }\n    function handleMenuBlur(e) {\n      var _a;\n      if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget)) return;\n      focusedRef.value = false;\n      doBlur(e);\n      // outside select, don't need to return focus\n      closeMenu();\n    }\n    function handleMenuTabOut() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      closeMenu();\n    }\n    function handleMenuClickOutside(e) {\n      var _a;\n      if (mergedShowRef.value) {\n        if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n          // outside select, don't need to return focus\n          closeMenu();\n        }\n      }\n    }\n    function createClearedMultipleSelectValue(value) {\n      if (!Array.isArray(value)) return [];\n      if (wrappedFallbackOptionRef.value) {\n        // if option has a fallback, I can't help user to clear some unknown value\n        return Array.from(value);\n      } else {\n        // if there's no option fallback, unappeared options are treated as invalid\n        const {\n          remote\n        } = props;\n        const {\n          value: valOptMap\n        } = valOptMapRef;\n        if (remote) {\n          const {\n            value: memoValOptMap\n          } = memoValOptMapRef;\n          return value.filter(v => valOptMap.has(v) || memoValOptMap.has(v));\n        } else {\n          return value.filter(v => valOptMap.has(v));\n        }\n      }\n    }\n    function handleToggleByTmNode(tmNode) {\n      handleToggleByOption(tmNode.rawNode);\n    }\n    function handleToggleByOption(option) {\n      if (mergedDisabledRef.value) return;\n      const {\n        tag,\n        remote,\n        clearFilterAfterSelect,\n        valueField\n      } = props;\n      if (tag && !remote) {\n        const {\n          value: beingCreatedOptions\n        } = beingCreatedOptionsRef;\n        const beingCreatedOption = beingCreatedOptions[0] || null;\n        if (beingCreatedOption) {\n          const createdOptions = createdOptionsRef.value;\n          if (!createdOptions.length) {\n            createdOptionsRef.value = [beingCreatedOption];\n          } else {\n            createdOptions.push(beingCreatedOption);\n          }\n          beingCreatedOptionsRef.value = emptyArray;\n        }\n      }\n      if (remote) {\n        memoValOptMapRef.value.set(option[valueField], option);\n      }\n      if (props.multiple) {\n        const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n        const index = changedValue.findIndex(value => value === option[valueField]);\n        if (~index) {\n          changedValue.splice(index, 1);\n          if (tag && !remote) {\n            const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n            if (~createdOptionIndex) {\n              createdOptionsRef.value.splice(createdOptionIndex, 1);\n              if (clearFilterAfterSelect) patternRef.value = '';\n            }\n          }\n        } else {\n          changedValue.push(option[valueField]);\n          if (clearFilterAfterSelect) patternRef.value = '';\n        }\n        doUpdateValue(changedValue, getMergedOptions(changedValue));\n      } else {\n        if (tag && !remote) {\n          const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n          if (~createdOptionIndex) {\n            createdOptionsRef.value = [createdOptionsRef.value[createdOptionIndex]];\n          } else {\n            createdOptionsRef.value = emptyArray;\n          }\n        }\n        focusSelection();\n        closeMenu();\n        doUpdateValue(option[valueField], option);\n      }\n    }\n    function getCreatedOptionIndex(optionValue) {\n      const createdOptions = createdOptionsRef.value;\n      return createdOptions.findIndex(createdOption => createdOption[props.valueField] === optionValue);\n    }\n    function handlePatternInput(e) {\n      if (!mergedShowRef.value) {\n        openMenu();\n      }\n      const {\n        value\n      } = e.target;\n      patternRef.value = value;\n      const {\n        tag,\n        remote\n      } = props;\n      doSearch(value);\n      if (tag && !remote) {\n        if (!value) {\n          beingCreatedOptionsRef.value = emptyArray;\n          return;\n        }\n        const {\n          onCreate\n        } = props;\n        const optionBeingCreated = onCreate ? onCreate(value) : {\n          [props.labelField]: value,\n          [props.valueField]: value\n        };\n        const {\n          valueField,\n          labelField\n        } = props;\n        if (compitableOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        }) || createdOptionsRef.value.some(option => {\n          return option[valueField] === optionBeingCreated[valueField] || option[labelField] === optionBeingCreated[labelField];\n        })) {\n          beingCreatedOptionsRef.value = emptyArray;\n        } else {\n          beingCreatedOptionsRef.value = [optionBeingCreated];\n        }\n      }\n    }\n    function handleClear(e) {\n      e.stopPropagation();\n      const {\n        multiple\n      } = props;\n      if (!multiple && props.filterable) {\n        closeMenu();\n      }\n      doClear();\n      if (multiple) {\n        doUpdateValue([], []);\n      } else {\n        doUpdateValue(null, null);\n      }\n    }\n    function handleMenuMousedown(e) {\n      if (!happensIn(e, 'action') && !happensIn(e, 'empty') && !happensIn(e, 'header')) {\n        e.preventDefault();\n      }\n    }\n    // scroll events on menu\n    function handleMenuScroll(e) {\n      doScroll(e);\n    }\n    // keyboard events\n    // also for menu keydown\n    function handleKeydown(e) {\n      var _a, _b, _c, _d, _e;\n      if (!props.keyboard) {\n        e.preventDefault();\n        return;\n      }\n      switch (e.key) {\n        case ' ':\n          if (props.filterable) {\n            break;\n          } else {\n            e.preventDefault();\n          }\n        // eslint-disable-next-line no-fallthrough\n        case 'Enter':\n          if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isComposing)) {\n            if (mergedShowRef.value) {\n              const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n              if (pendingTmNode) {\n                handleToggleByTmNode(pendingTmNode);\n              } else if (!props.filterable) {\n                closeMenu();\n                focusSelection();\n              }\n            } else {\n              openMenu();\n              if (props.tag && activeWithoutMenuOpenRef.value) {\n                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                if (beingCreatedOption) {\n                  const optionValue = beingCreatedOption[props.valueField];\n                  const {\n                    value: mergedValue\n                  } = mergedValueRef;\n                  if (props.multiple) {\n                    if (Array.isArray(mergedValue) && mergedValue.includes(optionValue)) {\n                      // do nothing\n                    } else {\n                      handleToggleByOption(beingCreatedOption);\n                    }\n                  } else {\n                    handleToggleByOption(beingCreatedOption);\n                  }\n                }\n              }\n            }\n          }\n          e.preventDefault();\n          break;\n        case 'ArrowUp':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n          }\n          break;\n        case 'ArrowDown':\n          e.preventDefault();\n          if (props.loading) return;\n          if (mergedShowRef.value) {\n            (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n          } else {\n            openMenu();\n          }\n          break;\n        case 'Escape':\n          if (mergedShowRef.value) {\n            markEventEffectPerformed(e);\n            closeMenu();\n          }\n          (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n          break;\n      }\n    }\n    function focusSelection() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n    function focusSelectionInput() {\n      var _a;\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n    }\n    function handleTriggerOrMenuResize() {\n      var _a;\n      if (!mergedShowRef.value) return;\n      (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n    }\n    updateMemorizedOptions();\n    watch(toRef(props, 'options'), updateMemorizedOptions);\n    const exposedMethods = {\n      focus: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      focusInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n      },\n      blur: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n      },\n      blurInput: () => {\n        var _a;\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blurInput();\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        self: {\n          menuBoxShadow\n        }\n      } = themeRef.value;\n      return {\n        '--n-menu-box-shadow': menuBoxShadow\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('select', undefined, cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, exposedMethods), {\n      mergedStatus: mergedStatusRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      namespace: namespaceRef,\n      treeMate: treeMateRef,\n      isMounted: useIsMounted(),\n      triggerRef,\n      menuRef,\n      pattern: patternRef,\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShow: mergedShowRef,\n      adjustedTo: useAdjustedTo(props),\n      uncontrolledValue: uncontrolledValueRef,\n      mergedValue: mergedValueRef,\n      followerRef,\n      localizedPlaceholder: localizedPlaceholderRef,\n      selectedOption: selectedOptionRef,\n      selectedOptions: selectedOptionsRef,\n      mergedSize: mergedSizeRef,\n      mergedDisabled: mergedDisabledRef,\n      focused: focusedRef,\n      activeWithoutMenuOpen: activeWithoutMenuOpenRef,\n      inlineThemeDisabled,\n      onTriggerInputFocus,\n      onTriggerInputBlur,\n      handleTriggerOrMenuResize,\n      handleMenuFocus,\n      handleMenuBlur,\n      handleMenuTabOut,\n      handleTriggerClick,\n      handleToggle: handleToggleByTmNode,\n      handleDeleteOption: handleToggleByOption,\n      handlePatternInput,\n      handleClear,\n      handleTriggerBlur,\n      handleTriggerFocus,\n      handleKeydown,\n      handleMenuAfterLeave,\n      handleMenuClickOutside,\n      handleMenuScroll,\n      handleMenuKeydown: handleKeydown,\n      handleMenuMousedown,\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n  render() {\n    return h(\"div\", {\n      class: `${this.mergedClsPrefix}-select`\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(NInternalSelection, {\n          ref: \"triggerRef\",\n          inlineThemeDisabled: this.inlineThemeDisabled,\n          status: this.mergedStatus,\n          inputProps: this.inputProps,\n          clsPrefix: this.mergedClsPrefix,\n          showArrow: this.showArrow,\n          maxTagCount: this.maxTagCount,\n          ellipsisTagPopoverProps: this.ellipsisTagPopoverProps,\n          bordered: this.mergedBordered,\n          active: this.activeWithoutMenuOpen || this.mergedShow,\n          pattern: this.pattern,\n          placeholder: this.localizedPlaceholder,\n          selectedOption: this.selectedOption,\n          selectedOptions: this.selectedOptions,\n          multiple: this.multiple,\n          renderTag: this.renderTag,\n          renderLabel: this.renderLabel,\n          filterable: this.filterable,\n          clearable: this.clearable,\n          disabled: this.mergedDisabled,\n          size: this.mergedSize,\n          theme: this.mergedTheme.peers.InternalSelection,\n          labelField: this.labelField,\n          valueField: this.valueField,\n          themeOverrides: this.mergedTheme.peerOverrides.InternalSelection,\n          loading: this.loading,\n          focused: this.focused,\n          onClick: this.handleTriggerClick,\n          onDeleteOption: this.handleDeleteOption,\n          onPatternInput: this.handlePatternInput,\n          onClear: this.handleClear,\n          onBlur: this.handleTriggerBlur,\n          onFocus: this.handleTriggerFocus,\n          onKeydown: this.handleKeydown,\n          onPatternBlur: this.onTriggerInputBlur,\n          onPatternFocus: this.onTriggerInputFocus,\n          onResize: this.handleTriggerOrMenuResize,\n          ignoreComposition: this.ignoreComposition\n        }, {\n          arrow: () => {\n            var _a, _b;\n            return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)];\n          }\n        })\n      }), h(VFollower, {\n        ref: \"followerRef\",\n        show: this.mergedShow,\n        to: this.adjustedTo,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n        containerClass: this.namespace,\n        width: this.consistentMenuWidth ? 'target' : undefined,\n        minWidth: \"target\",\n        placement: this.placement\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: this.isMounted,\n          onAfterLeave: this.handleMenuAfterLeave\n        }, {\n          default: () => {\n            var _a, _b, _c;\n            if (!(this.mergedShow || this.displayDirective === 'show')) {\n              return null;\n            }\n            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n            return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, {\n              ref: \"menuRef\",\n              onResize: this.handleTriggerOrMenuResize,\n              inlineThemeDisabled: this.inlineThemeDisabled,\n              virtualScroll: this.consistentMenuWidth && this.virtualScroll,\n              class: [`${this.mergedClsPrefix}-select-menu`, this.themeClass, (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class],\n              clsPrefix: this.mergedClsPrefix,\n              focusable: true,\n              labelField: this.labelField,\n              valueField: this.valueField,\n              autoPending: true,\n              nodeProps: this.nodeProps,\n              theme: this.mergedTheme.peers.InternalSelectMenu,\n              themeOverrides: this.mergedTheme.peerOverrides.InternalSelectMenu,\n              treeMate: this.treeMate,\n              multiple: this.multiple,\n              size: this.menuSize,\n              renderOption: this.renderOption,\n              renderLabel: this.renderLabel,\n              value: this.mergedValue,\n              style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars],\n              onToggle: this.handleToggle,\n              onScroll: this.handleMenuScroll,\n              onFocus: this.handleMenuFocus,\n              onBlur: this.handleMenuBlur,\n              onKeydown: this.handleMenuKeydown,\n              onTabOut: this.handleMenuTabOut,\n              onMousedown: this.handleMenuMousedown,\n              show: this.mergedShow,\n              showCheckmark: this.showCheckmark,\n              resetMenuOnOptionsChange: this.resetMenuOnOptionsChange\n            }), {\n              empty: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              header: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              action: () => {\n                var _a, _b;\n                return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              }\n            }), this.displayDirective === 'show' ? [[vShow, this.mergedShow], [clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]] : [[clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]]);\n          }\n        })\n      })]\n    }));\n  }\n});","/*!\n * Compressor.js v1.2.1\n * https://fengyuanchen.github.io/compressorjs\n *\n * Copyright 2018-present Chen Fengyuan\n * Released under the MIT license\n *\n * Date: 2023-02-28T14:09:41.732Z\n */\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\nfunction _defineProperty(obj, key, value) {\n  key = _toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _extends() {\n  _extends = Object.assign ? Object.assign.bind() : function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction _toPrimitive(input, hint) {\n  if (typeof input !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (typeof res !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nfunction _toPropertyKey(arg) {\n  var key = _toPrimitive(arg, \"string\");\n  return typeof key === \"symbol\" ? key : String(key);\n}\n\nvar canvasToBlob = {exports: {}};\n\n/*\n * JavaScript Canvas to Blob\n * https://github.com/blueimp/JavaScript-Canvas-to-Blob\n *\n * Copyright 2012, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on stackoverflow user Stoive's code snippet:\n * http://stackoverflow.com/q/4998908\n */\n(function (module) {\n  if (typeof window === 'undefined') {\n    return;\n  }\n  (function (window) {\n\n    var CanvasPrototype = window.HTMLCanvasElement && window.HTMLCanvasElement.prototype;\n    var hasBlobConstructor = window.Blob && function () {\n      try {\n        return Boolean(new Blob());\n      } catch (e) {\n        return false;\n      }\n    }();\n    var hasArrayBufferViewSupport = hasBlobConstructor && window.Uint8Array && function () {\n      try {\n        return new Blob([new Uint8Array(100)]).size === 100;\n      } catch (e) {\n        return false;\n      }\n    }();\n    var BlobBuilder = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder;\n    var dataURIPattern = /^data:((.*?)(;charset=.*?)?)(;base64)?,/;\n    var dataURLtoBlob = (hasBlobConstructor || BlobBuilder) && window.atob && window.ArrayBuffer && window.Uint8Array && function (dataURI) {\n      var matches, mediaType, isBase64, dataString, byteString, arrayBuffer, intArray, i, bb;\n      // Parse the dataURI components as per RFC 2397\n      matches = dataURI.match(dataURIPattern);\n      if (!matches) {\n        throw new Error('invalid data URI');\n      }\n      // Default to text/plain;charset=US-ASCII\n      mediaType = matches[2] ? matches[1] : 'text/plain' + (matches[3] || ';charset=US-ASCII');\n      isBase64 = !!matches[4];\n      dataString = dataURI.slice(matches[0].length);\n      if (isBase64) {\n        // Convert base64 to raw binary data held in a string:\n        byteString = atob(dataString);\n      } else {\n        // Convert base64/URLEncoded data component to raw binary:\n        byteString = decodeURIComponent(dataString);\n      }\n      // Write the bytes of the string to an ArrayBuffer:\n      arrayBuffer = new ArrayBuffer(byteString.length);\n      intArray = new Uint8Array(arrayBuffer);\n      for (i = 0; i < byteString.length; i += 1) {\n        intArray[i] = byteString.charCodeAt(i);\n      }\n      // Write the ArrayBuffer (or ArrayBufferView) to a blob:\n      if (hasBlobConstructor) {\n        return new Blob([hasArrayBufferViewSupport ? intArray : arrayBuffer], {\n          type: mediaType\n        });\n      }\n      bb = new BlobBuilder();\n      bb.append(arrayBuffer);\n      return bb.getBlob(mediaType);\n    };\n    if (window.HTMLCanvasElement && !CanvasPrototype.toBlob) {\n      if (CanvasPrototype.mozGetAsFile) {\n        CanvasPrototype.toBlob = function (callback, type, quality) {\n          var self = this;\n          setTimeout(function () {\n            if (quality && CanvasPrototype.toDataURL && dataURLtoBlob) {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            } else {\n              callback(self.mozGetAsFile('blob', type));\n            }\n          });\n        };\n      } else if (CanvasPrototype.toDataURL && dataURLtoBlob) {\n        if (CanvasPrototype.msToBlob) {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              if ((type && type !== 'image/png' || quality) && CanvasPrototype.toDataURL && dataURLtoBlob) {\n                callback(dataURLtoBlob(self.toDataURL(type, quality)));\n              } else {\n                callback(self.msToBlob(type));\n              }\n            });\n          };\n        } else {\n          CanvasPrototype.toBlob = function (callback, type, quality) {\n            var self = this;\n            setTimeout(function () {\n              callback(dataURLtoBlob(self.toDataURL(type, quality)));\n            });\n          };\n        }\n      }\n    }\n    if (module.exports) {\n      module.exports = dataURLtoBlob;\n    } else {\n      window.dataURLtoBlob = dataURLtoBlob;\n    }\n  })(window);\n})(canvasToBlob);\nvar toBlob = canvasToBlob.exports;\n\nvar isBlob = function isBlob(value) {\n  if (typeof Blob === 'undefined') {\n    return false;\n  }\n  return value instanceof Blob || Object.prototype.toString.call(value) === '[object Blob]';\n};\n\nvar DEFAULTS = {\n  /**\n   * Indicates if output the original image instead of the compressed one\n   * when the size of the compressed image is greater than the original one's\n   * @type {boolean}\n   */\n  strict: true,\n  /**\n   * Indicates if read the image's Exif Orientation information,\n   * and then rotate or flip the image automatically.\n   * @type {boolean}\n   */\n  checkOrientation: true,\n  /**\n   * Indicates if retain the image's Exif information after compressed.\n   * @type {boolean}\n  */\n  retainExif: false,\n  /**\n   * The max width of the output image.\n   * @type {number}\n   */\n  maxWidth: Infinity,\n  /**\n   * The max height of the output image.\n   * @type {number}\n   */\n  maxHeight: Infinity,\n  /**\n   * The min width of the output image.\n   * @type {number}\n   */\n  minWidth: 0,\n  /**\n   * The min height of the output image.\n   * @type {number}\n   */\n  minHeight: 0,\n  /**\n   * The width of the output image.\n   * If not specified, the natural width of the source image will be used.\n   * @type {number}\n   */\n  width: undefined,\n  /**\n   * The height of the output image.\n   * If not specified, the natural height of the source image will be used.\n   * @type {number}\n   */\n  height: undefined,\n  /**\n   * Sets how the size of the image should be resized to the container\n   * specified by the `width` and `height` options.\n   * @type {string}\n   */\n  resize: 'none',\n  /**\n   * The quality of the output image.\n   * It must be a number between `0` and `1`,\n   * and only available for `image/jpeg` and `image/webp` images.\n   * Check out {@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/toBlob canvas.toBlob}.\n   * @type {number}\n   */\n  quality: 0.8,\n  /**\n   * The mime type of the output image.\n   * By default, the original mime type of the source image file will be used.\n   * @type {string}\n   */\n  mimeType: 'auto',\n  /**\n   * Files whose file type is included in this list,\n   * and whose file size exceeds the `convertSize` value will be converted to JPEGs.\n   * @type {string｜Array}\n   */\n  convertTypes: ['image/png'],\n  /**\n   * PNG files over this size (5 MB by default) will be converted to JPEGs.\n   * To disable this, just set the value to `Infinity`.\n   * @type {number}\n   */\n  convertSize: 5000000,\n  /**\n   * The hook function to execute before draw the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.fillStyle = '#fff';\n   * }\n   */\n  beforeDraw: null,\n  /**\n   * The hook function to execute after drew the image into the canvas for compression.\n   * @type {Function}\n   * @param {CanvasRenderingContext2D} context - The 2d rendering context of the canvas.\n   * @param {HTMLCanvasElement} canvas - The canvas for compression.\n   * @example\n   * function (context, canvas) {\n   *   context.filter = 'grayscale(100%)';\n   * }\n   */\n  drew: null,\n  /**\n   * The hook function to execute when success to compress the image.\n   * @type {Function}\n   * @param {File} file - The compressed image File object.\n   * @example\n   * function (file) {\n   *   console.log(file);\n   * }\n   */\n  success: null,\n  /**\n   * The hook function to execute when fail to compress the image.\n   * @type {Function}\n   * @param {Error} err - An Error object.\n   * @example\n   * function (err) {\n   *   console.log(err.message);\n   * }\n   */\n  error: null\n};\n\nvar IS_BROWSER = typeof window !== 'undefined' && typeof window.document !== 'undefined';\nvar WINDOW = IS_BROWSER ? window : {};\n\n/**\n * Check if the given value is a positive number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a positive number, else `false`.\n */\nvar isPositiveNumber = function isPositiveNumber(value) {\n  return value > 0 && value < Infinity;\n};\nvar slice = Array.prototype.slice;\n\n/**\n * Convert array-like or iterable object to an array.\n * @param {*} value - The value to convert.\n * @returns {Array} Returns a new array.\n */\nfunction toArray(value) {\n  return Array.from ? Array.from(value) : slice.call(value);\n}\nvar REGEXP_IMAGE_TYPE = /^image\\/.+$/;\n\n/**\n * Check if the given value is a mime type of image.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given is a mime type of image, else `false`.\n */\nfunction isImageType(value) {\n  return REGEXP_IMAGE_TYPE.test(value);\n}\n\n/**\n * Convert image type to extension.\n * @param {string} value - The image type to convert.\n * @returns {boolean} Returns the image extension.\n */\nfunction imageTypeToExtension(value) {\n  var extension = isImageType(value) ? value.substr(6) : '';\n  if (extension === 'jpeg') {\n    extension = 'jpg';\n  }\n  return \".\".concat(extension);\n}\nvar fromCharCode = String.fromCharCode;\n\n/**\n * Get string from char code in data view.\n * @param {DataView} dataView - The data view for read.\n * @param {number} start - The start index.\n * @param {number} length - The read length.\n * @returns {string} The read result.\n */\nfunction getStringFromCharCode(dataView, start, length) {\n  var str = '';\n  var i;\n  length += start;\n  for (i = start; i < length; i += 1) {\n    str += fromCharCode(dataView.getUint8(i));\n  }\n  return str;\n}\nvar btoa = WINDOW.btoa;\n\n/**\n * Transform array buffer to Data URL.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {string} mimeType - The mime type of the Data URL.\n * @returns {string} The result Data URL.\n */\nfunction arrayBufferToDataURL(arrayBuffer, mimeType) {\n  var chunks = [];\n  var chunkSize = 8192;\n  var uint8 = new Uint8Array(arrayBuffer);\n  while (uint8.length > 0) {\n    // XXX: Babel's `toConsumableArray` helper will throw error in IE or Safari 9\n    // eslint-disable-next-line prefer-spread\n    chunks.push(fromCharCode.apply(null, toArray(uint8.subarray(0, chunkSize))));\n    uint8 = uint8.subarray(chunkSize);\n  }\n  return \"data:\".concat(mimeType, \";base64,\").concat(btoa(chunks.join('')));\n}\n\n/**\n * Get orientation value from given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {number} The read orientation value.\n */\nfunction resetAndGetOrientation(arrayBuffer) {\n  var dataView = new DataView(arrayBuffer);\n  var orientation;\n\n  // Ignores range error when the image does not have correct Exif information\n  try {\n    var littleEndian;\n    var app1Start;\n    var ifdStart;\n\n    // Only handle JPEG image (start by 0xFFD8)\n    if (dataView.getUint8(0) === 0xFF && dataView.getUint8(1) === 0xD8) {\n      var length = dataView.byteLength;\n      var offset = 2;\n      while (offset + 1 < length) {\n        if (dataView.getUint8(offset) === 0xFF && dataView.getUint8(offset + 1) === 0xE1) {\n          app1Start = offset;\n          break;\n        }\n        offset += 1;\n      }\n    }\n    if (app1Start) {\n      var exifIDCode = app1Start + 4;\n      var tiffOffset = app1Start + 10;\n      if (getStringFromCharCode(dataView, exifIDCode, 4) === 'Exif') {\n        var endianness = dataView.getUint16(tiffOffset);\n        littleEndian = endianness === 0x4949;\n        if (littleEndian || endianness === 0x4D4D /* bigEndian */) {\n          if (dataView.getUint16(tiffOffset + 2, littleEndian) === 0x002A) {\n            var firstIFDOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n            if (firstIFDOffset >= 0x00000008) {\n              ifdStart = tiffOffset + firstIFDOffset;\n            }\n          }\n        }\n      }\n    }\n    if (ifdStart) {\n      var _length = dataView.getUint16(ifdStart, littleEndian);\n      var _offset;\n      var i;\n      for (i = 0; i < _length; i += 1) {\n        _offset = ifdStart + i * 12 + 2;\n        if (dataView.getUint16(_offset, littleEndian) === 0x0112 /* Orientation */) {\n          // 8 is the offset of the current tag's value\n          _offset += 8;\n\n          // Get the original orientation value\n          orientation = dataView.getUint16(_offset, littleEndian);\n\n          // Override the orientation with its default value\n          dataView.setUint16(_offset, 1, littleEndian);\n          break;\n        }\n      }\n    }\n  } catch (e) {\n    orientation = 1;\n  }\n  return orientation;\n}\n\n/**\n * Parse Exif Orientation value.\n * @param {number} orientation - The orientation to parse.\n * @returns {Object} The parsed result.\n */\nfunction parseOrientation(orientation) {\n  var rotate = 0;\n  var scaleX = 1;\n  var scaleY = 1;\n  switch (orientation) {\n    // Flip horizontal\n    case 2:\n      scaleX = -1;\n      break;\n\n    // Rotate left 180°\n    case 3:\n      rotate = -180;\n      break;\n\n    // Flip vertical\n    case 4:\n      scaleY = -1;\n      break;\n\n    // Flip vertical and rotate right 90°\n    case 5:\n      rotate = 90;\n      scaleY = -1;\n      break;\n\n    // Rotate right 90°\n    case 6:\n      rotate = 90;\n      break;\n\n    // Flip horizontal and rotate right 90°\n    case 7:\n      rotate = 90;\n      scaleX = -1;\n      break;\n\n    // Rotate left 90°\n    case 8:\n      rotate = -90;\n      break;\n  }\n  return {\n    rotate: rotate,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\nvar REGEXP_DECIMALS = /\\.\\d*(?:0|9){12}\\d*$/;\n\n/**\n * Normalize decimal number.\n * Check out {@link https://0.30000000000000004.com/}\n * @param {number} value - The value to normalize.\n * @param {number} [times=100000000000] - The times for normalizing.\n * @returns {number} Returns the normalized number.\n */\nfunction normalizeDecimalNumber(value) {\n  var times = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 100000000000;\n  return REGEXP_DECIMALS.test(value) ? Math.round(value * times) / times : value;\n}\n\n/**\n * Get the max sizes in a rectangle under the given aspect ratio.\n * @param {Object} data - The original sizes.\n * @param {string} [type='contain'] - The adjust type.\n * @returns {Object} The result sizes.\n */\nfunction getAdjustedSizes(_ref) {\n  var aspectRatio = _ref.aspectRatio,\n    height = _ref.height,\n    width = _ref.width;\n  var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'none';\n  var isValidWidth = isPositiveNumber(width);\n  var isValidHeight = isPositiveNumber(height);\n  if (isValidWidth && isValidHeight) {\n    var adjustedWidth = height * aspectRatio;\n    if ((type === 'contain' || type === 'none') && adjustedWidth > width || type === 'cover' && adjustedWidth < width) {\n      height = width / aspectRatio;\n    } else {\n      width = height * aspectRatio;\n    }\n  } else if (isValidWidth) {\n    height = width / aspectRatio;\n  } else if (isValidHeight) {\n    width = height * aspectRatio;\n  }\n  return {\n    width: width,\n    height: height\n  };\n}\n\n/**\n * Get Exif information from the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to read.\n * @returns {Array} The read Exif information.\n */\nfunction getExif(arrayBuffer) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  var length = array.length;\n  var segments = [];\n  var start = 0;\n  while (start + 3 < length) {\n    var value = array[start];\n    var next = array[start + 1];\n\n    // SOS (Start of Scan)\n    if (value === 0xFF && next === 0xDA) {\n      break;\n    }\n\n    // SOI (Start of Image)\n    if (value === 0xFF && next === 0xD8) {\n      start += 2;\n    } else {\n      var offset = array[start + 2] * 256 + array[start + 3];\n      var end = start + offset + 2;\n      var segment = array.slice(start, end);\n      segments.push(segment);\n      start = end;\n    }\n  }\n  return segments.reduce(function (exifArray, current) {\n    if (current[0] === 0xFF && current[1] === 0xE1) {\n      return exifArray.concat(current);\n    }\n    return exifArray;\n  }, []);\n}\n\n/**\n * Insert Exif information into the given array buffer.\n * @param {ArrayBuffer} arrayBuffer - The array buffer to transform.\n * @param {Array} exifArray - The Exif information to insert.\n * @returns {ArrayBuffer} The transformed array buffer.\n */\nfunction insertExif(arrayBuffer, exifArray) {\n  var array = toArray(new Uint8Array(arrayBuffer));\n  if (array[2] !== 0xFF || array[3] !== 0xE0) {\n    return arrayBuffer;\n  }\n  var app0Length = array[4] * 256 + array[5];\n  var newArrayBuffer = [0xFF, 0xD8].concat(exifArray, array.slice(4 + app0Length));\n  return new Uint8Array(newArrayBuffer);\n}\n\nvar ArrayBuffer$1 = WINDOW.ArrayBuffer,\n  FileReader = WINDOW.FileReader;\nvar URL = WINDOW.URL || WINDOW.webkitURL;\nvar REGEXP_EXTENSION = /\\.\\w+$/;\nvar AnotherCompressor = WINDOW.Compressor;\n\n/**\n * Creates a new image compressor.\n * @class\n */\nvar Compressor = /*#__PURE__*/function () {\n  /**\n   * The constructor of Compressor.\n   * @param {File|Blob} file - The target image file for compressing.\n   * @param {Object} [options] - The options for compressing.\n   */\n  function Compressor(file, options) {\n    _classCallCheck(this, Compressor);\n    this.file = file;\n    this.exif = [];\n    this.image = new Image();\n    this.options = _objectSpread2(_objectSpread2({}, DEFAULTS), options);\n    this.aborted = false;\n    this.result = null;\n    this.init();\n  }\n  _createClass(Compressor, [{\n    key: \"init\",\n    value: function init() {\n      var _this = this;\n      var file = this.file,\n        options = this.options;\n      if (!isBlob(file)) {\n        this.fail(new Error('The first argument must be a File or Blob object.'));\n        return;\n      }\n      var mimeType = file.type;\n      if (!isImageType(mimeType)) {\n        this.fail(new Error('The first argument must be an image File or Blob object.'));\n        return;\n      }\n      if (!URL || !FileReader) {\n        this.fail(new Error('The current browser does not support image compression.'));\n        return;\n      }\n      if (!ArrayBuffer$1) {\n        options.checkOrientation = false;\n        options.retainExif = false;\n      }\n      var isJPEGImage = mimeType === 'image/jpeg';\n      var checkOrientation = isJPEGImage && options.checkOrientation;\n      var retainExif = isJPEGImage && options.retainExif;\n      if (URL && !checkOrientation && !retainExif) {\n        this.load({\n          url: URL.createObjectURL(file)\n        });\n      } else {\n        var reader = new FileReader();\n        this.reader = reader;\n        reader.onload = function (_ref) {\n          var target = _ref.target;\n          var result = target.result;\n          var data = {};\n          var orientation = 1;\n          if (checkOrientation) {\n            // Reset the orientation value to its default value 1\n            // as some iOS browsers will render image with its orientation\n            orientation = resetAndGetOrientation(result);\n            if (orientation > 1) {\n              _extends(data, parseOrientation(orientation));\n            }\n          }\n          if (retainExif) {\n            _this.exif = getExif(result);\n          }\n          if (checkOrientation || retainExif) {\n            if (!URL\n\n            // Generate a new URL with the default orientation value 1.\n            || orientation > 1) {\n              data.url = arrayBufferToDataURL(result, mimeType);\n            } else {\n              data.url = URL.createObjectURL(file);\n            }\n          } else {\n            data.url = result;\n          }\n          _this.load(data);\n        };\n        reader.onabort = function () {\n          _this.fail(new Error('Aborted to read the image with FileReader.'));\n        };\n        reader.onerror = function () {\n          _this.fail(new Error('Failed to read the image with FileReader.'));\n        };\n        reader.onloadend = function () {\n          _this.reader = null;\n        };\n        if (checkOrientation || retainExif) {\n          reader.readAsArrayBuffer(file);\n        } else {\n          reader.readAsDataURL(file);\n        }\n      }\n    }\n  }, {\n    key: \"load\",\n    value: function load(data) {\n      var _this2 = this;\n      var file = this.file,\n        image = this.image;\n      image.onload = function () {\n        _this2.draw(_objectSpread2(_objectSpread2({}, data), {}, {\n          naturalWidth: image.naturalWidth,\n          naturalHeight: image.naturalHeight\n        }));\n      };\n      image.onabort = function () {\n        _this2.fail(new Error('Aborted to load the image.'));\n      };\n      image.onerror = function () {\n        _this2.fail(new Error('Failed to load the image.'));\n      };\n\n      // Match all browsers that use WebKit as the layout engine in iOS devices,\n      // such as Safari for iOS, Chrome for iOS, and in-app browsers.\n      if (WINDOW.navigator && /(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(WINDOW.navigator.userAgent)) {\n        // Fix the `The operation is insecure` error (#57)\n        image.crossOrigin = 'anonymous';\n      }\n      image.alt = file.name;\n      image.src = data.url;\n    }\n  }, {\n    key: \"draw\",\n    value: function draw(_ref2) {\n      var _this3 = this;\n      var naturalWidth = _ref2.naturalWidth,\n        naturalHeight = _ref2.naturalHeight,\n        _ref2$rotate = _ref2.rotate,\n        rotate = _ref2$rotate === void 0 ? 0 : _ref2$rotate,\n        _ref2$scaleX = _ref2.scaleX,\n        scaleX = _ref2$scaleX === void 0 ? 1 : _ref2$scaleX,\n        _ref2$scaleY = _ref2.scaleY,\n        scaleY = _ref2$scaleY === void 0 ? 1 : _ref2$scaleY;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      var canvas = document.createElement('canvas');\n      var context = canvas.getContext('2d');\n      var is90DegreesRotated = Math.abs(rotate) % 180 === 90;\n      var resizable = (options.resize === 'contain' || options.resize === 'cover') && isPositiveNumber(options.width) && isPositiveNumber(options.height);\n      var maxWidth = Math.max(options.maxWidth, 0) || Infinity;\n      var maxHeight = Math.max(options.maxHeight, 0) || Infinity;\n      var minWidth = Math.max(options.minWidth, 0) || 0;\n      var minHeight = Math.max(options.minHeight, 0) || 0;\n      var aspectRatio = naturalWidth / naturalHeight;\n      var width = options.width,\n        height = options.height;\n      if (is90DegreesRotated) {\n        var _ref3 = [maxHeight, maxWidth];\n        maxWidth = _ref3[0];\n        maxHeight = _ref3[1];\n        var _ref4 = [minHeight, minWidth];\n        minWidth = _ref4[0];\n        minHeight = _ref4[1];\n        var _ref5 = [height, width];\n        width = _ref5[0];\n        height = _ref5[1];\n      }\n      if (resizable) {\n        aspectRatio = width / height;\n      }\n      var _getAdjustedSizes = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: maxWidth,\n        height: maxHeight\n      }, 'contain');\n      maxWidth = _getAdjustedSizes.width;\n      maxHeight = _getAdjustedSizes.height;\n      var _getAdjustedSizes2 = getAdjustedSizes({\n        aspectRatio: aspectRatio,\n        width: minWidth,\n        height: minHeight\n      }, 'cover');\n      minWidth = _getAdjustedSizes2.width;\n      minHeight = _getAdjustedSizes2.height;\n      if (resizable) {\n        var _getAdjustedSizes3 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        }, options.resize);\n        width = _getAdjustedSizes3.width;\n        height = _getAdjustedSizes3.height;\n      } else {\n        var _getAdjustedSizes4 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: width,\n          height: height\n        });\n        var _getAdjustedSizes4$wi = _getAdjustedSizes4.width;\n        width = _getAdjustedSizes4$wi === void 0 ? naturalWidth : _getAdjustedSizes4$wi;\n        var _getAdjustedSizes4$he = _getAdjustedSizes4.height;\n        height = _getAdjustedSizes4$he === void 0 ? naturalHeight : _getAdjustedSizes4$he;\n      }\n      width = Math.floor(normalizeDecimalNumber(Math.min(Math.max(width, minWidth), maxWidth)));\n      height = Math.floor(normalizeDecimalNumber(Math.min(Math.max(height, minHeight), maxHeight)));\n      var destX = -width / 2;\n      var destY = -height / 2;\n      var destWidth = width;\n      var destHeight = height;\n      var params = [];\n      if (resizable) {\n        var srcX = 0;\n        var srcY = 0;\n        var srcWidth = naturalWidth;\n        var srcHeight = naturalHeight;\n        var _getAdjustedSizes5 = getAdjustedSizes({\n          aspectRatio: aspectRatio,\n          width: naturalWidth,\n          height: naturalHeight\n        }, {\n          contain: 'cover',\n          cover: 'contain'\n        }[options.resize]);\n        srcWidth = _getAdjustedSizes5.width;\n        srcHeight = _getAdjustedSizes5.height;\n        srcX = (naturalWidth - srcWidth) / 2;\n        srcY = (naturalHeight - srcHeight) / 2;\n        params.push(srcX, srcY, srcWidth, srcHeight);\n      }\n      params.push(destX, destY, destWidth, destHeight);\n      if (is90DegreesRotated) {\n        var _ref6 = [height, width];\n        width = _ref6[0];\n        height = _ref6[1];\n      }\n      canvas.width = width;\n      canvas.height = height;\n      if (!isImageType(options.mimeType)) {\n        options.mimeType = file.type;\n      }\n      var fillStyle = 'transparent';\n\n      // Converts PNG files over the `convertSize` to JPEGs.\n      if (file.size > options.convertSize && options.convertTypes.indexOf(options.mimeType) >= 0) {\n        options.mimeType = 'image/jpeg';\n      }\n      var isJPEGImage = options.mimeType === 'image/jpeg';\n      if (isJPEGImage) {\n        fillStyle = '#fff';\n      }\n\n      // Override the default fill color (#000, black)\n      context.fillStyle = fillStyle;\n      context.fillRect(0, 0, width, height);\n      if (options.beforeDraw) {\n        options.beforeDraw.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      context.save();\n      context.translate(width / 2, height / 2);\n      context.rotate(rotate * Math.PI / 180);\n      context.scale(scaleX, scaleY);\n      context.drawImage.apply(context, [image].concat(params));\n      context.restore();\n      if (options.drew) {\n        options.drew.call(this, context, canvas);\n      }\n      if (this.aborted) {\n        return;\n      }\n      var callback = function callback(blob) {\n        if (!_this3.aborted) {\n          var done = function done(result) {\n            return _this3.done({\n              naturalWidth: naturalWidth,\n              naturalHeight: naturalHeight,\n              result: result\n            });\n          };\n          if (blob && isJPEGImage && options.retainExif && _this3.exif && _this3.exif.length > 0) {\n            var next = function next(arrayBuffer) {\n              return done(toBlob(arrayBufferToDataURL(insertExif(arrayBuffer, _this3.exif), options.mimeType)));\n            };\n            if (blob.arrayBuffer) {\n              blob.arrayBuffer().then(next).catch(function () {\n                _this3.fail(new Error('Failed to read the compressed image with Blob.arrayBuffer().'));\n              });\n            } else {\n              var reader = new FileReader();\n              _this3.reader = reader;\n              reader.onload = function (_ref7) {\n                var target = _ref7.target;\n                next(target.result);\n              };\n              reader.onabort = function () {\n                _this3.fail(new Error('Aborted to read the compressed image with FileReader.'));\n              };\n              reader.onerror = function () {\n                _this3.fail(new Error('Failed to read the compressed image with FileReader.'));\n              };\n              reader.onloadend = function () {\n                _this3.reader = null;\n              };\n              reader.readAsArrayBuffer(blob);\n            }\n          } else {\n            done(blob);\n          }\n        }\n      };\n      if (canvas.toBlob) {\n        canvas.toBlob(callback, options.mimeType, options.quality);\n      } else {\n        callback(toBlob(canvas.toDataURL(options.mimeType, options.quality)));\n      }\n    }\n  }, {\n    key: \"done\",\n    value: function done(_ref8) {\n      var naturalWidth = _ref8.naturalWidth,\n        naturalHeight = _ref8.naturalHeight,\n        result = _ref8.result;\n      var file = this.file,\n        image = this.image,\n        options = this.options;\n      if (URL && image.src.indexOf('blob:') === 0) {\n        URL.revokeObjectURL(image.src);\n      }\n      if (result) {\n        // Returns original file if the result is greater than it and without size related options\n        if (options.strict && !options.retainExif && result.size > file.size && options.mimeType === file.type && !(options.width > naturalWidth || options.height > naturalHeight || options.minWidth > naturalWidth || options.minHeight > naturalHeight || options.maxWidth < naturalWidth || options.maxHeight < naturalHeight)) {\n          result = file;\n        } else {\n          var date = new Date();\n          result.lastModified = date.getTime();\n          result.lastModifiedDate = date;\n          result.name = file.name;\n\n          // Convert the extension to match its type\n          if (result.name && result.type !== file.type) {\n            result.name = result.name.replace(REGEXP_EXTENSION, imageTypeToExtension(result.type));\n          }\n        }\n      } else {\n        // Returns original file if the result is null in some cases.\n        result = file;\n      }\n      this.result = result;\n      if (options.success) {\n        options.success.call(this, result);\n      }\n    }\n  }, {\n    key: \"fail\",\n    value: function fail(err) {\n      var options = this.options;\n      if (options.error) {\n        options.error.call(this, err);\n      } else {\n        throw err;\n      }\n    }\n  }, {\n    key: \"abort\",\n    value: function abort() {\n      if (!this.aborted) {\n        this.aborted = true;\n        if (this.reader) {\n          this.reader.abort();\n        } else if (!this.image.complete) {\n          this.image.onload = null;\n          this.image.onabort();\n        } else {\n          this.fail(new Error('The compression process has been aborted.'));\n        }\n      }\n    }\n\n    /**\n     * Get the no conflict compressor class.\n     * @returns {Compressor} The compressor class.\n     */\n  }], [{\n    key: \"noConflict\",\n    value: function noConflict() {\n      window.Compressor = AnotherCompressor;\n      return Compressor;\n    }\n\n    /**\n     * Change the default options.\n     * @param {Object} options - The new default options.\n     */\n  }, {\n    key: \"setDefaults\",\n    value: function setDefaults(options) {\n      _extends(DEFAULTS, options);\n    }\n  }]);\n  return Compressor;\n}();\n\nexport { Compressor as default };\n","/**\n * @file http 请求工具函数\n * @author Yangholmes 2025-03-18\n */\n\nimport Compressor from 'compressorjs';\n\n/**\n * fetch 请求包裹，用于拓展 ts 类型\n * @param args fetch 参数\n */\nexport function request<T>(...args: Parameters<typeof fetch>) {\n  return fetch(...args).then(res => {\n    if (res.status !== 200) {\n      return Promise.reject(res);\n    }\n    return res.json() as Promise<T>;\n  });\n}\n\n/**\n * 压缩图片\n * @param imageFile 输入图片\n */\nexport function compressImage(imageFile: File | Blob) {\n  return new Promise<File | Blob>((resolve, reject) => {\n    new Compressor(imageFile, {\n      maxWidth: 600,\n      maxHeight: 900,\n      quality: 0.8,\n      success(file) {\n        resolve(file);\n      },\n      error(err) {\n        reject(err);\n      }\n    });\n  });\n}\n\n/** 加载文件链接并输出 blob */\nexport function fileUrlToBlob(url: string) {\n  return fetch(url).then(res => res.blob()).then(rawBlob => {\n    return compressImage(rawBlob);\n  });\n}\n\n/** 加载文件链接并输出 blob 链接 */\nexport function fileUrlToBlobUrl(url: string) {\n  return fileUrlToBlob(url).then(blob => URL.createObjectURL(blob));\n}\n","/**\n * @file 图书表单\n * @author Yangholmes 2025-02-11\n */\n\nimport { computed, defineComponent, PropType, ref, toRefs, watch } from 'vue';\nimport cn from 'classnames';\nimport { useI18n } from 'vue-i18n';\n\nimport { useNaiveFeedback } from '@/composite/useNaiveFeedback';\n\nimport SvgIcon from '@/components/svgIcon/SvgIcon';\n\nimport { NForm, NFormItem, NInputGroup, NInput, NButton, NInputNumber, NSelect, NImage, NRate } from 'naive-ui';\n\nimport { Book, getBookCover } from '../utils';\nimport { deepToRaw } from '../../vue-utils';\nimport { ArrayKeys } from '@/typeUtils';\nimport { compressImage } from '@/services/http/utils';\n\nimport styles from './bookForm.module.less';\n\nexport type PartOfBook = Partial<Book>\n\nexport default defineComponent({\n  name: 'BookForm',\n  props:{\n    data: {\n      type: Object as PropType<PartOfBook>,\n      required: false\n    },\n    onScrape: {\n      type: Function as PropType<(isbn: string) => Promise<Book>>,\n      required: false\n    },\n    scraping: {\n      type: Boolean,\n      required: false,\n      default: false\n    }\n  },\n  setup(props, { expose }) {\n    const { data, onScrape, scraping } = toRefs(props);\n\n    const { t } = useI18n({ useScope: 'global' });\n    const { message, dialog: scrapeDialog } = useNaiveFeedback();\n\n    const formRef = ref<InstanceType<typeof NForm>>();\n    const formData = ref<PartOfBook>({\n      covers: [],\n      ...data.value\n    });\n\n    watch(() => data.value, (newVal) => {\n      formData.value = {\n        covers: [],\n        ...formData.value,\n        ...newVal\n      };\n    });\n\n    function updatFormItemValue<T extends keyof Book>(key: T, value: Book[T]) {\n      formData.value[key] = value;\n    }\n\n    function updateFormItemArray<T extends ArrayKeys<Book>>(key: T, value: Book[T][number], index: number) {\n      const array = formData.value[key];\n      if (array) {\n        array[index] = value;\n      }\n    }\n\n    function updateFormData(value: Book) {\n      formData.value = {\n        ...formData.value,\n        ...value\n      };\n    }\n\n    function getFormData() {\n      return formRef.value?.validate().then(() => {\n        return deepToRaw(formData.value);\n      }).catch((err) => {\n        message.error(t('pages.book.bookForm.formItemRequiredError'));\n        console.log(err);\n        throw err;\n      });\n    }\n\n    expose({\n      getFormData\n    });\n\n    function onChangeCover(useCamera = false) {\n      const input = document.createElement('input');\n      input.type = 'file';\n      input.accept = 'image/*';\n      if (useCamera) {\n        // 直接调用摄像头\n        input.capture = 'environment';\n      }\n      input.onchange = (e: Event) => {\n        const file = (e.target as HTMLInputElement).files?.[0];\n        if (file) {\n          compressImage(file).then(newFile => {\n            formData.value = {\n              ...formData.value,\n              covers: [newFile]\n            };\n          });\n        }\n      };\n      input.click();\n    }\n\n    function onScrapeAgain() {\n      scrapeDialog.warning({\n        title: t('pages.book.bookForm.scrapeDialog.title'),\n        content: t('pages.book.bookForm.scrapeDialog.content'),\n        closable: false,\n        positiveText: t('common.confirm'),\n        negativeText: t('common.cancel'),\n        onPositiveClick() {\n          const isbn = formData.value?.isbn;\n          isbn && onScrape.value?.(isbn).then(res => updateFormData(res));\n        },\n      });\n    }\n\n    const coverUrl = computed(() => {\n      if (scraping.value) {\n        return '';\n      }\n      const cover = formData.value?.covers?.[0];\n      return getBookCover(cover, formData.value?.title);\n    });\n\n    const fieldRule = (label: string, type: 'string' | 'array' = 'string') => {\n      return ({\n        type,\n        required: true,\n        trigger: 'blur',\n        renderMessage: () => t('pages.book.bookForm.fieldRuleMessage', [label])\n      });\n    };\n\n    return () => <>\n      {\n        // TODO loading mask\n      }\n      <NForm\n        class={cn(styles['book-form'])}\n        ref={formRef}\n        inline={false}\n        labelPlacement=\"top\"\n        labelAlign=\"left\"\n        showLabel\n        model={formData.value}\n        onSubmit={(e) => e.preventDefault()}\n      >\n        {/* 封面 */}\n        <NFormItem label=\"\" showLabel={false} path=\"cover\">\n          <div class={cn(styles['center-form-item'])}>\n            <NImage\n              class={cn(styles['book-cover-image'])}\n              src={coverUrl.value}\n              renderToolbar={({ nodes }) => <>\n                {nodes.zoomIn}\n                {nodes.resizeToOriginalSize}\n                {nodes.zoomOut}\n              </>}\n            />\n            <div class={cn(styles['change-cover-buttons'])}>\n              <NButton\n                circle secondary\n                onClick={() => onChangeCover()}\n              >\n                <SvgIcon name=\"gallery\" />\n              </NButton>\n              <NButton\n                circle secondary\n                onClick={() => onChangeCover(true)}\n              >\n                <SvgIcon name=\"camera\" />\n              </NButton>\n            </div>\n\n          </div>\n        </NFormItem>\n        {/* 评分 */}\n        <NFormItem label={t('pages.book.bookForm.form.rating.label')} showLabel={false} path=\"rating\">\n          <div class={cn(styles['center-form-item'])}>\n            <NRate\n              count={5}\n              value={formData.value?.rating}\n              onUpdateValue={(rating) => updatFormItemValue('rating', rating)}\n            />\n          </div>\n        </NFormItem>\n        {/* ISBN */}\n        <NFormItem label=\"isbn\" path=\"isbn\" rule={fieldRule('isbn')}>\n          <NInputGroup>\n            <NInput\n              type=\"text\"\n              placeholder=\"isbn\"\n              allowInput={(v) => {\n                return /^\\d*$/.test(v);\n              }}\n              value={formData.value?.isbn}\n              onUpdateValue={(isbn) => updatFormItemValue('isbn', isbn)}\n            />\n            <NButton\n              ghost\n              onClick={onScrapeAgain}\n            >{t('pages.book.bookForm.form.isbn.scrapeBtn')}</NButton>\n          </NInputGroup>\n        </NFormItem>\n        {/* 书名 */}\n        <NFormItem label={t('pages.book.bookForm.form.title.label')} path=\"title\" rule={fieldRule(t('pages.book.bookForm.form.title.label'))}>\n          <NInput\n            type=\"text\"\n            placeholder={t('pages.book.bookForm.form.title.placeholder')}\n            value={formData.value?.title}\n            onUpdateValue={(title) => updatFormItemValue('title', title)}\n          />\n        </NFormItem>\n        {/* 副标题 */}\n        <NFormItem label={t('pages.book.bookForm.form.subtitle.label')} path=\"subtitle\">\n          <NInput\n            type=\"text\"\n            placeholder={t('pages.book.bookForm.form.subtitle.placeholder')}\n            value={formData.value?.subtitle}\n            onUpdateValue={(subtitle) => updatFormItemValue('subtitle', subtitle)}\n          />\n        </NFormItem>\n        {/* 版本 */}\n        <NFormItem label={t('pages.book.bookForm.form.editionName.label')} path=\"editionName\">\n          <NInput\n            type=\"text\"\n            placeholder={t('pages.book.bookForm.form.editionName.placeholder')}\n            value={formData.value?.editionName}\n            onUpdateValue={(editionName) => updatFormItemValue('editionName', editionName)}\n          />\n        </NFormItem>\n        {/* 作者列表 */}\n        <NFormItem label={t('pages.book.bookForm.form.authors.label')} path=\"authors\" rule={fieldRule(t('pages.book.bookForm.form.authors.label'), 'array')}>\n          <NSelect\n            value={formData.value?.authors}\n            tag\n            multiple\n            filterable\n            show={false}\n            showArrow={false}\n            placeholder={t('pages.book.bookForm.form.authors.placeholder')}\n            onUpdateValue={(authors) => updatFormItemValue('authors', authors)}\n            inputProps={{\n              enterKeyHint: 'done'\n            }}\n          />\n        </NFormItem>\n        {/* 贡献者列表 */}\n        <NFormItem label={t('pages.book.bookForm.form.contributions.label')} path=\"contributions\">\n          <NSelect\n            value={formData.value?.contributions}\n            tag\n            multiple\n            filterable\n            show={false}\n            showArrow={false}\n            placeholder={t('pages.book.bookForm.form.contributions.placeholder')}\n            onUpdateValue={(contributions) => updatFormItemValue('contributions', contributions)}\n            inputProps={{\n              enterKeyHint: 'done'\n            }}\n          />\n        </NFormItem>\n        {/* 语言列表 */}\n        <NFormItem label={t('pages.book.bookForm.form.languages.label')} path=\"languages\">\n          <NSelect\n            value={formData.value?.languages}\n            tag\n            multiple\n            filterable\n            show={false}\n            showArrow={false}\n            placeholder={t('pages.book.bookForm.form.languages.placeholder')}\n            onUpdateValue={(languages) => updatFormItemValue('languages', languages)}\n            inputProps={{\n              enterKeyHint: 'done'\n            }}\n          />\n        </NFormItem>\n        {/* 出版社列表 */}\n        <NFormItem label={t('pages.book.bookForm.form.publisher.label')} path=\"publishers\">\n          <NSelect\n            value={formData.value?.publishers}\n            tag\n            multiple\n            filterable\n            show={false}\n            showArrow={false}\n            placeholder={t('pages.book.bookForm.form.publishers.placeholder')}\n            onUpdateValue={(publishers) => updatFormItemValue('publishers', publishers)}\n            inputProps={{\n              enterKeyHint: 'done'\n            }}\n          />\n        </NFormItem>\n        {/* 出版社列表 */}\n        {/* {formData.value?.publishers?.map((publisher, index) => <NFormItem label=\"\" path={`publishers[${index}]`}>\n          <NInput\n            type=\"text\"\n            placeholder={t('pages.book.bookForm.form.publishers.placeholder', [index])}\n            value={publisher}\n            onUpdateValue={(v) =>\n            {\n              const publishers = formData.value.publishers!;\n              publishers[index] = v;\n              updatFormItemValue('publishers', publishers);\n            }}\n          />\n        </NFormItem>)} */}\n        {/* 出版日期 */}\n        <NFormItem label={t('pages.book.bookForm.form.publishDate.label')} path=\"publishDate\">\n          <NInput\n            type=\"text\"\n            placeholder={t('pages.book.bookForm.form.publishDate.placeholder')}\n            value={formData.value?.publishDate}\n            onUpdateValue={(publishDate) => updatFormItemValue('publishDate', publishDate)}\n          />\n        </NFormItem>\n        {/* 出版国家 */}\n        <NFormItem label={t('pages.book.bookForm.form.publishCountry.label')} path=\"publishCountry\">\n          <NInput\n            type=\"text\"\n            placeholder={t('pages.book.bookForm.form.publishCountry.placeholder')}\n            value={formData.value?.publishCountry}\n            onUpdateValue={(publishCountry) => updatFormItemValue('publishCountry', publishCountry)}\n          />\n        </NFormItem>\n        {/* 页数 */}\n        <NFormItem label={t('pages.book.bookForm.form.numberOfPages.label')} path=\"numberOfPages\">\n          <NInputNumber\n            style={{ width: '100%' }}\n            placeholder={t('pages.book.bookForm.form.numberOfPages.placeholder')}\n            buttonPlacement=\"both\"\n            value={formData.value?.numberOfPages}\n            onUpdateValue={(numberOfPages) => updatFormItemValue('numberOfPages', numberOfPages || 0)}\n          />\n        </NFormItem>\n        {/* 标签 */}\n        <NFormItem label={t('pages.book.bookForm.form.tags.label')} path=\"tags\">\n          <NSelect\n            value={formData.value?.tags}\n            tag\n            multiple\n            filterable\n            show={false}\n            showArrow={false}\n            placeholder={t('pages.book.bookForm.form.tags.placeholder')}\n            onUpdateValue={(tags) => updatFormItemValue('tags', tags)}\n            inputProps={{\n              enterKeyHint: 'done'\n            }}\n          />\n        </NFormItem>\n        {/* 分类 */}\n        <NFormItem label={t('pages.book.bookForm.form.subjects.label')} path=\"subjects\">\n          <NSelect\n            value={formData.value?.subjects}\n            tag\n            multiple\n            filterable\n            show={false}\n            showArrow={false}\n            placeholder={t('pages.book.bookForm.form.subjects.placeholder')}\n            onUpdateValue={(subjects) => updatFormItemValue('subjects', subjects)}\n            inputProps={{\n              enterKeyHint: 'done'\n            }}\n          />\n        </NFormItem>\n        <NFormItem label={t('pages.book.bookForm.form.summary.label')} path=\"summary\">\n          <NInput\n            type=\"textarea\"\n            rows={7}\n            placeholder={t('pages.book.bookForm.form.summary.placeholder')}\n            value={formData.value?.summary}\n          />\n        </NFormItem>\n        <div style={{ display: 'none' }}>\n          <NFormItem>\n            <NInput />\n          </NFormItem>\n        </div>\n      </NForm>\n    </>;\n  }\n});\n\n","/**\n * @file 网络接口\n * @author Yangholmes 2024-12-10\n */\n\nimport { fileUrlToBlob, request } from './utils';\nimport db from '../db';\n\nimport { BookData } from './types';\n\n/**\n * 刮削信息\n * @param isbn ISBN\n */\nexport function scrapeByIsbn(isbn: string) {\n  return db.settings.querySettingByKey('isbnDataUrl').then(res => {\n    const _url = res?.value;\n    if (!_url || typeof _url !== 'string') {\n      return Promise.reject('isbnDataUrl is invalid');\n    }\n    const url = _url.replace('{isbn}', isbn);\n    return url;\n  }).then(url => {\n    return request<BookData>(url, {\n      method: 'GET',\n      mode: 'cors',\n    }).then(res => {\n      const { covers } = res;\n      const coverUrl = new URL(covers[0], url).href;\n      return fileUrlToBlob(coverUrl).then(coverBolb => {\n        return {\n          ...res,\n          covers: [coverBolb]\n        };\n      });\n    });\n  });\n}\n"],"names":["lowBit","n","FinweckTree","l","min","ft","i","ret","threshold","r","m","sumM","maybeTouch","ensureMaybeTouch","wheelScale","ensureWheelScale","xScrollInjextionKey","setupXScroll","columnsRef","renderColRef","renderItemWithColsRef","listWidthRef","ref","scrollLeftRef","xFinweckTreeRef","computed","columns","column","index","startIndexRef","useMemo","xFinweckTree","getLeft","endIndexRef","provide","VirtualListRow","defineComponent","inject","startIndex","endIndex","renderCol","renderItemWithCols","item","items","styles","c","VVirtualList","props","ssrAdapter","useSsrAdapter","cssrAnchorMetaName","onMounted","defaultScrollIndex","defaultScrollKey","scrollTo","isDeactivated","activateStateInitialized","onActivated","scrollTopRef","onDeactivated","totalWidthRef","width","keyIndexMapRef","map","keyField","toRef","listElRef","listHeightRef","keyToHeightOffset","finweckTreeRef","itemSize","key","heightOffset","finweckTreeUpdateTrigger","depx","viewportItemsRef","listHeight","viewportItems","options","y","scrollToPosition","left","top","position","behavior","debounce","scrollToIndex","toIndex","anchorIndex","anchorTimerId","targetTop","scrollTop","offsetHeight","handleItemResize","entry","_a","_b","_c","isHideByVShow","previousHeight","height","delta","listEl","previousHeightSum","syncViewport","mayUseWheel","wheelCatched","handleListScroll","e","handleListWheel","beforeNextFrameOnce","handleListResize","onResize","el","cursor","itemResizable","pxfy","keyToIndex","visibleItemsTag","h","VResizeObserver","mergeProps","renderedCols","renderedItemWithCols","itemVNode","hiddenAttr","style","VOverflow","slots","selfRef","counterRef","deriveCounter","self","getCounter","getTail","counter","children","child","containerWidth","childWidths","tail","childWidthSum","overflow","len","childWidth","updateCounter","j","restCount","counterWidth","onUpdateCount","onUpdateOverflow","$slots","nextTick","renderSlot","useOnResize","elRef","resizeObserverManager","watch","_","oldEl","onBeforeUnmount","getTitleAttribute","value","mergeEventHandlers","handlers","filteredHandlers","handler","FinishedIcon","EmptyIcon","FocusDetector","commonVars","vars","textColorDisabled","iconColor","textColor2","fontSizeTiny","fontSizeSmall","fontSizeMedium","fontSizeLarge","fontSizeHuge","emptyLight","commonLight","style$4","cB","cE","emptyProps","useTheme","NEmpty","mergedClsPrefixRef","inlineThemeDisabled","mergedComponentPropsRef","useConfig","themeRef","localeRef","useLocale","mergedDescriptionRef","mergedRenderIconRef","cssVarsRef","size","cubicBezierEaseInOut","createKey","iconSize","fontSize","textColor","extraTextColor","themeClassHandle","useThemeClass","hash","mergedClsPrefix","onRender","NBaseIcon","commonVariables$2","borderRadius","popoverColor","textColor3","dividerColor","primaryColorPressed","primaryColor","opacityDisabled","hoverColor","heightTiny","heightSmall","heightMedium","heightLarge","heightHuge","commonVariables","internalSelectMenuLight","createTheme","scrollbarLight","NSelectGroupHeader","renderLabelRef","renderOptionRef","labelFieldRef","nodePropsRef","internalSelectionMenuInjectionKey","clsPrefix","renderLabel","renderOption","nodeProps","rawNode","attrs","render","node","renderCheckMark","show","Transition","CheckmarkIcon","NSelectOption","valueRef","pendingTmNodeRef","multipleRef","valueSetRef","valueFieldRef","showCheckmarkRef","handleOptionClick","handleOptionMouseEnter","isPendingRef","pendingTmNode","handleClick","tmNode","handleMouseEnter","handleMouseMove","isPending","parent","multiple","optionValue","valueSet","isSelected","isGrouped","showCheckmark","checkmark","style$3","cM","cNotM","fadeInScaleUpTransition","NInternalSelectMenu","mergedRtlRef","rtlEnabledRef","useRtl","virtualListRef","scrollbarRef","flattenedNodesRef","fIndexGetterRef","createIndexGetter","pendingNodeRef","initPendingNode","treeMate","defaultPendingNode","setPendingTmNode","clearPendingNodeIfInvalid","pendingNode","initPendingNodeWatchStopHandle","scrollToPendingNode","itemSizeRef","paddingRef","getPadding","emptyRef","tmNodes","doToggle","onToggle","doScroll","onScroll","handleVirtualListScroll","handleVirtualListResize","getPendingTmNode","handleKeyUp","happensIn","handleKeyDown","handleMouseDown","next","prev","fIndex","handleFocusin","handleFocusout","internalSelectionMenuBodyInjectionKey","color","groupHeaderTextColor","actionDividerColor","optionTextColorPressed","optionTextColor","optionTextColorDisabled","optionTextColorActive","optionOpacityDisabled","optionCheckColor","actionTextColor","optionColorPending","optionColorActive","loadingColor","loadingSize","optionColorActivePending","optionHeight","optionPadding","exposedProps","virtualScroll","mergedTheme","themeClass","resolveWrappedSlot","NInternalLoading","resolveSlot","NScrollbar","VirtualList","NFocusDetector","commonVariables$1","primaryColorHover","infoColor","successColor","warningColor","errorColor","baseColor","borderColor","tagColor","closeIconColor","closeIconColorHover","closeIconColorPressed","fontSizeMini","heightMini","closeColorHover","closeColorPressed","buttonColor2Hover","buttonColor2Pressed","fontWeightStrong","changeColor","tagLight","commonProps","style$2","tagProps","tagInjectionKey","createInjectionKey","NTag","contentRef","mergedBorderedRef","checked","onCheckedChange","onUpdateChecked","_onUpdateChecked","handleCloseClick","onClose","call","tagPublicMethods","textContent","type","padding","closeMargin","textColorCheckable","textColorHoverCheckable","textColorPressedCheckable","textColorChecked","colorCheckable","colorHoverCheckable","colorPressedCheckable","colorChecked","colorCheckedHover","colorCheckedPressed","closeBorderRadius","colorBordered","closeSize","closeIconSize","typedColor","typeTextColor","border","closeMarginDiscrete","getMargin","color2Class","rtlEnabled","closable","round","avatarNode","iconNode","NBaseClose","inputColor","inputColorDisabled","warningColorHover","errorColorHover","iconColorDisabled","clearColor","clearColorHover","clearColorPressed","placeholderColor","placeholderColorDisabled","fontWeight","internalSelectionLight","popoverLight","style$1","status","NInternalSelection","patternInputMirrorRef","patternInputRef","multipleElRef","singleElRef","patternInputWrapperRef","counterWrapperRef","overflowRef","inputTagElRef","showTagsPopoverRef","patternInputFocusedRef","hoverRef","mergedClearableRef","filterablePlaceholderRef","labelRef","option","selectedRef","syncMirrorWidth","patternInputMirrorEl","patternInputEl","hideInputTag","inputTagEl","showInputTag","doFocus","onFocus","doBlur","onBlur","doDeleteOption","onDeleteOption","doClear","onClear","doPatternInput","onPatternInput","handleClear","handleMouseLeave","handleDeleteOption","isComposingRef","handlePatternKeyDown","selectedOptions","cachedInputEvent","handlePatternInputInput","inputText","handleCompositionStart","handleCompositionEnd","handlePatternInputFocus","handlePatternInputBlur","blur","multipleEl","singleEl","focus","focusInput","blurInput","count","enterTimerId","clearEnterTimer","handleMouseEnterCounter","handleMouseLeaveCounter","onPopoverUpdateShow","watchEffect","patternInputWrapperEl","paddingSingle","paddingMultiple","caretColor","colorDisabled","colorActive","boxShadowFocus","boxShadowActive","boxShadowHover","borderFocus","borderHover","borderActive","arrowColor","arrowColorDisabled","colorActiveWarning","boxShadowFocusWarning","boxShadowActiveWarning","boxShadowHoverWarning","borderWarning","borderFocusWarning","borderHoverWarning","borderActiveWarning","colorActiveError","boxShadowFocusError","boxShadowActiveError","boxShadowHoverError","borderError","borderFocusError","borderHoverError","borderActiveError","clearSize","arrowSize","paddingSingleDiscrete","paddingMultipleDiscrete","disabled","filterable","maxTagCount","bordered","ellipsisTagPopoverProps","renderTag","maxTagCountResponsive","maxTagCountNumeric","useMaxTagCount","suffix","Wrapper","Suffix","body","labelField","createTag","createOriginalTagNodes","input","renderCounter","rest","tags","renderPopover","popoverProps","placeholder","popoverTrigger","Fragment","NPopover","hasInput","showPlaceholder","showSelectedLabel","getIsGroup","getIgnored","patternMatched","pattern","createTmOptions","valueField","childrenField","filterOptions","originalOpts","filter","traverse","filteredOptions","createValOptMap","valOptMap","selectGroupOption","boxShadow2","selectLight","selectProps","useAdjustedTo","NSelect","namespaceRef","uncontrolledValueRef","controlledValueRef","mergedValueRef","useMergedState","focusedRef","patternRef","compitableOptionsRef","useCompitable","createdOptionsRef","beingCreatedOptionsRef","localOptionsRef","resolvedFilterRef","label","filteredOptionsRef","localOptions","treeMateRef","createTreeMate","valOptMapRef","uncontrolledShowRef","mergedShowRef","triggerRef","followerRef","menuRef","localizedPlaceholderRef","emptyArray","memoValOptMapRef","wrappedFallbackOptionRef","fallbackOption","getMergedOptions","values","remote","memoValOptMap","wrappedFallbackOption","selectedOptionsRef","selectedOptionRef","mergedValue","formItem","useFormItem","mergedSizeRef","mergedDisabledRef","mergedStatusRef","doUpdateValue","onChange","_onUpdateValue","onUpdateValue","nTriggerFormChange","nTriggerFormInput","nTriggerFormBlur","showOnFocus","nTriggerFormFocus","openMenu","doSearch","onSearch","updateMemorizedOptions","doUpdateShow","onUpdateShow","_onUpdateShow","focusSelectionInput","closeMenu","handleMenuAfterLeave","activeWithoutMenuOpenRef","onTriggerInputFocus","onTriggerInputBlur","handleTriggerClick","handleTriggerBlur","handleTriggerFocus","handleMenuFocus","handleMenuBlur","handleMenuTabOut","handleMenuClickOutside","getPreciseEventTarget","createClearedMultipleSelectValue","v","handleToggleByTmNode","handleToggleByOption","tag","clearFilterAfterSelect","beingCreatedOptions","beingCreatedOption","createdOptions","changedValue","createdOptionIndex","getCreatedOptionIndex","focusSelection","createdOption","handlePatternInput","onCreate","optionBeingCreated","handleMenuMousedown","handleMenuScroll","handleKeydown","_d","_e","markEventEffectPerformed","handleTriggerOrMenuResize","exposedMethods","menuBoxShadow","useIsMounted","VBinder","VTarget","VFollower","withDirectives","vShow","clickoutside","ownKeys","object","enumerableOnly","keys","symbols","sym","_objectSpread2","target","source","_defineProperty","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_toPropertyKey","_createClass","protoProps","staticProps","obj","_extends","_toPrimitive","hint","prim","res","arg","canvasToBlob","module","window","CanvasPrototype","hasBlobConstructor","hasArrayBufferViewSupport","BlobBuilder","dataURIPattern","dataURLtoBlob","dataURI","matches","mediaType","isBase64","dataString","byteString","arrayBuffer","intArray","bb","callback","quality","toBlob","isBlob","DEFAULTS","IS_BROWSER","WINDOW","isPositiveNumber","slice","toArray","REGEXP_IMAGE_TYPE","isImageType","imageTypeToExtension","extension","fromCharCode","getStringFromCharCode","dataView","start","length","str","btoa","arrayBufferToDataURL","mimeType","chunks","chunkSize","uint8","resetAndGetOrientation","orientation","littleEndian","app1Start","ifdStart","offset","exifIDCode","tiffOffset","endianness","firstIFDOffset","_length","_offset","parseOrientation","rotate","scaleX","scaleY","REGEXP_DECIMALS","normalizeDecimalNumber","times","getAdjustedSizes","_ref","aspectRatio","isValidWidth","isValidHeight","adjustedWidth","getExif","array","segments","end","segment","exifArray","current","insertExif","app0Length","newArrayBuffer","ArrayBuffer$1","FileReader","URL","REGEXP_EXTENSION","AnotherCompressor","Compressor","file","_this","isJPEGImage","checkOrientation","retainExif","reader","result","data","_this2","image","_ref2","_this3","naturalWidth","naturalHeight","_ref2$rotate","_ref2$scaleX","_ref2$scaleY","canvas","context","is90DegreesRotated","resizable","maxWidth","maxHeight","minWidth","minHeight","_ref3","_ref4","_ref5","_getAdjustedSizes","_getAdjustedSizes2","_getAdjustedSizes3","_getAdjustedSizes4","_getAdjustedSizes4$wi","_getAdjustedSizes4$he","destX","destY","destWidth","destHeight","params","srcX","srcY","srcWidth","srcHeight","_getAdjustedSizes5","_ref6","fillStyle","blob","done","_ref7","_ref8","date","err","request","args","compressImage","imageFile","resolve","reject","fileUrlToBlob","url","rawBlob","_isSlot","s","Object","prototype","toString","_isVNode","name","required","onScrape","Function","scraping","Boolean","default","setup","expose","toRefs","t","useI18n","useScope","message","dialog","scrapeDialog","useNaiveFeedback","formRef","formData","covers","newVal","updatFormItemValue","updateFormData","getFormData","validate","then","deepToRaw","catch","error","console","log","onChangeCover","useCamera","document","createElement","accept","capture","onchange","files","newFile","click","onScrapeAgain","warning","title","content","positiveText","negativeText","onPositiveClick","isbn","coverUrl","cover","getBookCover","fieldRule","trigger","renderMessage","_slot","_createVNode","_Fragment","NForm","cn","preventDefault","NFormItem","NImage","renderToolbar","nodes","zoomIn","resizeToOriginalSize","zoomOut","NButton","onClick","SvgIcon","NRate","rating","NInputGroup","NInput","test","subtitle","editionName","authors","enterKeyHint","contributions","languages","publishers","publishDate","publishCountry","NInputNumber","numberOfPages","subjects","summary","display","scrapeByIsbn","db","_url","coverBolb"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36]}