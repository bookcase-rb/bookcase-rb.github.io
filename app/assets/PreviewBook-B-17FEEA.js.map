{"version":3,"file":"PreviewBook-B-17FEEA.js","sources":["../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/ellipsis/styles/light.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/ellipsis/src/styles/index.cssr.mjs","../../node_modules/.pnpm/naive-ui@2.41.0_vue@3.5.12_typescript@5.6.3_/node_modules/naive-ui/es/ellipsis/src/Ellipsis.mjs","../../src/components/Text/Text.tsx","../../src/pages/book/preview/BookDetails.tsx","../../src/pages/book/preview/DuplicateBooksIcon.tsx","../../src/pages/bookcase/bookcasePreview/BookcasePreview.tsx","../../src/pages/book/preview/BookLocation.tsx","../../src/pages/book/preview/PreviewBook.tsx"],"sourcesContent":["import { createTheme } from \"../../_mixins/index.mjs\";\nimport { commonLight } from \"../../_styles/common/index.mjs\";\nimport { tooltipLight } from \"../../tooltip/styles/index.mjs\";\nconst ellipsisLight = createTheme({\n  name: 'Ellipsis',\n  common: commonLight,\n  peers: {\n    Tooltip: tooltipLight\n  }\n});\nexport default ellipsisLight;","import { cB, cM, cNotM } from \"../../../_utils/cssr/index.mjs\";\nexport default cB('ellipsis', {\n  overflow: 'hidden'\n}, [cNotM('line-clamp', `\n white-space: nowrap;\n display: inline-block;\n vertical-align: bottom;\n max-width: 100%;\n `), cM('line-clamp', `\n display: -webkit-inline-box;\n -webkit-box-orient: vertical;\n `), cM('cursor-pointer', `\n cursor: pointer;\n `)]);","import { computed, defineComponent, h, mergeProps, onDeactivated, ref } from 'vue';\nimport { useTheme } from \"../../_mixins/index.mjs\";\nimport { useMergedClsPrefix } from \"../../_mixins/use-config.mjs\";\nimport { NTooltip } from \"../../tooltip/index.mjs\";\nimport { ellipsisLight } from \"../styles/index.mjs\";\nimport style from \"./styles/index.cssr.mjs\";\nexport function createLineClampClass(clsPrefix) {\n  return `${clsPrefix}-ellipsis--line-clamp`;\n}\nexport function createCursorClass(clsPrefix, cursor) {\n  return `${clsPrefix}-ellipsis--cursor-${cursor}`;\n}\nexport const ellipsisProps = Object.assign(Object.assign({}, useTheme.props), {\n  expandTrigger: String,\n  lineClamp: [Number, String],\n  tooltip: {\n    type: [Boolean, Object],\n    default: true\n  }\n});\nexport default defineComponent({\n  name: 'Ellipsis',\n  inheritAttrs: false,\n  props: ellipsisProps,\n  slots: Object,\n  setup(props, {\n    slots,\n    attrs\n  }) {\n    const mergedClsPrefixRef = useMergedClsPrefix();\n    const mergedTheme = useTheme('Ellipsis', '-ellipsis', style, ellipsisLight, props, mergedClsPrefixRef);\n    const triggerRef = ref(null);\n    const triggerInnerRef = ref(null);\n    const tooltipRef = ref(null);\n    const expandedRef = ref(false);\n    const ellipsisStyleRef = computed(() => {\n      const {\n        lineClamp\n      } = props;\n      const {\n        value: expanded\n      } = expandedRef;\n      if (lineClamp !== undefined) {\n        return {\n          textOverflow: '',\n          '-webkit-line-clamp': expanded ? '' : lineClamp\n        };\n      } else {\n        return {\n          textOverflow: expanded ? '' : 'ellipsis',\n          '-webkit-line-clamp': ''\n        };\n      }\n    });\n    function getTooltipDisabled() {\n      let tooltipDisabled = false;\n      const {\n        value: expanded\n      } = expandedRef;\n      if (expanded) return true;\n      const {\n        value: trigger\n      } = triggerRef;\n      if (trigger) {\n        const {\n          lineClamp\n        } = props;\n        // we need to apply style here, since the dom may be updated in\n        // nextTick, measure dom size will derive wrong result\n        syncEllipsisStyle(trigger);\n        if (lineClamp !== undefined) {\n          tooltipDisabled = trigger.scrollHeight <= trigger.offsetHeight;\n        } else {\n          const {\n            value: triggerInner\n          } = triggerInnerRef;\n          if (triggerInner) {\n            tooltipDisabled = triggerInner.getBoundingClientRect().width <= trigger.getBoundingClientRect().width;\n          }\n        }\n        syncCursorStyle(trigger, tooltipDisabled);\n      }\n      return tooltipDisabled;\n    }\n    const handleClickRef = computed(() => {\n      return props.expandTrigger === 'click' ? () => {\n        var _a;\n        const {\n          value: expanded\n        } = expandedRef;\n        if (expanded) {\n          (_a = tooltipRef.value) === null || _a === void 0 ? void 0 : _a.setShow(false);\n        }\n        expandedRef.value = !expanded;\n      } : undefined;\n    });\n    onDeactivated(() => {\n      var _a;\n      if (props.tooltip) {\n        (_a = tooltipRef.value) === null || _a === void 0 ? void 0 : _a.setShow(false);\n      }\n    });\n    const renderTrigger = () => h(\"span\", Object.assign({}, mergeProps(attrs, {\n      class: [`${mergedClsPrefixRef.value}-ellipsis`, props.lineClamp !== undefined ? createLineClampClass(mergedClsPrefixRef.value) : undefined, props.expandTrigger === 'click' ? createCursorClass(mergedClsPrefixRef.value, 'pointer') : undefined],\n      style: ellipsisStyleRef.value\n    }), {\n      ref: \"triggerRef\",\n      onClick: handleClickRef.value,\n      onMouseenter:\n      // get tooltip disabled will derive cursor style\n      props.expandTrigger === 'click' ? getTooltipDisabled : undefined\n    }), props.lineClamp ? slots : h(\"span\", {\n      ref: \"triggerInnerRef\"\n    }, slots));\n    function syncEllipsisStyle(trigger) {\n      if (!trigger) return;\n      const latestStyle = ellipsisStyleRef.value;\n      const lineClampClass = createLineClampClass(mergedClsPrefixRef.value);\n      if (props.lineClamp !== undefined) {\n        syncTriggerClass(trigger, lineClampClass, 'add');\n      } else {\n        syncTriggerClass(trigger, lineClampClass, 'remove');\n      }\n      for (const key in latestStyle) {\n        // guard can make it a little faster\n        if (trigger.style[key] !== latestStyle[key]) {\n          ;\n          trigger.style[key] = latestStyle[key];\n        }\n      }\n    }\n    function syncCursorStyle(trigger, tooltipDisabled) {\n      const cursorClass = createCursorClass(mergedClsPrefixRef.value, 'pointer');\n      if (props.expandTrigger === 'click' && !tooltipDisabled) {\n        syncTriggerClass(trigger, cursorClass, 'add');\n      } else {\n        syncTriggerClass(trigger, cursorClass, 'remove');\n      }\n    }\n    function syncTriggerClass(trigger, styleClass, action) {\n      if (action === 'add') {\n        if (!trigger.classList.contains(styleClass)) {\n          trigger.classList.add(styleClass);\n        }\n      } else {\n        if (trigger.classList.contains(styleClass)) {\n          trigger.classList.remove(styleClass);\n        }\n      }\n    }\n    return {\n      mergedTheme,\n      triggerRef,\n      triggerInnerRef,\n      tooltipRef,\n      handleClick: handleClickRef,\n      renderTrigger,\n      getTooltipDisabled\n    };\n  },\n  render() {\n    var _a;\n    const {\n      tooltip,\n      renderTrigger,\n      $slots\n    } = this;\n    if (tooltip) {\n      const {\n        mergedTheme\n      } = this;\n      return h(NTooltip, Object.assign({\n        ref: \"tooltipRef\",\n        placement: \"top\"\n      }, tooltip, {\n        getDisabled: this.getTooltipDisabled,\n        theme: mergedTheme.peers.Tooltip,\n        themeOverrides: mergedTheme.peerOverrides.Tooltip\n      }), {\n        trigger: renderTrigger,\n        default: (_a = $slots.tooltip) !== null && _a !== void 0 ? _a : $slots.default\n      });\n    } else {\n      return renderTrigger();\n    }\n  }\n});","/**\n * @file 文本显示组件\n * @author Yangholmes 2025-04-29\n */\n\nimport { defineComponent, PropType, toRefs } from 'vue';\n\nexport default defineComponent({\n  name: 'Text',\n  props: {\n    text: {\n      type: [String, Number] as PropType<string | number>,\n      default: ''\n    },\n    placeholder: {\n      type: String as PropType<string>,\n      default: '-'\n    },\n  },\n  setup(props) {\n    const { text, placeholder } = toRefs(props);\n\n    const renderContent = () => {\n      const c = String(text.value);\n      if (c) {\n        return c;\n      }\n      return placeholder.value;\n    };\n\n    return () => renderContent();\n  }\n});\n\n","/**\n * @file 图书详情\n * @author Yangholmes 2025-03-30\n */\n\nimport { computed, defineComponent, PropType, toRefs } from 'vue';\nimport { I18nT, useI18n } from 'vue-i18n';\nimport cn from 'classnames';\n\nimport Text from '@/components/Text/Text';\n\nimport { NRate, NEllipsis, NImage } from 'naive-ui';\nimport { Book, getBookCover, listRender } from '../utils';\n\nimport styles from './bookDetails.module.less';\n\nexport default defineComponent({\n  name: 'BookDetails',\n  props: {\n    bookData: {\n      type: Object as PropType<Book>,\n      default: () => ({})\n    },\n    onRateChange: {\n      type: Function as PropType<(value: number) => void>\n    }\n  },\n  setup(props) {\n    const { bookData } = toRefs(props);\n\n    const { t } = useI18n({ useScope: 'global' });\n\n    const coverUrl = computed(() => {\n      const cover = bookData.value?.covers?.[0];\n      return getBookCover(cover, bookData.value?.title);\n    });\n\n    return () => (<div class={cn(styles['book-details'])}>\n      {/* 书名 */}\n      <h1>\n        {bookData.value?.title}\n      </h1>\n      {/* ISBN */}\n      <p>\n        {bookData.value?.isbn}\n      </p>\n      {/* 作者 */}\n      <p>\n        {t('pages.book.preview.detail.author')}：\n        {listRender(bookData.value?.authors, t('pages.book.preview.detail.noAuthor'), styles.item)}\n      </p>\n      {/* 评分 */}\n      <p>\n        <NRate value={bookData.value?.rating} allowHalf onUpdateValue={props.onRateChange} readonly />\n      </p>\n      {/* 封面 */}\n      <p>\n        <NImage\n          class={cn(styles['book-cover-image'])}\n          src={coverUrl.value}\n          renderToolbar={({ nodes }) => <>\n            {nodes.zoomIn}\n            {nodes.resizeToOriginalSize}\n            {nodes.zoomOut}\n          </>}\n        />\n      </p>\n\n      <h3>{t('pages.book.preview.detail.details')}</h3>\n      {/* 出版社 */}\n      <p>\n        {listRender(bookData.value?.publishers, t('pages.book.preview.detail.noPublisher'), styles.item)}\n      </p>\n      {/* 出版时间 */}\n      <p>\n        出版时间： <Text text={bookData.value?.publishDate} />\n      </p>\n      {/* 语言 */}\n      <p>\n        {listRender(bookData.value?.languages, t('pages.book.preview.detail.noLanguage'), styles.item)}\n      </p>\n      {/* 总页数 */}\n      <p>\n        <I18nT scope=\"global\" keypath=\"pages.book.preview.detail.numberOfPages.text\">\n          <Text text={bookData.value?.numberOfPages} placeholder={t('pages.book.preview.detail.numberOfPages.placeholder')} />\n        </I18nT>\n      </p>\n\n      {/* 标签 */}\n      <p>\n        {listRender(bookData.value?.tags, t('pages.book.preview.detail.noTags'), styles.item)}\n      </p>\n      {/* 分类 */}\n      <p>\n        {listRender(bookData.value?.subjects, t('pages.book.preview.detail.noSubject'), styles.item)}\n      </p>\n\n      {/* 简介 */}\n      <p>\n        <h3>{t('pages.book.preview.detail.summary')}</h3>\n        <div>\n          <NEllipsis\n            expandTrigger=\"click\"\n            lineClamp={5}\n            tooltip={false}\n          >\n            <Text text={bookData.value?.summary} />\n          </NEllipsis>\n        </div>\n      </p>\n\n      {/* 书架信息 */}\n      {\n        // TODO\n      }\n    </div>);\n  }\n});\n\n","/**\n * @file 重复图书图标\n * @author Yangholmes 2025-04-19\n */\n\nimport { computed, defineComponent, nextTick, ref, toRefs } from 'vue';\n\nimport cn from 'classnames';\n\nimport { getBookCover } from '../utils';\n\nimport styles from './duplicateBooksIcon.module.less';\n\nexport default defineComponent({\n  name: 'DuplicateBooksIcon',\n  props: {\n    cover: {\n      type: Blob,\n    },\n    title: {\n      type: String,\n    }\n  },\n  setup(props) {\n    const { cover, title } = toRefs(props);\n\n    const coverUrl = computed(() => {\n      return getBookCover(cover.value, title.value);\n    });\n\n    const flip = ref(false);\n\n    setTimeout(() => {\n      nextTick(() => {\n        flip.value = true;\n      });\n    }, 1e3);\n\n    return () => (\n      <div\n        class={cn(styles['duplicate-books-icon'], {\n          [styles.flip]: flip.value\n        })}\n        style={{\n          ['--background-image']: `url(${coverUrl.value})`,\n        }}\n      >{'⬜️'}</div>\n    );\n  }\n});\n","/**\n * @file 单个书架预览\n * @author Yangholmes 2025-04-20\n */\n\nimport { defineComponent, PropType, ref, toRefs, watch } from 'vue';\nimport Konva from 'konva';\nimport cn from 'classnames';\nimport { useI18n } from 'vue-i18n';\n\nimport { Bookcase } from '../utils';\nimport { rectOptions } from '../constants';\nimport db from '@/services/db';\n\nimport styles from './bookcasePreview.module.less';\n\nexport default defineComponent({\n  name: 'BookcasePreview',\n  props: {\n    bookcaseId: {\n      type: String,\n      required: false\n    },\n    selectedCellId: {\n      type: String,\n      required: false\n    },\n    isLocated: {\n      type: Boolean,\n      default: false\n    },\n    onSizeLoad: {\n      type: Function as PropType<((width: number, height: number) => void)>,\n      required: false\n    }\n  },\n  setup(props) {\n    const { bookcaseId, selectedCellId, isLocated } = toRefs(props);\n\n    const { t } = useI18n({ useScope: 'global' });\n\n    const bookcaseName = ref<string>();\n\n    watch(() => bookcaseId.value, newValue => {\n      if (newValue) {\n        db.bookcase.queryBookcaseById(newValue).then(res => {\n          if (res) {\n            init(res);\n            bookcaseName.value = res.name;\n          }\n        });\n      }\n    }, { immediate: true });\n\n    const image = ref<Blob>();\n\n    function init(bookcase: Bookcase) {\n      const { meta, cells } = bookcase;\n\n      const { unit, fill, fillSelected } = meta;\n\n      const cWidth = (meta.width * unit || 300) + 4;\n      const cHeight = (meta.height * unit || 300) + 4;\n\n      const stage = new Konva.Stage({\n        container: document.createElement('div'),\n        x: 2,\n        y: 2,\n        width: cWidth,\n        height: cHeight,\n        draggable: false,\n      });\n\n      const layer = new Konva.Layer();\n\n      stage.add(layer);\n\n      cells.forEach(c => {\n        const { from, to, id } = c;\n        const x = from[0] * unit;\n        const y = from[1] * unit;\n        const height = (to[1] - from[1]) * unit;\n        const width = (to[0] - from[0]) * unit;\n\n        const rect = new Konva.Rect({\n          y, x, width, height,\n          fill: id === selectedCellId.value ? fillSelected : fill,\n          cell: {\n            ...c\n          },\n          ...rectOptions\n        });\n        layer.add(rect);\n        layer.draw();\n      });\n\n      stage.toBlob({}).then((img) => {\n        image.value = img as Blob;\n      });\n    }\n\n    const onImageLoaded = (e: Event) => {\n      const self = e.target as HTMLImageElement;\n      const wrapper = self.parentElement?.parentElement as HTMLDivElement;\n      props.onSizeLoad?.(\n        wrapper.clientWidth,\n        wrapper.clientHeight\n      );\n    };\n\n    return () => (<div class={cn(styles['bookcase-preview-container'])}>\n      <div\n        class={cn(styles['bookcase-preview'])}\n      >\n        <img\n          class={cn(styles['bookcase-preview-image'])}\n          src={image.value && URL.createObjectURL(image.value)}\n          alt={bookcaseName.value}\n          onLoad={onImageLoaded}\n        />\n        <div>\n          <span>{bookcaseName.value}</span>\n          <span>{isLocated.value ? t('pages.bookcase.preview.current') : ''}</span>\n        </div>\n      </div>\n    </div>);\n  }\n});\n","/**\n * @file 书籍位置分布\n * @author Yangholmes 2025-04-19\n */\n\nimport { defineComponent, PropType, ref, watch } from 'vue';\nimport cn from 'classnames';\nimport useTRouter from '@/composite/useTRouter';\n\nimport BookcasePreview from '@/pages/bookcase/bookcasePreview/BookcasePreview';\n\nimport styles from './bookLocation.module.less';\n\nexport default defineComponent({\n  name: 'BookLocation',\n  props: {\n    bookcaseIds: {\n      type: Array as PropType<{\n        bookcaseId?: string;\n        cellId?: string;\n      }[]>,\n      default: () => []\n    }\n  },\n  setup(props) {\n    const { router } = useTRouter();\n    const heights = ref<number[]>([]);\n    const isLoaded = ref<boolean>(false);\n\n    const positions = ref<[number, number][]>([]);\n    const height = ref<number>(0);\n\n    watch(heights.value, (newH) => {\n      if (newH.filter(item => item !== undefined).length === props.bookcaseIds.length) {\n        isLoaded.value = true;\n        const p: [number, number][] = [];\n        const maxY = [0, 0];\n        for (let i = 0; i < newH.length; i++) {\n          if (maxY[0] <= maxY[1]) {\n            p.push([0, maxY[0]]);\n            maxY[0] += newH[i];\n          } else {\n            p.push([1, maxY[1]]);\n            maxY[1] += newH[i];\n          }\n        }\n        positions.value = p;\n        height.value = Math.max(...maxY);\n      }\n    });\n\n    return () => (<div\n      class={cn(styles['book-location'])}\n      style={{ height: `${height.value}px` }}\n    >\n      {props.bookcaseIds.map((bookcase, index) => {\n        const position = positions.value[index] || [0, 0];\n        const x = position[0] === 0 ? '0%' : '100%';\n        const y = position[1] + 'px';\n        return (\n          <div\n            class={cn(styles['preview-card'])}\n            style={{\n              visibility: isLoaded.value ? 'visible' : 'hidden',\n              transform: `translate(${x}, ${y})`\n            }}\n            onClick={() => {\n              router.push(`/cell/${bookcase.cellId}`);\n            }}\n          >\n            <BookcasePreview\n              key={bookcase.bookcaseId}\n              bookcaseId={bookcase.bookcaseId}\n              selectedCellId={bookcase.cellId}\n              onSizeLoad={(_, height) => {\n                heights.value[index] = height;\n              }}\n              isLocated={index === 0}\n            />\n          </div>\n        );\n      })}\n    </div>);\n  }\n});\n","/**\n * @file 预览书籍\n * @author Yangholmes 2025-03-21\n */\n\nimport { defineComponent, ref, watch } from 'vue';\nimport cn from 'classnames';\nimport { useI18n } from 'vue-i18n';\nimport useTRouter from '@/composite/useTRouter';\n\nimport BookDetails from './BookDetails';\nimport BasicTopBar from '@/pages/layout/BasicTopBar';\nimport BasicLayout from '@/pages/layout/BasicLayout';\nimport DuplicateBooksIcon from './DuplicateBooksIcon';\nimport DoubleDeckerContainer from '@/components/doubleDeckerContainer/DoubleDeckerContainer';\nimport DeckerLayout from '@/pages/layout/DeckerLayout';\nimport BookLocation from './BookLocation';\nimport SvgIcon from '@/components/svgIcon/SvgIcon';\n\nimport db from '@/services/db';\nimport { BookInCell, BookInCellRawCover } from '../utils';\n\nimport { NButton } from 'naive-ui';\n\nimport styles from './previewBook.module.less';\n\nexport default defineComponent({\n  name: 'PreviewBook',\n  setup() {\n    const { t } = useI18n({ useScope: 'global' });\n    const { route, router } = useTRouter();\n\n    const bookData = ref<BookInCell>();\n\n    // 相同 isbn 重复的书籍\n    const duplicateBooks = ref<BookInCellRawCover[]>([]);\n\n    watch(() => route.params, (params) => {\n      const { isbn, id } = params as any;\n\n      if (id) {\n        db.book.queryRelatedBooksByBookId(id).then((res) => {\n          if (res?.length) {\n            const [book, ...restBooks] = res;\n            bookData.value = book;\n            duplicateBooks.value = restBooks || [];\n          }\n        });\n      } else if (isbn) {\n        db.book.queryFirstBookByIsbn(isbn).then((res) => {\n          if (res?.length) {\n            const [book, ...restBooks] = res;\n            bookData.value = book;\n            duplicateBooks.value = restBooks || [];\n          }\n        });\n      }\n    }, {\n      immediate: true\n    });\n\n    function onEdit() {\n      const id = bookData.value?.id;\n      id && router.push({\n        path: `/book/edit/id/${id}`,\n        replace: true\n      });\n    }\n\n    const renderDefault = (go: () => void) => <div class={cn(styles['preview-book'])}>\n      <BasicLayout topBar={\n        (<BasicTopBar\n          rightSlots={[\n            duplicateBooks.value.length ? <NButton onClick={go}>\n              <DuplicateBooksIcon cover={bookData.value?.covers?.[0]} title={bookData.value?.title} />\n            </NButton> : <></>,\n            <NButton onClick={onEdit}>\n              {/* ✏️ */}\n              <SvgIcon name=\"pencil\" />\n            </NButton>\n          ]}\n        >\n          {bookData.value?.title || '-'}\n        </BasicTopBar>)\n      }>\n        <BookDetails bookData={bookData.value} />\n      </BasicLayout>\n    </div>;\n\n    const renderDecker = (back: () => void) => {\n      const bookcaseIds = [\n        bookData.value,\n        ...duplicateBooks.value\n      ].filter(book => !!book).map((book) => ({\n        bookcaseId: book.bookcaseId,\n        cellId: book.cellId\n      }));\n      return <DeckerLayout\n        topBar={<BasicTopBar\n          leftSlots={[<NButton\n            text\n            onClick={back}\n          >\n            {t('common.close')}\n          </NButton>]}\n        >\n          {t('pages.book.preview.decker.topbar.title')}\n        </BasicTopBar>}\n      >\n        <BookLocation bookcaseIds={bookcaseIds} />\n      </DeckerLayout>;\n    };\n\n    return () => <DoubleDeckerContainer>\n      {{\n        default: renderDefault,\n        decker: renderDecker\n      }}\n    </DoubleDeckerContainer>;\n  }\n});\n\n"],"names":["ellipsisLight","createTheme","commonLight","tooltipLight","style","cB","cNotM","cM","createLineClampClass","clsPrefix","createCursorClass","cursor","ellipsisProps","useTheme","NEllipsis","defineComponent","props","slots","attrs","mergedClsPrefixRef","useMergedClsPrefix","mergedTheme","triggerRef","ref","triggerInnerRef","tooltipRef","expandedRef","ellipsisStyleRef","computed","lineClamp","expanded","getTooltipDisabled","tooltipDisabled","trigger","syncEllipsisStyle","triggerInner","syncCursorStyle","handleClickRef","_a","onDeactivated","renderTrigger","h","mergeProps","latestStyle","lineClampClass","syncTriggerClass","key","cursorClass","styleClass","action","tooltip","$slots","NTooltip","name","text","type","String","Number","default","placeholder","setup","toRefs","renderContent","c","value","bookData","Object","onRateChange","Function","t","useI18n","useScope","coverUrl","cover","covers","getBookCover","title","_createVNode","cn","styles","isbn","_createTextVNode","listRender","authors","item","NRate","rating","NImage","renderToolbar","nodes","_Fragment","zoomIn","resizeToOriginalSize","zoomOut","publishers","Text","publishDate","languages","I18nT","numberOfPages","tags","subjects","summary","Blob","flip","setTimeout","nextTick","bookcaseId","required","selectedCellId","isLocated","Boolean","onSizeLoad","bookcaseName","watch","newValue","db","bookcase","queryBookcaseById","then","res","init","immediate","image","meta","cells","unit","fill","fillSelected","cWidth","width","cHeight","height","stage","Konva","Stage","container","document","createElement","x","y","draggable","layer","Layer","add","forEach","from","to","id","rect","Rect","cell","rectOptions","draw","toBlob","img","onImageLoaded","e","wrapper","self","target","parentElement","clientWidth","clientHeight","URL","createObjectURL","bookcaseIds","Array","router","useTRouter","heights","isLoaded","positions","newH","filter","undefined","length","p","maxY","i","push","Math","max","map","index","position","visibility","transform","onClick","cellId","BookcasePreview","_","_isSlot","s","prototype","toString","call","_isVNode","route","duplicateBooks","params","book","queryRelatedBooksByBookId","restBooks","queryFirstBookByIsbn","onEdit","path","replace","renderDefault","go","BasicLayout","BasicTopBar","NButton","DuplicateBooksIcon","SvgIcon","BookDetails","renderDecker","back","_slot","_slot2","DeckerLayout","BookLocation","DoubleDeckerContainer","decker"],"mappings":"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","x_google_ignoreList":[0,1,2]}