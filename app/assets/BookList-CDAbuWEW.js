import{d as q,r as y,w as j,o as J,g as Q,c as g,b as I,F as H,L as B,b1 as A,s as X,b2 as L,b3 as Y,t as Z,u as ee,S as $,e as te,i as se,a as ne}from"./index-CG3a7rsK.js";import{N as ie,g as oe}from"./utils-BFS3ofrN.js";import{N as le}from"./Popconfirm-f0N7jZku.js";function re(n){return new Worker("/app/assets/barcodeRecognize.worker-BKMDo8tU.js",{name:n==null?void 0:n.name})}const ae="_barcode_1skbc_1",ce={barcode:ae},Be=q({name:"Barcode",props:{onDevicesDetect:{type:Function},onBarcodeDetect:{type:Function}},setup(n){const r=y([]),e=y(),s=y(),t=y(!1),i=()=>navigator.mediaDevices.enumerateDevices().then(h=>{var b;console.log(h);const d=h.filter(p=>p.kind==="videoinput");return(b=n.onDevicesDetect)==null||b.call(n,d),r.value=d,d}),l=()=>{if(r.value.length===0)return Promise.reject(new Error("No video input devices found"));const h=r.value.length-1;navigator.mediaDevices.getUserMedia({video:{deviceId:r.value[h].deviceId}}).then(d=>{if(!e.value)return Promise.reject();s.value=d,e.value.srcObject=d,e.value.play(),e.value.onloadedmetadata=()=>{a()}}).catch(d=>{console.error("Error accessing the camera: "+d)})},o=y(null),a=()=>{var M;if(!e.value)return Promise.reject();const h=e.value.videoWidth,d=e.value.videoHeight,b=new OffscreenCanvas(640,640);b.width=h,b.height=d;const p=b==null?void 0:b.getContext("2d");if(p==null||p.drawImage(e.value,0,0),p&&o.value&&!t.value){const E=p.getImageData(0,0,h,d);(M=o.value)==null||M.postMessage(E,[E.data.buffer]),o.value.onmessage=_=>{var x;const{output:R,corners:T,result:f}=_.data;f&&(u.value=f,t.value||(t.value=!0,(x=n.onBarcodeDetect)==null||x.call(n,f).then(w=>{t.value=w})));const m=S.value;m&&(m.width=h,m.height=d);const v=m==null?void 0:m.getContext("2d");if(v){v.strokeStyle="red",v.lineWidth=2,v.beginPath(),v.moveTo(T[0],T[1]);for(let w=2;w<T.length;w+=2)v.lineTo(T[w],T[w+1]);v.closePath(),v.stroke()}a()}}},c=y();j(()=>t.value,h=>{h||(c.value=window.setTimeout(()=>{a()},1e3))});const u=y(""),S=y();return J(()=>{i().then(()=>{l()}),o.value=new re}),Q(()=>{var h;(h=o.value)==null||h.terminate(),o.value=null,s.value&&(s.value.getTracks().forEach(d=>{d.stop()}),s.value=void 0),e.value&&(e.value.pause(),e.value.srcObject=null),window.clearTimeout(c.value),c.value=void 0}),()=>g(H,null,[g("div",{class:I(ce.barcode)},[g("video",{ref:e},null),g("canvas",{ref:S},null)])])}});function O(n,r,e){let s=e.initialDeps??[],t;function i(){var l,o,a,c;let u;e.key&&((l=e.debug)!=null&&l.call(e))&&(u=Date.now());const S=n();if(!(S.length!==s.length||S.some((b,p)=>s[p]!==b)))return t;s=S;let d;if(e.key&&((o=e.debug)!=null&&o.call(e))&&(d=Date.now()),t=r(...S),e.key&&((a=e.debug)!=null&&a.call(e))){const b=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-d)*100)/100,M=p/16,E=(_,R)=>{for(_=String(_);_.length<R;)_=" "+_;return _};console.info(`%câ± ${E(p,5)} /${E(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*M,120))}deg 100% 31%);`,e==null?void 0:e.key)}return(c=e==null?void 0:e.onChange)==null||c.call(e,t),t}return i.updateDeps=l=>{s=l},i}function P(n,r){if(n===void 0)throw new Error("Unexpected undefined");return n}const ue=(n,r)=>Math.abs(n-r)<1,he=(n,r,e)=>{let s;return function(...t){n.clearTimeout(s),s=n.setTimeout(()=>r.apply(this,t),e)}},de=n=>n,fe=n=>{const r=Math.max(n.startIndex-n.overscan,0),e=Math.min(n.endIndex+n.overscan,n.count-1),s=[];for(let t=r;t<=e;t++)s.push(t);return s},me=(n,r)=>{const e=n.scrollElement;if(!e)return;const s=n.targetWindow;if(!s)return;const t=l=>{const{width:o,height:a}=l;r({width:Math.round(o),height:Math.round(a)})};if(t(e.getBoundingClientRect()),!s.ResizeObserver)return()=>{};const i=new s.ResizeObserver(l=>{const o=()=>{const a=l[0];if(a!=null&&a.borderBoxSize){const c=a.borderBoxSize[0];if(c){t({width:c.inlineSize,height:c.blockSize});return}}t(e.getBoundingClientRect())};n.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return i.observe(e,{box:"border-box"}),()=>{i.unobserve(e)}},U={passive:!0},K=typeof window>"u"?!0:"onscrollend"in window,ve=(n,r)=>{const e=n.scrollElement;if(!e)return;const s=n.targetWindow;if(!s)return;let t=0;const i=n.options.useScrollendEvent&&K?()=>{}:he(s,()=>{r(t,!1)},n.options.isScrollingResetDelay),l=u=>()=>{const{horizontal:S,isRtl:h}=n.options;t=S?e.scrollLeft*(h&&-1||1):e.scrollTop,i(),r(t,u)},o=l(!0),a=l(!1);a(),e.addEventListener("scroll",o,U);const c=n.options.useScrollendEvent&&K;return c&&e.addEventListener("scrollend",a,U),()=>{e.removeEventListener("scroll",o),c&&e.removeEventListener("scrollend",a)}},ge=(n,r,e)=>{if(r!=null&&r.borderBoxSize){const s=r.borderBoxSize[0];if(s)return Math.round(s[e.options.horizontal?"inlineSize":"blockSize"])}return Math.round(n.getBoundingClientRect()[e.options.horizontal?"width":"height"])},be=(n,{adjustments:r=0,behavior:e},s)=>{var t,i;const l=n+r;(i=(t=s.scrollElement)==null?void 0:t.scrollTo)==null||i.call(t,{[s.options.horizontal?"left":"top"]:l,behavior:e})};class pe{constructor(r){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let e=null;const s=()=>e||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:e=new this.targetWindow.ResizeObserver(t=>{t.forEach(i=>{const l=()=>{this._measureElement(i.target,i)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(l):l()})}));return{disconnect:()=>{var t;(t=s())==null||t.disconnect(),e=null},observe:t=>{var i;return(i=s())==null?void 0:i.observe(t,{box:"border-box"})},unobserve:t=>{var i;return(i=s())==null?void 0:i.unobserve(t)}}})(),this.range=null,this.setOptions=e=>{Object.entries(e).forEach(([s,t])=>{typeof t>"u"&&delete e[s]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:de,rangeExtractor:fe,onChange:()=>{},measureElement:ge,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...e}},this.notify=e=>{var s,t;(t=(s=this.options).onChange)==null||t.call(s,this,e)},this.maybeNotify=O(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),e=>{this.notify(e)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(e=>e()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var e;const s=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==s){if(this.cleanup(),!s){this.maybeNotify();return}this.scrollElement=s,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((e=this.scrollElement)==null?void 0:e.window)??null,this.elementsCache.forEach(t=>{this.observer.observe(t)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,t=>{this.scrollRect=t,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(t,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<t?"forward":"backward":null,this.scrollOffset=t,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(e,s)=>{const t=new Map,i=new Map;for(let l=s-1;l>=0;l--){const o=e[l];if(t.has(o.lane))continue;const a=i.get(o.lane);if(a==null||o.end>a.end?i.set(o.lane,o):o.end<a.end&&t.set(o.lane,!0),t.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,o)=>l.end===o.end?l.index-o.index:l.end-o.end)[0]:void 0},this.getMeasurementOptions=O(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(e,s,t,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:e,paddingStart:s,scrollMargin:t,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=O(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:e,paddingStart:s,scrollMargin:t,getItemKey:i,enabled:l},o)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const a=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,a);for(let u=a;u<e;u++){const S=i(u),h=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),d=h?h.end+this.options.gap:s+t,b=o.get(S),p=typeof b=="number"?b:this.options.estimateSize(u),M=d+p,E=h?h.lane:u%this.options.lanes;c[u]={index:u,start:d,size:p,end:M,key:S,lane:E}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=O(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(e,s,t,i)=>this.range=e.length>0&&s>0?we({measurements:e,outerSize:s,scrollOffset:t,lanes:i}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=O(()=>{let e=null,s=null;const t=this.calculateRange();return t&&(e=t.startIndex,s=t.endIndex),this.maybeNotify.updateDeps([this.isScrolling,e,s]),[this.options.rangeExtractor,this.options.overscan,this.options.count,e,s]},(e,s,t,i,l)=>i===null||l===null?[]:e({startIndex:i,endIndex:l,overscan:s,count:t}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=e=>{const s=this.options.indexAttribute,t=e.getAttribute(s);return t?parseInt(t,10):(console.warn(`Missing attribute name '${s}={index}' on measured element.`),-1)},this._measureElement=(e,s)=>{const t=this.indexFromElement(e),i=this.measurementsCache[t];if(!i)return;const l=i.key,o=this.elementsCache.get(l);o!==e&&(o&&this.observer.unobserve(o),this.observer.observe(e),this.elementsCache.set(l,e)),e.isConnected&&this.resizeItem(t,this.options.measureElement(e,s,this))},this.resizeItem=(e,s)=>{const t=this.measurementsCache[e];if(!t)return;const i=this.itemSizeCache.get(t.key)??t.size,l=s-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(t,l,this):t.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(t.index),this.itemSizeCache=new Map(this.itemSizeCache.set(t.key,s)),this.notify(!1))},this.measureElement=e=>{if(!e){this.elementsCache.forEach((s,t)=>{s.isConnected||(this.observer.unobserve(s),this.elementsCache.delete(t))});return}this._measureElement(e,void 0)},this.getVirtualItems=O(()=>[this.getVirtualIndexes(),this.getMeasurements()],(e,s)=>{const t=[];for(let i=0,l=e.length;i<l;i++){const o=e[i],a=s[o];t.push(a)}return t},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=e=>{const s=this.getMeasurements();if(s.length!==0)return P(s[G(0,s.length-1,t=>P(s[t]).start,e)])},this.getOffsetForAlignment=(e,s,t=0)=>{const i=this.getSize(),l=this.getScrollOffset();s==="auto"&&(s=e>=l+i?"end":"start"),s==="center"?e+=(t-i)/2:s==="end"&&(e-=i);const o=this.options.horizontal?"scrollWidth":"scrollHeight",c=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[o]:this.scrollElement[o]:0)-i;return Math.max(Math.min(c,e),0)},this.getOffsetForIndex=(e,s="auto")=>{e=Math.max(0,Math.min(e,this.options.count-1));const t=this.measurementsCache[e];if(!t)return;const i=this.getSize(),l=this.getScrollOffset();if(s==="auto")if(t.end>=l+i-this.options.scrollPaddingEnd)s="end";else if(t.start<=l+this.options.scrollPaddingStart)s="start";else return[l,s];const o=s==="end"?t.end+this.options.scrollPaddingEnd:t.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,s,t.size),s]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(e,{align:s="start",behavior:t}={})=>{this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(e,s),{adjustments:void 0,behavior:t})},this.scrollToIndex=(e,{align:s="auto",behavior:t}={})=>{e=Math.max(0,Math.min(e,this.options.count-1)),this.cancelScrollToIndex(),t==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(e,s);if(!i)return;const[l,o]=i;this._scrollToOffset(l,{adjustments:void 0,behavior:t}),t!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(e))){const[c]=P(this.getOffsetForIndex(e,o));ue(c,this.getScrollOffset())||this.scrollToIndex(e,{align:o,behavior:t})}else this.scrollToIndex(e,{align:o,behavior:t})}))},this.scrollBy=(e,{behavior:s}={})=>{this.cancelScrollToIndex(),s==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+e,{adjustments:void 0,behavior:s})},this.getTotalSize=()=>{var e;const s=this.getMeasurements();let t;if(s.length===0)t=this.options.paddingStart;else if(this.options.lanes===1)t=((e=s[s.length-1])==null?void 0:e.end)??0;else{const i=Array(this.options.lanes).fill(null);let l=s.length-1;for(;l>=0&&i.some(o=>o===null);){const o=s[l];i[o.lane]===null&&(i[o.lane]=o.end),l--}t=Math.max(...i.filter(o=>o!==null))}return Math.max(t-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(e,{adjustments:s,behavior:t})=>{this.options.scrollToFn(e,{behavior:t,adjustments:s},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(r)}}const G=(n,r,e,s)=>{for(;n<=r;){const t=(n+r)/2|0,i=e(t);if(i<s)n=t+1;else if(i>s)r=t-1;else return t}return n>0?n-1:0};function we({measurements:n,outerSize:r,scrollOffset:e,lanes:s}){const t=n.length-1,i=a=>n[a].start;if(n.length<=s)return{startIndex:0,endIndex:t};let l=G(0,t,i,e),o=l;if(s===1)for(;o<t&&n[o].end<e+r;)o++;else if(s>1){const a=Array(s).fill(0);for(;o<t&&a.some(u=>u<e+r);){const u=n[o];a[u.lane]=u.end,o++}const c=Array(s).fill(e+r);for(;l>=0&&c.some(u=>u>=e);){const u=n[l];c[u.lane]=u.start,l--}l=Math.max(0,l-l%s),o=Math.min(t,o+(s-1-o%s))}return{startIndex:l,endIndex:o}}function xe(n){const r=new pe(A(n)),e=X(r),s=r._didMount();return j(()=>A(n).getScrollElement(),t=>{t&&r._willUpdate()},{immediate:!0}),j(()=>A(n),t=>{r.setOptions({...t,onChange:(i,l)=>{var o;L(e),(o=t.onChange)==null||o.call(t,i,l)}}),r._willUpdate(),L(e)},{immediate:!0}),Y(s),e}function ye(n){return xe(B(()=>({observeElementRect:me,observeElementOffset:ve,scrollToFn:be,...A(n)})))}const Se="_book_1l4sm_1",ke="_mask_1l4sm_24",Ie="_tools_1l4sm_36",_e="_tool_1l4sm_36",ze="_picked_1l4sm_59",Me="_info_1l4sm_66",Ee="_cover_1l4sm_70",Te="_abstract_1l4sm_80",Ce="_title_1l4sm_96",k={"book-list":"_book-list_1l4sm_1","virtual-list":"_virtual-list_1l4sm_10",book:Se,mask:ke,tools:Ie,tool:_e,picked:ze,info:Me,cover:Ee,abstract:Te,"full-text":"_full-text_1l4sm_88",title:Ce};function Oe(n){return typeof n=="function"||Object.prototype.toString.call(n)==="[object Object]"&&!se(n)}const Ae=q({name:"BookList",props:{data:{type:Array,default:()=>[]},onPreviewBook:{type:Function},onEditBook:{type:Function},onDeleteBook:{type:Function}},setup(n){const{data:r}=Z(n),{t:e}=ee({useScope:"global"}),s=y([]);j(()=>r.value,f=>{ne.book.queryCoversById(f.map(m=>m.covers[0]||"")).then(m=>{s.value=m.map((v,x)=>oe(v==null?void 0:v.file,f[x].title))})},{immediate:!0});const t=y(),i=y(!1),l=y(),o=()=>{t.value=void 0,i.value=!1,window.clearTimeout(l.value),l.value=void 0,d.value=!1,h.value=[-999,-999]},a=f=>{var C,D,F,z;if(f.touches.length!==1||((D=(C=f.target)==null?void 0:C.dataset)==null?void 0:D.target)==="tools")return;const v=((z=(F=f.target)==null?void 0:F.dataset)==null?void 0:z.index)||"",x=Number.parseInt(v,10);i.value||t.value!==void 0?o():Number.isNaN(x)||(i.value=!0,l.value=window.setTimeout(()=>{i.value?(i.value=!1,t.value=x):c()},500))},c=()=>{t.value===void 0&&i.value&&o()},u=()=>{c()},S=()=>{c()},h=y([-999,-999]),d=y(!1),b=[{name:"preview",icon:"ðŸ‘€ï¸",cb:()=>{var f;if(t.value!==void 0){const m=r.value[t.value];(f=n.onPreviewBook)==null||f.call(n,m)}o()}},{name:"edit",icon:g($,{name:"pencil"},null),cb:()=>{var f;if(t.value!==void 0){const m=r.value[t.value];(f=n.onEditBook)==null||f.call(n,m)}o()}},{name:"delete",icon:g($,{name:"delete"},null),cb:f=>{const{x:m,y:v}=f;h.value=[m,v],d.value=!0}}],p=f=>{var x,w;const m=(w=(x=f.target)==null?void 0:x.dataset)==null?void 0:w.tool,v=b.find(C=>C.name===m);v&&v.cb(f)},M=y(null),E=B(()=>({count:r.value.length,getScrollElement:()=>M.value,estimateSize:()=>120,overscan:3,gap:16})),_=ye(E),R=B(()=>_.value.getVirtualItems()),T=B(()=>_.value.getTotalSize());return()=>{var m,v;let f;return g(H,null,[g("div",{class:I(k["book-list"]),ref:M,onTouchstart:a,onTouchmove:c,onTouchend:u,onTouchcancel:S,onClick:p},[g("div",{class:I(k["virtual-list"]),style:{"--list-height":`${T.value}px`}},[R.value.map(x=>{var W,N;const{index:w,key:C,size:D,start:F}=x,z=r.value[w];return g("div",{class:I(k.book),key:String(C),style:{"--book-height":`${D}px`,"--book-start":`${F}px`}},[g("div",{class:I(k.mask,{[k.picked]:t.value===w}),"data-index":w},[g("div",{class:I(k.tools)},[b.map(V=>g("div",{class:I(k.tool),"data-target":"tools","data-tool":V.name},[V.icon]))])]),g("div",{class:I(k.info)},[g("div",{class:I(k.cover),style:{backgroundImage:`url(${s.value[w]})`}},null),g("div",{class:I(k.abstract)},[g("div",{class:I(k["full-text"],k.title)},[z.title]),g("div",{class:I(k["full-text"])},[z.authors?(W=z.authors)==null?void 0:W.join(" / "):e("pages.cell.bookList.unknownAuthor")]),g("div",{class:I(k["full-text"])},[z.publishers?(N=z.publishers)==null?void 0:N.join(" / "):e("pages.cell.bookList.unknownPublisher")]),g("div",null,[te("isbn: "),z.isbn]),g(ie,{count:5,value:z.rating,readonly:!0,size:"small"},null)])])])})])]),g(le,{showIcon:!1,placement:"left-end",trigger:"manual",positiveText:e("common.delete"),negativeText:e("common.forgetIt"),"positive-button-props":{type:"error"},onPositiveClick:()=>{var x;if(t.value!==void 0){const w=r.value[t.value];(x=n.onDeleteBook)==null||x.call(n,w)}o()},onNegativeClick:()=>{d.value=!1},onClickoutside:()=>{d.value=!1},x:(m=h.value)==null?void 0:m[0],y:(v=h.value)==null?void 0:v[1],show:d.value},Oe(f=e("common.deleteConfirm"))?f:{default:()=>[f]})])}}});export{Be as B,Ae as a};
